"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[2360],{32360:function(n,e,t){t.r(e);var o,i,l,d,r,c=t(30168),s=t(29439),a=t(72791),u=t(57621),h=t(39504),x=t(1582),f=t(20890),j=t(64554),v=t(27301),p=t(17939),b=t(72426),m=t.n(b),Z=t(77159),g=t(95173),w=t(55294),y=t(59434),k=t(88447),D=t(40071),Y=t(24518),C=t(56960),S=t(16856),A=t(80184),M=p.ZP.div(o||(o=(0,c.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]))),z=p.ZP.button(i||(i=(0,c.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"])),v.Lr),q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},I=p.ZP.div(l||(l=(0,c.Z)(["\n    ","\n"])),(0,g.qD)({width:"95% !important"})),P=p.ZP.div(d||(d=(0,c.Z)(["\n    display: flex;\n    justify-content: end;\n    ","\n"])),(0,g.qD)({justifyContent:"center"})),Q=p.ZP.div(r||(r=(0,c.Z)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n            text-align: center;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }"])),v.Lr);e.default=function(){var n,e=(0,y.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.student)||void 0===e?void 0:e.student})),t="SIRTQI"===(null===(n=e.groupData)||void 0===n?void 0:n.educationTypeName),o=(0,a.useState)([]),i=(0,s.Z)(o,2),l=i[0],d=i[1],r=(0,a.useState)([]),c=(0,s.Z)(r,2),p=c[0],b=c[1],g=(0,a.useState)(!1),_=(0,s.Z)(g,2),F=(_[0],_[1]),H=(0,a.useState)(!1),N=(0,s.Z)(H,2),W=N[0],L=N[1],T=(0,v.wU)().headers,E=function(){F(!0),w.Z.get(v._n+"/queue/getAllStudentQueues/".concat(e.id),{headers:T}).then((function(n){console.log(n.data.obj),b(n.data.obj[0])})).catch((function(n){console.log(n)})).finally((function(){F(!1)}))},O=function(){w.Z.get(v._n+"/queue/findAllQueuesOfTodayForDean",{headers:T}).then((function(n){console.log(n),d(n.data.obj.sort((function(n,e){return n.number>e.number?1:n.number<e.number?-1:0})))})).catch((function(n){console.log(n)}))};(0,a.useEffect)((function(){E(),O()}),[]);var R=function(){L(!1)};return t?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(P,{children:m()().format("DD.MM.YYYY")===m()(null===p||void 0===p?void 0:p.createdAt).format("DD.MM.YYYY")&&(null===p||void 0===p?void 0:p.number)&&(0,A.jsx)(u.Z,{sx:{width:"320px",mt:3},children:(0,A.jsx)(h.Z,{sx:{pb:"16px !important"},children:(0,A.jsxs)(j.Z,{sx:{color:v.Lr},children:[(0,A.jsxs)(f.Z,{fontWeight:"bold",fontSize:20,children:["Queue : ",null===p||void 0===p?void 0:p.number]}),(0,A.jsxs)(f.Z,{fontWeight:"bold",fontSize:20,children:["Status : ",null===p||void 0===p?void 0:p.status]}),(0,A.jsxs)(f.Z,{fontWeight:"bold",fontSize:20,children:["Create date :",m()(null===p||void 0===p?void 0:p.createdAt).format("DD.MM.YYYY HH:mm")]})]})})})}),(0,A.jsx)(u.Z,{sx:{mt:3},children:(0,A.jsxs)(h.Z,{children:[(0,A.jsx)(x.Z,{mt:1,direction:"row",justifyContent:"end",children:(0,A.jsx)(Y.Z,{onClick:function(){return L(!0)},variant:"contained",color:"success",endIcon:(0,A.jsx)(S.jCV,{}),children:"Apply"})}),(0,A.jsx)(Q,{children:(0,A.jsxs)("table",{children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{style:{width:"100px"},children:"\u2116"}),(0,A.jsx)("th",{children:"Full name"}),(0,A.jsx)("th",{style:{width:"250px"},children:" Date of creation"}),(0,A.jsx)("th",{style:{width:"250px"},children:" Status"})]})}),(0,A.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((function(n){var t,o;return(0,A.jsxs)("tr",{style:{background:e.fullName===(null===n||void 0===n||null===(t=n.studentData)||void 0===t?void 0:t.fullName)&&"#e7e7e7"},children:[(0,A.jsx)("td",{children:null===n||void 0===n?void 0:n.number}),(0,A.jsx)("td",{children:null===n||void 0===n||null===(o=n.studentData)||void 0===o?void 0:o.fullName}),(0,A.jsx)("td",{children:m()(null===n||void 0===n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")}),(0,A.jsx)("td",{children:null===n||void 0===n?void 0:n.status})]},null===n||void 0===n?void 0:n.id)}))})]})}),0===(null===l||void 0===l?void 0:l.length)&&(0,A.jsx)(j.Z,{children:(0,A.jsx)(Z.Z,{w:200,h:180})})]})}),(0,A.jsx)(k.Z,{open:W,onClose:R,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,A.jsxs)(j.Z,{sx:q,component:I,children:[(0,A.jsxs)(M,{children:[(0,A.jsx)("h5",{}),(0,A.jsxs)(z,{onClick:R,children:[" ",(0,A.jsx)(D.bjh,{size:22})]})]}),(0,A.jsxs)(j.Z,{children:[(0,A.jsx)(x.Z,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,A.jsx)(f.Z,{variant:"h6",color:"black",children:"Do you want to meet with the dean?"})}),(0,A.jsxs)(x.Z,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,A.jsx)(Y.Z,{variant:"outlined",onClick:R,children:"Cancel"}),(0,A.jsx)(Y.Z,{variant:"contained",onClick:function(){w.Z.post(v._n+"/queue/createQueue",{},{headers:T}).then((function(n){console.log(n.data),E(),O(),L(!1),C.Am.success("Successfully created")})).catch((function(n){console.log(n),C.Am.error("Error creating")}))},children:"Ok"})]})]})]})})]}):(0,A.jsx)(u.Z,{sx:{mt:3},children:(0,A.jsx)(h.Z,{children:(0,A.jsx)(f.Z,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})}}}]);
//# sourceMappingURL=2360.0af4992e.chunk.js.map