"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[9234],{10148:function(n,e,t){t.d(e,{Z:function(){return S}});var i,s,r=t(30168),o=t(29439),l=t(72791),d=t(55294),a=t(27301),c=t(15861),u=t(64687),f=t.n(u),x=t(8532),p=t(72426),h=t.n(p),v=t(2295),m=t(13239),j=t(24518),g=t(16856),b=t(22057),y=t(17939),Z=t(80184),N=y.ZP.div(i||(i=(0,r.Z)(["\n    width: 640px;\n    margin: 0 auto;\n    font-size: 15px;\n    padding: 10px;\n    color: black;\n    line-height: 1.5;\n\n    p{\n        margin: 0;\n        padding:0;\n    }\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    .date {\n        padding: 0 25px;\n        margin: 10px 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .date_text {\n        font-size: 12px;\n    }\n\n\n    .app_number {\n        padding: 0 25px;\n        margin: 0;\n        display: flex;\n        justify-content: flex-start;\n    }\n\n    .core_title {\n        text-align: center;\n        margin-top: 20px;\n        font-weight: 500;\n    }\n\n    .item {\n        margin-top: 15px;\n        padding-left: 20px;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n    }\n\n    .info {\n        width: 40%;\n    }\n\n    .info2 {\n        width: 60%;\n    }\n\n    .info_text {\n        margin-top: 15px;\n        padding: 0 20px;\n        line-height: 1.5;\n        text-align: justify;\n    }\n\n    .given_text {\n        padding-bottom: 20px;\n        margin-top: 20px;\n        margin-bottom: 10px;\n        border-bottom: 1px solid #000;\n    }\n\n    .footer {\n        margin-top: 25px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n    }\n\n    .flex_footer {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    \n\n    .qr_code_box {\n        margin-top: 25px;\n    }\n\n"]))),w=function(n){var e=n.contentPdf,t=(0,l.useState)(!1),i=(0,o.Z)(t,2),s=i[0],r=i[1],d=(0,l.useRef)(null),a=window.location.origin+"/file/services/reference/"+(null===e||void 0===e?void 0:e.id),u=function(){var n=(0,c.Z)(f().mark((function n(){var e,t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0),e=d.current,t={margin:10,filename:"certificateOfStudentStatus".concat((new Date).getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},n.next=5,(0,v.Z)().set(t).from(e).save();case 5:r(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[s?(0,Z.jsx)(j.Z,{size:"small",variant:"outlined",endIcon:(0,Z.jsx)(m.Z,{size:18}),children:"download"}):(0,Z.jsx)(j.Z,{size:"small",variant:"contained",endIcon:(0,Z.jsx)(g.qm7,{size:22}),onClick:u,children:"download"}),(0,Z.jsx)("div",{style:{display:"none"},children:(0,Z.jsxs)(N,{ref:d,children:[(0,Z.jsxs)("div",{className:"header",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("img",{width:140,src:x,alt:"logo"})}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,Z.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]}),(0,Z.jsx)("br",{})," ",(0,Z.jsx)("br",{}),(0,Z.jsx)("i",{style:{fontSize:"14px"},children:"100121, Toshkent shahri, Yakkasaroy tumani, Usmon Nosir ko`chasi, 156 uy. Tel.: +998781294040. Veb-sayt: www.kiut.uz. Elektron pochta: info@kiut.uz"})]})]}),(0,Z.jsxs)("div",{className:"date",children:[(0,Z.jsxs)("p",{children:["\u2116:",null===e||void 0===e?void 0:e.id]}),(0,Z.jsx)("p",{children:h()(null===e||void 0===e?void 0:e.time).format("DD.MM.YYYY")})]}),(0,Z.jsx)("div",{className:"app_number",children:(0,Z.jsxs)("p",{children:["Application number: ",null===e||void 0===e?void 0:e.numeration]})}),(0,Z.jsx)("p",{className:"core_title",children:"CERTIFICATE OF STUDENT STATUS"}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Full Name:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.fullName})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Passport Number:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.passport})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Major:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.direction})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Grade:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.grade})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Language of Instruction:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.eduLang})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Mode of Study:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.eduType})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Length of Study:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.lengthOfStudying})]}),(0,Z.jsxs)("div",{className:"item",children:[(0,Z.jsx)("p",{className:"info",children:"Remark: Rector\u2019s order:"}),(0,Z.jsx)("p",{className:"info2",children:null===e||void 0===e?void 0:e.rektororder})]}),(0,Z.jsx)("p",{className:"info_text",children:"Additional information: Kimyo international University in Tashkent provides educational services in the field of higher education based on state license No044527 dated on 21.10.2022 issued by the State Inspectorate for Supervision of Quality in Education under the Cabinet of Ministers of the Republic of Uzbekistan and the Decree of the Cabinet Ministers of the Republic of Uzbekistan No.1007 dated on 17.12.2019."}),(0,Z.jsx)("p",{className:"given_text",children:"This Certificate of student status is given to:"}),(0,Z.jsxs)("div",{className:"flex_footer",children:[(0,Z.jsx)("div",{className:"footer",children:(0,Z.jsxs)("p",{children:["Course leader:  ",null===e||void 0===e?void 0:e.dean]})}),(0,Z.jsx)("div",{className:"qr_code_box",children:(0,Z.jsx)(b.ZP,{value:a,size:120})})]})]})})]})};function k(n){var e=n.id,t=(0,l.useState)(null),i=(0,o.Z)(t,2),s=i[0],r=i[1];return(0,l.useEffect)((function(){d.Z.get(a._n+"/student/getDataForStudentReference2/".concat(e)).then((function(n){console.log(n,"----reference info-----"),r(n.data.obj)})).catch((function(n){console.log(n)}))}),[]),(0,Z.jsx)(I,{children:s&&(0,Z.jsx)(w,{contentPdf:s})})}var I=y.ZP.div(s||(s=(0,r.Z)(["\n\n"]))),S=(0,l.memo)(k)},49234:function(n,e,t){t.r(e),t.d(e,{default:function(){return V}});var i,s,r,o=t(30168),l=t(1413),d=t(15861),a=t(29439),c=t(64687),u=t.n(c),f=t(72791),x=t(17939),p=t(57621),h=t(39504),v=t(1582),m=t(27301),j=t(24518),g=t(16856),b=t(20890),y=t(64554),Z=t(88447),N=t(13400),w=t(85880),k=t(30829),I=t(84638),S=t(68096),_=t(58406),C=t(48550),T=t(39126),E=t(55294),z=t(59434),R=t(76760),A=t(56960),O=t(72426),Y=t.n(O),D=t(10148),F=t(77159),M=t(70001),P=t(80184),U=function(){var n=(0,z.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.student)||void 0===e?void 0:e.student}))||null,e=(0,f.useState)(null),t=(0,a.Z)(e,2),i=t[0],s=t[1];return(0,f.useEffect)((function(){E.Z.get(m._n+"/notificationOuter/getStudentOuterNotifications/".concat(n.id)).then((function(n){var e;s(n.data.obj[(null===(e=n.data.obj)||void 0===e?void 0:e.length)-1])})).catch((function(n){console.log(n)}))}),[]),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(M.Z,{data:i,studentData:n})})},L=(0,f.memo)(U),q=(t(2295),t(8532),t(22057),x.ZP.div(i||(i=(0,o.Z)(["\n    width: 640px;\n    margin: 0 auto;\n    font-size: 15px;\n    padding: 10px;\n    color: black;\n    line-height: 1.5;\n\n    .fw {\n        font-weight: bold;\n    }\n\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    .date_box {\n        margin-top: 15px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .item_1 {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n    }\n\n    .text_notice {\n        text-align: justify;\n        text-indent: 30px;\n        font-size: 15px;\n\n    }\n\n    .edu_box {\n        padding: 0 30px;\n        display: flex;\n        gap: 100px;\n        align-items: center;\n    }\n\n"]))),x.ZP.div(s||(s=(0,o.Z)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"])),m.Lr)),K=x.ZP.div(r||(r=(0,o.Z)(["\n    display: flex;\n    justify-content: space-between;\n    gap: 10px;\n    align-items: center;\n"]))),H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#fff",boxShadow:24,p:3,borderRadius:1},V=function(){var n=(0,f.useState)(!1),e=(0,a.Z)(n,2),t=e[0],i=e[1],s=(0,f.useState)({studentId:null,deanId:null,educationYearId:null,description:null,type:null}),r=(0,a.Z)(s,2),o=r[0],c=r[1],x=(0,f.useState)([]),O=(0,a.Z)(x,2),M=O[0],U=O[1],V=function(){return i(!1)},Q=(0,z.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.educationYear)||void 0===e?void 0:e.educationYear}))||null,J=(0,z.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.student)||void 0===e?void 0:e.student}))||null,W=(0,z.I0)(),G=(0,m.wU)().headers,X=(0,f.useState)(!0),B=(0,a.Z)(X,2),$=B[0],nn=B[1],en=(0,f.useState)([]),tn=(0,a.Z)(en,2),sn=tn[0],rn=tn[1],on=function(){var n=(0,d.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.get("".concat(m._n,"/reference/checkPreference?studentId=").concat(J.id)).then((function(n){var e;console.log(n,"chekkk"),null!==(e=n.data)&&void 0!==e&&e.success?i(!0):A.Am.warning("File exist")})).catch((function(n){console.log(n),A.Am.error("Error")}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ln=function(){var n=(0,d.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.get(m._n+"/education/educationYearsForSelected",{headers:G}).then((function(n){var e,t;W((0,R.eD)(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.obj)||void 0===t?void 0:t[0]))})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),dn=function(){var n=(0,d.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.get("".concat(m._n,"/reference/getTypesOfReference")).then((function(n){var e;U(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj)})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,f.useEffect)((function(){ln(),dn()}),[]);var an=function(){var n=(0,d.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.post("".concat(m._n,"/reference/create"),(0,l.Z)((0,l.Z)({},o),{},{studentId:null===J||void 0===J?void 0:J.id,deanId:null===J||void 0===J?void 0:J.deanId,educationYearId:null===Q||void 0===Q?void 0:Q.id}),{headers:G}).then((function(n){var e;V(),A.Am.success(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.message)})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),cn=function(){var n=(0,d.Z)(u().mark((function n(e){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),n.t0=(null===o||void 0===o?void 0:o.description)&&(null===o||void 0===o?void 0:o.type),!n.t0){n.next=5;break}return n.next=5,an();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,f.useEffect)((function(){if(!$){var n=new EventSource(m._n+"/reference/stream?userId="+(null===J||void 0===J?void 0:J.id)+"&bool=false");return n.addEventListener("reference-list-event",(function(n){var e=JSON.parse(n.data);rn(e)})),n.onerror=function(){n.close()},function(){n.close()}}}),[$]),(0,f.useEffect)((function(){(null===J||void 0===J?void 0:J.id)&&nn(!1)}),[J]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.Z,{sx:{mt:3},children:(0,P.jsxs)(h.Z,{children:[(0,P.jsx)(v.Z,{mt:1,direction:"row",justifyContent:"end",children:(0,P.jsx)(j.Z,{onClick:function(){return on()},variant:"contained",color:"success",endIcon:(0,P.jsx)(g.jCV,{}),children:"Apply"})}),(0,P.jsx)(q,{children:(0,P.jsxs)("table",{children:[(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)("th",{children:"\u2116"}),(0,P.jsx)("th",{children:"Type"}),(0,P.jsx)("th",{children:"Date"}),(0,P.jsx)("th",{children:"Description"}),(0,P.jsx)("th",{children:"Status"}),(0,P.jsx)("th",{children:"File"})]})}),(0,P.jsx)("tbody",{children:sn.length>0&&(null===sn||void 0===sn?void 0:sn.map((function(n,e){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{textAlign:"center"},children:e+1}),(0,P.jsx)("td",{children:null===n||void 0===n?void 0:n.type}),(0,P.jsx)("td",{children:Y()(new Date(null===n||void 0===n?void 0:n.createdAt)).format("DD-MM-YYYY HH:mm:ss")}),(0,P.jsx)("td",{children:null===n||void 0===n?void 0:n.description}),(0,P.jsx)("td",{children:(0,P.jsx)(v.Z,{direction:"row",justifyContent:"center",children:(0,P.jsx)(j.Z,{size:"small",variant:"contained",color:"AT_PROCESS"===(null===n||void 0===n?void 0:n.status)?"warning":"CONFIRM"===(null===n||void 0===n?void 0:n.status)?"success":"REJECT"===(null===n||void 0===n?void 0:n.status)?"error":"default",children:null===n||void 0===n?void 0:n.status})})}),(0,P.jsx)("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:"CONFIRM"===(null===n||void 0===n?void 0:n.status)?(0,P.jsx)(D.Z,{id:null===n||void 0===n?void 0:n.id}):(0,P.jsx)(v.Z,{direction:"row",justifyContent:"center",width:"100%",children:(0,P.jsx)(j.Z,{disabled:"CONFIRM"!==(null===n||void 0===n?void 0:n.status),variant:"outlined",size:"small",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",cursor:"not-allowed"},children:(0,P.jsx)(T.QNI,{})})})})]},e)})))})]})}),0===sn.length&&(0,P.jsx)(y.Z,{children:(0,P.jsx)(F.Z,{w:200,h:180})})]})}),(0,P.jsx)(L,{}),(0,P.jsx)(Z.Z,{open:t,onClose:V,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,P.jsxs)(y.Z,{sx:H,children:[(0,P.jsxs)(K,{children:[(0,P.jsx)(b.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Apply"}),(0,P.jsx)(N.Z,{onClick:V,"aria-label":"close",size:"medium",children:(0,P.jsx)(w.Fk5,{})})]}),(0,P.jsx)(y.Z,{children:(0,P.jsxs)("form",{onSubmit:cn,children:[(0,P.jsxs)(S.Z,{sx:{mt:3},required:!0,fullWidth:!0,children:[(0,P.jsx)(k.Z,{id:"demo-simple-select-label",children:"Type"}),(0,P.jsx)(_.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o.type,label:"Type",onChange:function(n){return c((function(e){return(0,l.Z)((0,l.Z)({},e),{},{type:n.target.value})}))},children:null===M||void 0===M?void 0:M.map((function(n,e){return(0,P.jsx)(I.Z,{disabled:sn.some((function(e){return e.type===n&&"CONFIRM"===e.status})),value:n,children:n},e)}))})]}),(0,P.jsx)(C.Z,{sx:{mt:3},fullWidth:!0,required:!0,value:o.description,onChange:function(n){return c((function(e){return(0,l.Z)((0,l.Z)({},e),{},{description:n.target.value})}))},id:"description",label:"Description",multiline:!0,rows:2}),(0,P.jsxs)(v.Z,{sx:{mt:3},direction:"row",spacing:3,justifyContent:"end",children:[(0,P.jsx)(j.Z,{variant:"outlined",type:"reset",onClick:V,children:"cancel"}),(0,P.jsx)(j.Z,{variant:"contained",type:"submit",children:"save"})]})]})})]})})]})}}}]);
//# sourceMappingURL=9234.0d699236.chunk.js.map