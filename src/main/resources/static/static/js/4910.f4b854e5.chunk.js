"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[4910],{74910:function(n,e,t){t.r(e),t.d(e,{default:function(){return on}});var o,i,a,r,l,c,s,d,u,p,h,x,g,f,m,Z,j,v=t(30168),_=t(29439),w=t(72791),C=t(17939),b=t(27301),T=t(55294),E=t(56960),y=t(95173),L=t(20068),D=t(56355),S=t(48550),A=t(47047),P=t(57621),k=t(39504),N=t(24518),Y=t(64554),G=t(77159),U=t(93433),I=t(72426),M=t.n(I),F=t(34045),V=t(80184),R=function(n){var e=n.dataToExcel,t=n.direction;return(0,V.jsx)(N.Z,{variant:"contained",onClick:function(){return function(n){if(n&&0!==n.length){var e=n.sort((function(n,e){return n.name.toUpperCase().localeCompare(e.name.toUpperCase())})),o=[["\u2116","Groups","All Students","Students Came","Percent","".concat(M()().format("DD.MM.YYYY HH:mm"))]].concat((0,U.Z)(e.map((function(n,e){return[e+1,n.name,n.allCount,n.comeCount||0,(t=n.allCount,o=n.comeCount||0,t&&o?Math.ceil(100*o/t):0)];var t,o})))),i=F.P6.book_new(),a=F.P6.aoa_to_sheet(o);F.P6.book_append_sheet(i,a,"GroupData");var r="".concat(t,"_data.xlsx");F.NC(i,r)}else console.error("No data to export.")}(e)},children:"export to excel"})},z=(0,w.memo)(R),B=C.ZP.div(o||(o=(0,v.Z)(["\n  width: ",";\n  height: 100%;\n  background-color: ",";\n"])),(function(n){return n.width}),(function(n){return n.bgcolor})),O=C.ZP.div(i||(i=(0,v.Z)(["\n  display: flex;\n  width: 100%;\n  overflow: hidden;\n  height: 8.5px;\n  border-radius: 5px;\n"]))),q=C.ZP.h6(a||(a=(0,v.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: ",";\n"])),(function(n){return n.color})),$=C.ZP.div(r||(r=(0,v.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]))),H=C.ZP.h6(l||(l=(0,v.Z)(["\n  font-size: 14px;\n"]))),K=C.ZP.div(c||(c=(0,v.Z)(["\n  width: 100%;\n"]))),W=C.ZP.div(s||(s=(0,v.Z)(["\n  width: 100%;\n  padding: 12px;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  gap: 10px;\n  border-radius: 5px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  cursor: pointer;\n  transition: 0.06s;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]))),J=C.ZP.div(d||(d=(0,v.Z)(["\n  width: 100%;\n  min-width: 300px;\n  display: grid;\n  grid-template-columns: auto auto auto;\n  gap: 40px;\n  ","\n  ","\n"])),(0,y.yG)({gridTemplateColumns:"auto auto"}),(0,y.qD)({gridTemplateColumns:"auto"})),Q=(C.ZP.div(u||(u=(0,v.Z)(["\n  margin-bottom: 15px;\n  width: 235px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),C.ZP.label(p||(p=(0,v.Z)(["\n  color: ",";\n  cursor: pointer;\n\n\n"])),b.Lr),C.ZP.input.attrs({type:"date"})(h||(h=(0,v.Z)(["\n  width: 150px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n"])),b.Lr,b.Lr),C.ZP.select(x||(x=(0,v.Z)(["\n  width: 250px;\n  height: 50px;\n  background: white;\n  font-size: 14px;\n  border-radius: 7px;\n  padding: 5px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  box-shadow: rgba(149, 157, 165, 0.2) 0 8px 24px;\n\n  &:focus {\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n\n  ","\n"])),b.Lr,b.Lr,(0,y.qD)({width:"80%"}))),X=C.ZP.div(g||(g=(0,v.Z)(["\n  ","\n"])),(0,y.qD)({width:"80% !important"})),nn=(C.ZP.button(f||(f=(0,v.Z)(["\n  width: 200px;\n  height: 45px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-bottom: 10px;\n\n  &:focus {\n    transform: scale(0.95);\n  }\n"])),b.Lr,b.Lr),C.ZP.div(m||(m=(0,v.Z)(["\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 30px;\n  display: grid;\n  grid-template-columns:repeat(3, 1fr);\n  gap: 30px;\n  justify-items: center;\n  align-items: center;\n  ","\n  ","\n  ","\n"])),(0,y.IV)({gridTemplateColumns:"repeat(2,1fr)"}),(0,y.yG)({gridTemplateColumns:"repeat(1,1fr)"}),(0,y.qD)({gridTemplateColumns:"repeat(1,1fr)"}))),en=C.ZP.div(Z||(Z=(0,v.Z)(["\n    padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n"]))),tn=C.ZP.div(j||(j=(0,v.Z)(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 50px !important;\n"]))),on=function(n){var e=(0,w.useState)(1),t=(0,_.Z)(e,2),o=t[0],i=t[1],a=(0,w.useState)([]),r=(0,_.Z)(a,2),l=r[0],c=r[1],s=(0,w.useState)(""),d=(0,_.Z)(s,2),u=d[0],p=d[1],h=(0,w.useState)(""),x=(0,_.Z)(h,2),g=x[0],f=x[1],m=(0,w.useState)(!1),Z=(0,_.Z)(m,2),j=Z[0],v=Z[1],C=(0,w.useState)(!1),y=(0,_.Z)(C,2),U=y[0],I=y[1],M=(0,w.useState)(),F=(0,_.Z)(M,2),R=(F[0],F[1]),on=(0,w.useState)({startTime:"",endTime:""}),an=(0,_.Z)(on,2),rn=an[0],ln=(an[1],(0,w.useState)("")),cn=(0,_.Z)(ln,2),sn=cn[0],dn=cn[1],un=(0,w.useState)(""),pn=(0,_.Z)(un,2),hn=pn[0],xn=pn[1],gn=(0,w.useState)([]),fn=(0,_.Z)(gn,2),mn=fn[0],Zn=fn[1];(0,w.useEffect)((function(){I(!0),""!==o&&T.Z.get(b._n+b.$G.GET_FACULTY_BY_COURSE_LEVEL+o).then((function(n){c(n.data.obj),p(n.data.obj[0]),I(!1)})).catch((function(n){console.log(n),I(!1)}))}),[o]);function jn(n,e){return n&&e?Math.ceil(100*e/n):0}return(0,w.useEffect)((function(){"day"===g?(I(!0),T.Z.get(b._n+b.$G.GET_STUDENTS_BY_TIME_INTERVAL_AND_FACULTY_NAME+"?facultyName="+u+"&level="+o+"&timeInterval=0").then((function(n){Zn(n.data.obj),I(!1)})).catch((function(n){console.log(n),I(!1)}))):"week"===g&&(I(!0),T.Z.get(b._n+b.$G.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+u+"&level="+o+"&timeInterval=-7").then((function(n){Zn(n.data.obj),I(!1)})).catch((function(n){console.log(n),I(!1)})))}),[g,u,o]),(0,w.useEffect)((function(){I(!0),T.Z.get(b._n+b.$G.GET_FACULTY_BY_COURSE_LEVEL+1).then((function(n){c(n.data.obj),I(!1)})).catch((function(n){console.log(n),I(!1)})),f("day")}),[]),(0,w.useEffect)((function(){I(!0),T.Z.get(b._n+b.$G.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+l[0]+"&level=1&timeInterval=0").then((function(n){Zn(n.data.obj),I(!1)})).catch((function(n){console.log(n),I(!1)}))}),[]),(0,V.jsxs)(en,{children:[(0,V.jsxs)(nn,{children:[(0,V.jsxs)(Q,{onChange:function(n){return e=n.target.value,void i(e);var e},children:[(0,V.jsx)("option",{value:"",disabled:!0,children:"Select Course"}),(0,V.jsx)("option",{value:"1",children:"Course - 1"}),(0,V.jsx)("option",{value:"2",children:"Course - 2"}),(0,V.jsx)("option",{value:"3",children:"Course - 3"}),(0,V.jsx)("option",{value:"4",children:"Course - 4"})]}),(0,V.jsx)(Q,{value:u,onChange:function(n){return p(n.target.value)},children:l&&l.map((function(n){return(0,V.jsx)("option",{value:n,children:n},n)}))}),(0,V.jsxs)(Q,{onChange:function(n){var e;""===(e=n.target.value)?(v((function(){return!1})),E.Am.warning("Please,Choose Type Of Time.")):"duration"===e?(f(e),v(!0)):(f(e),R(new Date),v(!1))},children:[(0,V.jsx)("option",{value:"",disabled:!0,children:"Select Type Of Time"}),(0,V.jsx)("option",{value:"day",children:"DAY"}),(0,V.jsx)("option",{value:"week",children:"WEEK"}),(0,V.jsx)("option",{value:"duration",children:"DURATION"})]}),j&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(S.Z,{component:X,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"Start date",type:"date",id:"start",size:"medium",onChange:function(n){return dn(new Date(n.target.value))}}),(0,V.jsx)(S.Z,{component:X,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"End date",type:"date",id:"end",size:"medium",onChange:function(n){return xn(new Date(n.target.value))}}),(0,V.jsx)(N.Z,{component:X,sx:{width:"250px"},variant:"contained",endIcon:(0,V.jsx)(D.ulB,{}),onClick:function(){if(I(!0),"duration"===g){var n=function(n){var e=new Date(n),t=""+(e.getMonth()+1),o=""+e.getDate(),i=e.getFullYear(),a=new Date,r="",l="";return n.getDate()===a.getDate()&&n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear()?(r=""+a.getHours(),l=""+a.getMinutes()):(o=""+e.getDate(),r="23",l="59"),t.length<2&&(t="0"+t),o.length<2&&(o="0"+o),r.length<2&&(r="0"+r),l.length<2&&(l="0"+l),[[i,t,o].join("-"),"T",r,":",l].join("")}(hn),e=function(n){var e=new Date(n),t=""+(e.getMonth()+1),o=""+e.getDate(),i=e.getFullYear(),a="00",r="00";t.length<2&&(t="0"+t),o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),r.length<2&&(r="0"+r);var l=[i,t,o].join("-");return rn.startTime=[l,"T",a,":",r].join(""),[l,"T",a,":",r].join("")}(sn);T.Z.post(b._n+b.$G.GET_GROUPS_STATISTIC_BY_FACULTY_NAME_AND_GROUP_LEVEL+"?endTime="+n+"&facultyName="+u+"&level="+o+"&startTime="+e).then((function(n){Zn(n.data.obj),I(!1)})).catch((function(n){console.log(n),I(!1)}))}},size:"large",children:"Filter"})]})]}),(0,V.jsxs)(tn,{children:[(0,V.jsxs)(J,{children:[U&&Array.from({length:5}).map((function(n,e){return(0,V.jsx)(W,{children:(0,V.jsxs)(Y.Z,{sx:{width:"100%"},children:[(0,V.jsx)(A.Z,{}),(0,V.jsx)(A.Z,{animation:"wave"}),(0,V.jsx)(A.Z,{animation:!1})]})},e)})),!U&&mn.map((function(n,e){return(0,V.jsx)(W,{children:(0,V.jsxs)(K,{children:[(0,V.jsxs)(H,{children:[(0,V.jsx)(D.ArU,{})," ",n.name]}),(0,V.jsxs)($,{children:[(0,V.jsx)(q,{color:"#9cd365",children:n.allCount}),(0,V.jsxs)(q,{color:b.Lr,children:[jn(n.allCount,n.comeCount),"%"]})]}),(0,V.jsxs)(O,{children:[(0,V.jsx)(L.Z,{title:"kelgan:".concat(n.comeCount),children:(0,V.jsx)(B,{bgcolor:b.Lr,width:"".concat(jn(n.allCount,n.comeCount),"%")})}),(0,V.jsx)(L.Z,{title:"kelmagan:".concat(n.allCount-n.comeCount),children:(0,V.jsx)(B,{bgcolor:"red",width:"".concat((t=jn(n.allCount,n.comeCount),100-t),"%")})})]})]})},e);var t}))]}),(null===mn||void 0===mn?void 0:mn.length)>0&&(0,V.jsx)(Y.Z,{display:"flex",justifyContent:"end",sx:{width:"100%",mt:3},children:(0,V.jsx)(z,{direction:u,dataToExcel:mn})}),!U&&0===mn.length&&(0,V.jsx)(Y.Z,{sx:{width:"100%"},children:(0,V.jsx)(P.Z,{children:(0,V.jsx)(k.Z,{children:(0,V.jsx)(G.Z,{w:200,h:180})})})})]})]})}}}]);
//# sourceMappingURL=4910.f4b854e5.chunk.js.map