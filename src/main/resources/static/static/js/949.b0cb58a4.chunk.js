"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[949,6696],{80949:function(e,n,t){t.r(n);var a,i=t(30168),r=(t(72791),t(17939)),o=t(96696),u=t(80184),s=r.ZP.div(a||(a=(0,i.Z)(["\n  width: 100%;\n"])));n.default=function(){return(0,u.jsx)(s,{children:(0,u.jsx)(o.default,{})})}},96696:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var a,i=t(30168),r=t(1413),o=t(29439),u=t(72791),s=t(17939),d=t(27301),l=t(55294),c=t(72426),f=t.n(c),h=t(57621),p=t(39504),g=t(48550),v=t(89704),m=t(58766),b=t(84638),Z=t(45987),x=t(13496),j=t(80184),w=["passage"],k=function(e){var n=e.data,t=(0,u.useMemo)((function(){return n&&(null===n||void 0===n?void 0:n.reduce((function(e,n){var t=n.passage,a=(0,Z.Z)(n,w),i=e.find((function(e){return e[0].passage===t}));return i?i.push((0,r.Z)({passage:t},a)):e.push([(0,r.Z)({passage:t},a)]),e}),[]))||[]}),[n]);console.log(t,"dddddddddddd");var a=(0,u.useMemo)((function(){return{chart:{type:"bar"},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1}}}),[]),i=(0,u.useCallback)((function(){return t.map((function(e){return e[0].passage.substring(0,e[0].passage.indexOf("is")-1)}))}),[t]),o=(0,u.useMemo)((function(){return{series:[{name:"actions",data:t.map((function(e){return e.length}))}],options:(0,r.Z)((0,r.Z)({},a),{},{labels:{show:!0,formatter:function(e,n){return e.substring(0,e.indexOf("is"))},offsetX:0},xaxis:{categories:i()}})}}),[t,a,i]);return(0,j.jsx)(x.Z,{options:o.options,series:o.series,type:"bar",width:"100%",height:"300px"})},C=(0,u.memo)(k),y=t(64554),O=s.ZP.div(a||(a=(0,i.Z)(["\n    width: 100%;\n    padding: 1rem;\n"]))),A=function(){var e=[{field:"count",headerName:"\u2116",width:40,sortable:!0,editable:!1},{field:"passage",headerName:"Full Name",width:300,editable:!1,renderCell:function(e){var n;return(0,j.jsx)("p",{children:null===(n=e.row.passage)||void 0===n?void 0:n.substring(0,e.row.passage.indexOf("is")-1)})}},{field:"updatedAt",headerName:"Action date",width:200,editable:!1,sortable:!0,renderCell:function(e){var n;return(0,j.jsx)("p",{children:f()(null===(n=e.row)||void 0===n?void 0:n.updatedAt).format("DD.MM.YYYY HH:mm")})}}],n=(0,u.useState)(!0),t=(0,o.Z)(n,2),a=t[0],i=t[1],s=(0,u.useState)([]),c=(0,o.Z)(s,2),Z=c[0],x=c[1],w=(0,u.useState)([]),k=(0,o.Z)(w,2),A=k[0],N=k[1],_=(0,u.useState)(""),M=(0,o.Z)(_,2),S=M[0],P=M[1],Y=(0,d.wU)().headers,D=(0,u.useCallback)((function(){l.Z.get(d._n+"/dekanat/all",{headers:Y}).then((function(e){N(e.data.obj.map((function(e){return null===e||void 0===e?void 0:e.owner})))})).catch((function(e){console.log(e)}))}),[]),H=(0,u.useCallback)((function(e){l.Z.get(d._n+"/dataOfLastActive/findByCreatorId/".concat(e),{headers:Y}).then((function(e){console.log(e.data),x(null===e||void 0===e?void 0:e.data.obj.map((function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{count:n+1})})))})).catch((function(e){return console.log(e)})).finally((function(){return i(!1)}))}),[S]),L=(0,u.useCallback)((function(){l.Z.get(d._n+"/dataOfLastActive/findAll",{headers:Y}).then((function(e){x(null===e||void 0===e?void 0:e.data.obj.map((function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{count:n+1})})))})).catch((function(e){return console.log(e)})).finally((function(){return i(!1)}))}),[]);return(0,u.useEffect)((function(){D()}),[]),(0,u.useEffect)((function(){i((function(){return!0})),""===S?L():S&&H(S)}),[S]),(0,j.jsx)(O,{children:(0,j.jsx)(h.Z,{children:(0,j.jsxs)(p.Z,{children:[(0,j.jsxs)(g.Z,{sx:{width:300,mb:2},id:"outlined-select-currency",select:!0,label:"Deans",value:S,onChange:function(e){return P(e.target.value)},children:[(0,j.jsx)(b.Z,{value:"",children:(0,j.jsx)("em",{children:"None"})}),A&&A.map((function(e){return(0,j.jsx)(b.Z,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.fullName},null===e||void 0===e?void 0:e.id)}))]}),(0,j.jsxs)(y.Z,{sx:{display:"grid",gridTemplateColumns:"1fr ",gap:5},children:[(0,j.jsx)(C,{data:Z}),(0,j.jsx)(v._,{style:{width:"100%"},columns:e,rows:Z||[],loading:a,components:{Toolbar:m.n},autoHeight:!0,pageSize:20,rowsPerPageOptions:[20,30,50]})]})]})})})}}}]);
//# sourceMappingURL=949.b0cb58a4.chunk.js.map