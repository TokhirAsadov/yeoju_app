"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[599],{20599:function(n,e,t){t.r(e);var o,i,r,l,a,s,c=t(30168),d=t(15861),u=t(1413),h=t(29439),f=t(64687),x=t.n(f),p=t(72791),j=t(17939),Z=t(55294),g=t(27301),m=t(89704),b=t(58766),v=t(1582),C=t(57621),k=t(39504),y=t(48550),w=t(13400),S=t(78820),A=t(24518),O=t(64554),I=t(56355),T=t(88447),_=t(40071),N=t(56960),P=t(95173),D=t(73766),L=t(20890),R=t(80184),z=j.ZP.div(o||(o=(0,c.Z)(["\n    ","\n"])),(0,P.qD)({width:"95% !important"})),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},U=j.ZP.div(i||(i=(0,c.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]))),W=j.ZP.div(r||(r=(0,c.Z)(["\n    ","\n"])),(0,P.qD)({width:"97% !important"})),q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},M=j.ZP.button(l||(l=(0,c.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"])),g.Lr),F=j.ZP.div(a||(a=(0,c.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: start;\n    gap: 5px;\n    color: ",";\n\n    h1 {\n        font-size: 22px;\n    }\n"])),g.Lr),G=j.ZP.div(s||(s=(0,c.Z)(["\n    width: 100%;\n    padding: 1rem;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"])));e.default=function(){var n=[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:250,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center"},{minWidth:250,flex:.5,field:"action",headerName:"Action",sortable:!0,align:"center",justifyContent:"center",renderCell:function(n){return(0,R.jsx)(v.Z,{direction:"row",spacing:2,justifyContent:"center",children:(0,R.jsx)(w.Z,{"aria-label":"delete",color:"error",onClick:function(){return vn(n.row.id)},children:(0,R.jsx)(S.YK6,{})})})}}],e=(0,p.useState)([]),t=(0,h.Z)(e,2),o=t[0],i=t[1],r=(0,p.useState)(!1),l=(0,h.Z)(r,2),a=l[0],s=l[1],c=(0,g.wU)().headers,f=(0,p.useState)(!1),j=(0,h.Z)(f,2),P=j[0],H=j[1],V=(0,p.useState)(null),Y=(0,h.Z)(V,2),B=Y[0],K=Y[1],X=(0,p.useState)(""),$=(0,h.Z)(X,2),J=$[0],Q=$[1],nn=(0,p.useState)([]),en=(0,h.Z)(nn,2),tn=en[0],on=en[1],rn=(0,p.useState)(null),ln=(0,h.Z)(rn,2),an=ln[0],sn=ln[1],cn=(0,p.useState)(!1),dn=(0,h.Z)(cn,2),un=dn[0],hn=dn[1],fn=(0,p.useRef)(null),xn=(0,p.useState)("ROLE_MONITORING_ASSISTANT"),pn=(0,h.Z)(xn,2),jn=pn[0],Zn=pn[1],gn=function(){H(!1)},mn=function(){s(!0),Z.Z.get(g._n+"/dataOfLastActive/getAssistants",{headers:c}).then((function(n){var e;console.log(n.data.obj),i(null===(e=n.data.obj)||void 0===e?void 0:e.map((function(n,e){return(0,u.Z)((0,u.Z)({},n),{},{count:e+1})})))})).catch((function(n){return console.log(n)})).finally((function(){s(!1)}))},bn=function(){var n=(0,d.Z)(x().mark((function n(e){var t,o;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Z.Z.CancelToken.source(),fn.current=t,o=setTimeout((function(){e.length>=4&&Z.Z.get("".concat(g._n,"/user/getUserForTeacherSavingSearch?keyword=").concat(e),{headers:c,cancelToken:t.token}).then((function(n){var e=n.data.obj;on(e)})).catch((function(n){Z.Z.isCancel(n)?console.log("Request canceled:",n.message):console.error(n)}))}),300),n.abrupt("return",(function(){t&&t.cancel("Operation canceled due to component unmount."),clearTimeout(o)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),vn=function(n){sn(n),hn(!0)};(0,p.useEffect)((function(){mn()}),[]);var Cn=function(){sn(null),hn(!1)};return(0,R.jsxs)(G,{children:[(0,R.jsxs)(F,{children:[(0,R.jsx)(I.Xws,{size:23}),(0,R.jsx)("h1",{children:"Assistants"})]}),(0,R.jsx)(C.Z,{children:(0,R.jsxs)(k.Z,{children:[(0,R.jsx)(O.Z,{sx:{display:"flex",justifyContent:"end",mb:2},children:(0,R.jsx)(A.Z,{onClick:function(){H(!0)},variant:"contained",color:"success",endIcon:(0,R.jsx)(I.Bj$,{}),children:"Add User"})}),(0,R.jsx)(m._,{columns:n,rows:o||[],loading:a,components:{Toolbar:b.n},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})]})}),(0,R.jsx)(T.Z,{open:P,onClose:gn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,R.jsxs)(O.Z,{sx:q,component:W,children:[(0,R.jsxs)(U,{children:[(0,R.jsx)("h4",{children:" Add user"}),(0,R.jsxs)(M,{onClick:gn,children:[" ",(0,R.jsx)(_.bjh,{size:22})]})]}),(0,R.jsxs)(O.Z,{children:[(0,R.jsxs)(O.Z,{sx:{marginY:3,display:"flex",flexDirection:"column",gap:3},children:[(0,R.jsx)(D.Z,{value:B,fullWidth:!0,onChange:function(n,e){K(e)},inputValue:J,onInputChange:function(n,e){Q(e),bn(e)},id:"user-autocomplete",options:tn||[],getOptionLabel:function(n){return null===n||void 0===n?void 0:n.label},getOptionSelected:function(n,e){return(null===n||void 0===n?void 0:n.value)===(null===e||void 0===e?void 0:e.value)},renderInput:function(n){return(0,R.jsx)(y.Z,(0,u.Z)((0,u.Z)({},n),{},{label:"Select User"}))}}),(0,R.jsx)(y.Z,{size:"small",label:"Role",fullWidth:!0,value:jn,onChange:function(n){return Zn(n.target.value)},disabled:!0})]}),(0,R.jsxs)(v.Z,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,R.jsx)(A.Z,{variant:"outlined",onClick:gn,children:"Cancel"}),(0,R.jsx)(A.Z,{variant:"contained",onClick:function(){if(B){var n={userId:B.value,roleName:jn};console.log(n),Z.Z.post("".concat(g._n,"/dataOfLastActive/createAssistant"),n,{headers:c}).then((function(n){console.log(n),N.Am.success("Add user"),mn(),K(null)})).catch((function(n){console.log(n),N.Am.error("Error adding user")}))}H(!1)},children:"save"})]})]})]})}),(0,R.jsx)(T.Z,{open:un,onClose:Cn,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,R.jsxs)(O.Z,{sx:E,component:z,children:[(0,R.jsxs)(U,{children:[(0,R.jsx)("h5",{children:"Delete"}),(0,R.jsxs)(M,{onClick:Cn,children:[" ",(0,R.jsx)(_.bjh,{size:22})]})]}),(0,R.jsxs)(O.Z,{children:[(0,R.jsx)(v.Z,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,R.jsx)(L.Z,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,R.jsxs)(v.Z,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,R.jsx)(A.Z,{variant:"outlined",onClick:Cn,children:"Cancel"}),(0,R.jsx)(A.Z,{variant:"contained",color:"error",onClick:function(){an&&Z.Z.delete(g._n+"/dataOfLastActive/deleteAssistant/"+an,{headers:c}).then((function(n){console.log(n.data),N.Am.success("Deleted assistant"),mn(),hn(!1)})).catch((function(n){console.log(n),N.Am.error("Error")}))},children:"Ok"})]})]})]})})]})}}}]);
//# sourceMappingURL=599.2c1132d7.chunk.js.map