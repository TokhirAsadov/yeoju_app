"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[6454],{63869:function(n,e,i){i.d(e,{Z:function(){return t}});i(72791);var l=i(80184),t=function(){return(0,l.jsx)("div",{className:"spinner2",children:(0,l.jsx)("svg",{viewBox:"0 0 120 120",children:(0,l.jsxs)("g",{className:"g1",children:[(0,l.jsx)("rect",{className:"r1",x:"30",y:"30",width:"60",height:"60"}),(0,l.jsx)("rect",{className:"big",x:"81",y:"81",width:"8",height:"8"}),(0,l.jsx)("rect",{className:"r_ol",x:"31",y:"31",width:"8",height:"8"}),(0,l.jsx)("rect",{className:"r_or",x:"81",y:"31",width:"8",height:"8"}),(0,l.jsx)("rect",{className:"r_ul",x:"31",y:"81",width:"8",height:"8"}),(0,l.jsx)("xrect",{className:"r_ur",x:"81",y:"81",width:"8",height:"8"})]})})})}},76454:function(n,e,i){i.r(e);var l,t,o,d,r,a,u,c,s,f,v,x=i(30168),h=i(29439),p=i(72791),m=i(17939),w=i(55294),y=i(27301),j=i(72426),Z=i.n(j),g=i(63869),b=i(57621),k=i(39504),N=i(80184),E=m.ZP.div(l||(l=(0,x.Z)(["\n    flex: ",";\n    font-size: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid blue;\n    padding: 5px;\n    text-align: center;\n"])),(function(n){return n.flex||1}),(function(n){return n.fs||"14px"})),P=m.ZP.div(t||(t=(0,x.Z)(["\n    display: flex;\n    width: 100%;\n    \n"]))),D=m.ZP.div(o||(o=(0,x.Z)(["\n    flex: 6;\n    display: flex;\n    flex-direction: column;\n\n"]))),S=m.ZP.div(d||(d=(0,x.Z)(["\n    flex: 2;\n    border: 1px solid blue;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),M=m.ZP.div(r||(r=(0,x.Z)(["\n    flex: 0.25;\n    border: 1px solid blue;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),_=m.ZP.div(a||(a=(0,x.Z)(["\n    width: 100%;\n    display: flex;\n    border: 1px solid blue;\n\n"]))),A=m.ZP.div(u||(u=(0,x.Z)(["\n    flex: 8;\n    display: flex;\n    flex-direction: column;\n"]))),T=m.ZP.div(c||(c=(0,x.Z)(["\n    flex: 2;\n    border: 2px solid blue;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 24px;\n\n"]))),W=m.ZP.div(s||(s=(0,x.Z)(["\n    width: 100%;\n    display: flex;\n"]))),Y=m.ZP.div(f||(f=(0,x.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #fff;\n"]))),O=m.ZP.div(v||(v=(0,x.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 10px;\n\n"])));e.default=function(){var n=(0,p.useState)(!1),e=(0,h.Z)(n,2),i=e[0],l=e[1],t=(0,p.useState)([]),o=(0,h.Z)(t,2),d=o[0],r=o[1],a=(0,p.useState)([]),u=(0,h.Z)(a,2),c=u[0],s=u[1],f=(0,p.useState)(new Map),v=(0,h.Z)(f,2),x=v[0],m=v[1],j=(0,y.wU)().headers;(0,p.useEffect)((function(){l(!0),l(!1),I()}),[]);var B=(0,p.useState)({date:new Date,dateFrom:Z()(new Date).startOf("isoWeek").toDate(),dateTo:Z()(new Date).endOf("isoWeek").toDate(),weekNumber:Z()(new Date).isoWeek(),year:Z()(new Date).year(),weekday:Z()(new Date).day()}),z=(0,h.Z)(B,2),C=z[0],I=(z[1],function(){w.Z.get(y._n+"/timeTableByWeekOfYear/getTimeTableByAllRoomAndWeek2?week=".concat(null===C||void 0===C?void 0:C.weekNumber,"&weekday=").concat(C.weekday,"&year=").concat(C.year,"&t=false"),{headers:j}).then((function(n){var e,i;r(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj),s(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.secondObj),l(!0)})).catch((function(n){console.log(n)}))});(0,p.useEffect)((function(){d&&m(F(d,c))}),[d]);var F=function(n,e){var i=new Set,l=new Map,t=new Map,o=new Map;(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n||n.forEach((function(n){null===n||void 0===n||n.forEach((function(n){i.add(null===n||void 0===n?void 0:n.kafedraId),l.set(n,null===n||void 0===n?void 0:n.kafedraId)}))}))),i.forEach((function(n){var e=[];l.forEach((function(i,l){i===n&&e.push(l)})),t.set(n,e)})),t.forEach((function(n,i){var l=[],t=new Set,d=new Map;null===n||void 0===n||n.forEach((function(n){var i,t=null===(i=e.flat())||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e.room)===(null===n||void 0===n?void 0:n.room)&&(null===e||void 0===e?void 0:e.section)===(null===n||void 0===n?void 0:n.hourNumber)}));0===(null===t||void 0===t?void 0:t.length)&&l.push(n)})),null===l||void 0===l||l.forEach((function(n){t.add(null===n||void 0===n?void 0:n.teacherName[0])})),t.forEach((function(n){d.set(n,null===l||void 0===l?void 0:l.filter((function(e){return(null===e||void 0===e?void 0:e.teacherName[0])===n})))})),o.set(i,d)}));var d=Array.from(o);return null===d||void 0===d?void 0:d.map((function(n){return[n[0],Array.from(n[1])]}))};return(0,N.jsx)(O,{children:(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{children:i&&(null===d||void 0===d?void 0:d.length)>0&&(null===x||void 0===x?void 0:x.length)>0?null===x||void 0===x?void 0:x.map((function(n){var e;return(0,N.jsx)(Y,{children:(0,N.jsxs)(W,{children:[(0,N.jsx)(T,{children:n[0]}),(0,N.jsx)(A,{children:null===(e=n[1])||void 0===e?void 0:e.map((function(n,e){var i,l;return(0,N.jsxs)(_,{children:[(0,N.jsx)(M,{children:e+1}),(0,N.jsx)(S,{children:n[0]}),(0,N.jsx)(D,{children:null===(i=n[1])||void 0===i||null===(l=i.sort((function(n,e){return n.hourNumber>e.hourNumber?1:e.hourNumber>n.hourNumber?-1:0})))||void 0===l?void 0:l.map((function(n){return(0,N.jsxs)(P,{children:[(0,N.jsx)(E,{flex:2,fs:"9px",children:null===n||void 0===n?void 0:n.lessonName}),(0,N.jsx)(E,{flex:1,fs:"11px",children:null===n||void 0===n?void 0:n.room}),(0,N.jsx)(E,{flex:1,children:Z()(null===C||void 0===C?void 0:C.date).format("DD-MM-YYYY")}),(0,N.jsx)(E,{flex:1,children:null===n||void 0===n?void 0:n.periodStartAndEndTime})]})}))})]})}))})]})})})):(0,N.jsx)(g.Z,{})})})})}}}]);
//# sourceMappingURL=6454.3b9b8769.chunk.js.map