"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[6700],{96700:function(e,n,i){i.r(n),i.d(n,{default:function(){return T}});var t,s=i(30168),r=i(29439),a=i(72791),o=i(17939),l=i(64554),d=i(24518),c=i(1582),u=i(57621),f=i(1413),m=i(39504),x=i(89704),h=i(27301),p=i(59434),v=i(72426),j=i.n(v),g=i(55294),N=i(56960),b=i(13239),y=i(80184),Z=function(){var e=(0,p.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.user})),n=(0,h.wU)().headers,i=(0,a.useState)([]),t=(0,r.Z)(i,2),s=t[0],o=t[1],u=(0,a.useState)(!1),v=(0,r.Z)(u,2),Z=v[0],C=v[1],w=[{field:"count",headerName:"\u2116",sortable:!1,width:50,align:"center"},{flex:1,minWidth:220,field:"fullName",headerName:"Full name",sortable:!0,valueGetter:function(e){return"".concat(e.row.user.firstName||""," ").concat(e.row.user.lastName||"")}},{flex:1,minWidth:130,field:"type",headerName:"Type ",sortable:!1},{flex:1,minWidth:220,field:"description",headerName:"Description",sortable:!1},{flex:1,minWidth:150,field:"createdAt",headerName:"Date",sortable:!0,valueGetter:function(e){return"".concat(j()(e.row.createdAt).format("DD:MM:YYYY HH:MM"))}},{flex:1,minWidth:100,field:"status",headerName:"Status",sortable:!1,align:"center",renderCell:function(e){var n=e.row;return(0,y.jsx)(d.Z,{size:"small",sx:{cursor:"default !important"},color:"AT_PROCESS"===n.status?"primary":"CONFIRM"===n.status?"success":"error",children:"AT_PROCESS"===n.status?"AT_PROCESS":"CONFIRM"===n.status?"CONFIRM":"REJECT"})}},{flex:1,minWidth:200,field:"actions",headerName:"Actions",sortable:!1,align:"center",renderCell:function(e){var n=e.id,i=e.row;return(0,y.jsxs)(c.Z,{direction:"row",justifyContent:"center",spacing:3,children:[(0,y.jsx)(d.Z,{disabled:Z,variant:"CONFIRM"===i.status?"contained":"outlined",size:"small",color:"success",onClick:function(){return S(n,"CONFIRM")},children:(0,y.jsxs)(l.Z,{display:"flex",justifyContent:"center",alignItems:"center",gap:"7px",children:["Confirm ",Z&&(0,y.jsx)(b.Z,{size:22})]})}),(0,y.jsx)(d.Z,{disabled:Z,variant:"REJECT"===i.status?"contained":"outlined",size:"small",color:"error",onClick:function(){return S(n,"REJECT")},children:(0,y.jsxs)(l.Z,{display:"flex",justifyContent:"center",alignItems:"center",gap:"7px",children:["Reject ",Z&&(0,y.jsx)(b.Z,{size:22})]})})]})}}];(0,a.useEffect)((function(){var n=new EventSource(h._n+"/reference/stream?userId="+(null===e||void 0===e?void 0:e.id)+"&bool=true");return n.addEventListener("reference-list-event",(function(e){var n=JSON.parse(e.data);o(n.map((function(e,n){return"AT_PROCESS"===e.status&&(0,f.Z)((0,f.Z)({},e),{},{count:n+1})})))})),n.onerror=function(){n.close()},function(){n.close()}}));var S=function(e,i){C(!0),g.Z.put("".concat(h._n,"/reference/change"),{id:e,status:i},{headers:n}).then((function(e){console.log(e),N.Am.success("Successfully")})).catch((function(e){console.log(e),N.Am.error("Error")})).finally((function(){C(!1)}))};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(m.Z,{children:[(0,y.jsx)(l.Z,{sx:{width:"100%"},children:(0,y.jsx)(x._,{rows:s,columns:w,initialState:{pagination:{paginationModel:{pageSize:10}}},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,className:"data-grid-container"})}),(0,y.jsx)(l.Z,{sx:{m:"15px",display:"flex",justifyContent:"end"}})]})})},C=i(39126),w=i(10148),S=function(){var e=(0,p.v9)((function(e){return e.user.user.id})),n=(0,a.useState)([]),i=(0,r.Z)(n,2),t=i[0],s=i[1],o=(0,a.useState)(!1),u=(0,r.Z)(o,2),v=u[0],N=u[1],b=[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center"},{minWidth:250,flex:1,field:"fullName",headerName:"Full name",sortable:!0,valueGetter:function(e){var n,i,t,s;return"".concat((null===e||void 0===e||null===(n=e.row)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.firstName)||""," ").concat((null===e||void 0===e||null===(t=e.row)||void 0===t||null===(s=t.user)||void 0===s?void 0:s.lastName)||"")}},{minWidth:130,flex:1,field:"type",headerName:"Type ",sortable:!1},{minWidth:250,flex:1,field:"description",headerName:"Description",sortable:!1},{minWidth:150,flex:1,field:"createdAt",headerName:"Date",sortable:!0,valueGetter:function(e){var n;return"".concat(j()(null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.createdAt).format("DD:MM:YYYY HH:MM"))}},{minWidth:100,flex:1,field:"status",headerName:"Status",sortable:!1,align:"center",renderCell:function(e){var n=e.row;return(0,y.jsx)(d.Z,{size:"small",sx:{cursor:"default !important"},color:"AT_PROCESS"===(null===n||void 0===n?void 0:n.status)?"primary":"CONFIRM"===(null===n||void 0===n?void 0:n.status)?"success":"error",children:"AT_PROCESS"===(null===n||void 0===n?void 0:n.status)?"PENDING":"CONFIRM"===(null===n||void 0===n?void 0:n.status)?"CONFIRM":"REJECT"})}},{minWidth:80,flex:1,field:"file",headerName:"File",sortable:!1,align:"center",renderCell:function(e){var n=e.row;return"CONFIRM"===(null===n||void 0===n?void 0:n.status)?(0,y.jsx)(w.Z,{id:null===n||void 0===n?void 0:n.id}):(0,y.jsx)(c.Z,{direction:"row",justifyContent:"center",width:"100%",children:(0,y.jsx)(d.Z,{disabled:"CONFIRM"!==(null===n||void 0===n?void 0:n.status),variant:"outlined",size:"small",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",cursor:"not-allowed"},children:(0,y.jsx)(C.QNI,{})})})}}];return(0,a.useEffect)((function(){N(!0),g.Z.get(h._n+"/reference/getHistory?userId=".concat(e)).then((function(e){var n=e.data.map((function(e,n){return(0,f.Z)((0,f.Z)({},e),{},{count:n+1})}));s(n)})).catch((function(e){console.log(e)})).finally((function(){N(!1)}))}),[]),(0,y.jsx)(m.Z,{children:(0,y.jsx)(l.Z,{sx:{width:"100%"},children:(0,y.jsx)(x._,{rows:t||[],columns:b,pageSize:5,loading:v,className:"data-grid-container",autoHeight:!0})})})},I=o.ZP.div(t||(t=(0,s.Z)(["\n  .MuiDataGrid-columnHeaderTitleContainer {\n    justify-content: center;\n  }\n  .data-grid-container {\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    overflow: hidden;\n  }\n  .MuiDataGrid-cell {\n    border-right: 1px solid #ccc;\n    padding: 8px;\n  }\n  .MuiDataGrid-colCellTitle {\n    border-bottom: 1px solid #ccc;\n    padding: 8px;\n    font-weight: bold;\n  }\n  .MuiDataGrid-cell:focus {\n    outline: none !important;\n    border: none !important;\n  }\n"]))),T=function(){var e=(0,a.useState)(!0),n=(0,r.Z)(e,2),i=n[0],t=n[1];return(0,y.jsxs)(I,{children:[(0,y.jsx)(l.Z,{mt:3,children:(0,y.jsx)(c.Z,{direction:"row",justifyContent:"end",spacing:2,my:2,children:i?(0,y.jsx)(d.Z,{endIcon:(0,y.jsx)(C.NbQ,{}),onClick:function(){return t(!1)},variant:"contained",children:"history"}):(0,y.jsx)(d.Z,{startIcon:(0,y.jsx)(C.And,{}),onClick:function(){return t(!0)},variant:"outlined",children:"back"})})}),(0,y.jsx)(u.Z,{children:i?(0,y.jsx)(Z,{}):(0,y.jsx)(S,{})})]})}},10148:function(e,n,i){i.d(n,{Z:function(){return I}});var t,s,r=i(30168),a=i(29439),o=i(72791),l=i(55294),d=i(27301),c=i(15861),u=i(64687),f=i.n(u),m=i(8532),x=i(72426),h=i.n(x),p=i(2295),v=i(13239),j=i(24518),g=i(16856),N=i(22057),b=i(17939),y=i(80184),Z=b.ZP.div(t||(t=(0,r.Z)(["\n    width: 640px;\n    margin: 0 auto;\n    font-size: 15px;\n    padding: 10px;\n    color: black;\n    line-height: 1.5;\n\n    p{\n        margin: 0;\n        padding:0;\n    }\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    .date {\n        padding: 0 25px;\n        margin: 10px 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .date_text {\n        font-size: 12px;\n    }\n\n\n    .app_number {\n        padding: 0 25px;\n        margin: 0;\n        display: flex;\n        justify-content: flex-start;\n    }\n\n    .core_title {\n        text-align: center;\n        margin-top: 20px;\n        font-weight: 500;\n    }\n\n    .item {\n        margin-top: 15px;\n        padding-left: 20px;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n    }\n\n    .info {\n        width: 40%;\n    }\n\n    .info2 {\n        width: 60%;\n    }\n\n    .info_text {\n        margin-top: 15px;\n        padding: 0 20px;\n        line-height: 1.5;\n        text-align: justify;\n    }\n\n    .given_text {\n        padding-bottom: 20px;\n        margin-top: 20px;\n        margin-bottom: 10px;\n        border-bottom: 1px solid #000;\n    }\n\n    .footer {\n        margin-top: 25px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n    }\n\n    .flex_footer {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    \n\n    .qr_code_box {\n        margin-top: 25px;\n    }\n\n"]))),C=function(e){var n=e.contentPdf,i=(0,o.useState)(!1),t=(0,a.Z)(i,2),s=t[0],r=t[1],l=(0,o.useRef)(null),d=window.location.origin+"/file/services/reference/"+(null===n||void 0===n?void 0:n.id),u=function(){var e=(0,c.Z)(f().mark((function e(){var n,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),n=l.current,i={margin:10,filename:"certificateOfStudentStatus".concat((new Date).getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},e.next=5,(0,p.Z)().set(i).from(n).save();case 5:r(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[s?(0,y.jsx)(j.Z,{size:"small",variant:"outlined",endIcon:(0,y.jsx)(v.Z,{size:18}),children:"download"}):(0,y.jsx)(j.Z,{size:"small",variant:"contained",endIcon:(0,y.jsx)(g.qm7,{size:22}),onClick:u,children:"download"}),(0,y.jsx)("div",{style:{display:"none"},children:(0,y.jsxs)(Z,{ref:l,children:[(0,y.jsxs)("div",{className:"header",children:[(0,y.jsx)("div",{children:(0,y.jsx)("img",{width:140,src:m,alt:"logo"})}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,y.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]}),(0,y.jsx)("br",{})," ",(0,y.jsx)("br",{}),(0,y.jsx)("i",{style:{fontSize:"14px"},children:"100121, Toshkent shahri, Yakkasaroy tumani, Usmon Nosir ko`chasi, 156 uy. Tel.: +998781294040. Veb-sayt: www.kiut.uz. Elektron pochta: info@kiut.uz"})]})]}),(0,y.jsxs)("div",{className:"date",children:[(0,y.jsxs)("p",{children:["\u2116:",null===n||void 0===n?void 0:n.id]}),(0,y.jsx)("p",{children:h()(null===n||void 0===n?void 0:n.time).format("DD.MM.YYYY")})]}),(0,y.jsx)("div",{className:"app_number",children:(0,y.jsxs)("p",{children:["Application number: ",null===n||void 0===n?void 0:n.numeration]})}),(0,y.jsx)("p",{className:"core_title",children:"CERTIFICATE OF STUDENT STATUS"}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Full Name:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.fullName})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Passport Number:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.passport})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Major:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.direction})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Grade:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.grade})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Language of Instruction:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.eduLang})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Mode of Study:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.eduType})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Length of Study:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.lengthOfStudying})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("p",{className:"info",children:"Remark: Rector\u2019s order:"}),(0,y.jsx)("p",{className:"info2",children:null===n||void 0===n?void 0:n.rektororder})]}),(0,y.jsx)("p",{className:"info_text",children:"Additional information: Kimyo international University in Tashkent provides educational services in the field of higher education based on state license No044527 dated on 21.10.2022 issued by the State Inspectorate for Supervision of Quality in Education under the Cabinet of Ministers of the Republic of Uzbekistan and the Decree of the Cabinet Ministers of the Republic of Uzbekistan No.1007 dated on 17.12.2019."}),(0,y.jsx)("p",{className:"given_text",children:"This Certificate of student status is given to:"}),(0,y.jsxs)("div",{className:"flex_footer",children:[(0,y.jsx)("div",{className:"footer",children:(0,y.jsxs)("p",{children:["Course leader:  ",null===n||void 0===n?void 0:n.dean]})}),(0,y.jsx)("div",{className:"qr_code_box",children:(0,y.jsx)(N.ZP,{value:d,size:120})})]})]})})]})};function w(e){var n=e.id,i=(0,o.useState)(null),t=(0,a.Z)(i,2),s=t[0],r=t[1];return(0,o.useEffect)((function(){l.Z.get(d._n+"/student/getDataForStudentReference2/".concat(n)).then((function(e){console.log(e,"----reference info-----"),r(e.data.obj)})).catch((function(e){console.log(e)}))}),[]),(0,y.jsx)(S,{children:s&&(0,y.jsx)(C,{contentPdf:s})})}var S=b.ZP.div(s||(s=(0,r.Z)(["\n\n"]))),I=(0,o.memo)(w)}}]);
//# sourceMappingURL=6700.25f08a7c.chunk.js.map