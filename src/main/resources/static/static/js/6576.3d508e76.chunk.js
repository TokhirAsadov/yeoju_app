"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[6576],{86576:function(n,e,t){t.r(e),t.d(e,{default:function(){return pn}});var i,r,o,d,l,a,s,c,u,h,x,p,f,v,j=t(30168),g=t(15861),m=t(29439),b=t(64687),w=t.n(b),Z=t(72791),y=t(17939),k=t(64554),S=t(88447),D=t(27301),Y=t(17425),N=t(95173),P=t(59434),C=t(55294),z=t(84638),I=t(76760),A=t(19604),L=t(28988),q=t(48026),M=t(72426),G=t.n(M),J=t(80184),O=function(n){var e,t=n.data,i=t.filter((function(n){return 0===n.statistics.length})),r=function(n,e,t){var i=G()().year(n).isoWeek(e).day(t);return i.isValid?i.format("DD.MM.YYYY"):"Invalid Date"};return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(E,{children:null===(e=t[0])||void 0===e?void 0:e.subject}),(0,J.jsx)(_,{children:i.length>0?null===i||void 0===i?void 0:i.map((function(n,e){return(0,J.jsxs)(W,{bg:"red",jsc:"space-between",children:[(0,J.jsx)("p",{children:r(null===n||void 0===n?void 0:n.year,null===n||void 0===n?void 0:n.week,null===n||void 0===n?void 0:n.day)}),(0,J.jsxs)("p",{children:[n.section," - para"]})]},e)})):(0,J.jsx)(W,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})},W=y.ZP.div(i||(i=(0,j.Z)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"])),(function(n){return n.jsc}),(function(n){return n.bg})),_=y.ZP.div(r||(r=(0,j.Z)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]))),E=y.ZP.div(o||(o=(0,j.Z)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"])),D.Lr),F=(0,Z.memo)(O),T=t(48550),B=t(57621),H=t(39504),Q=t(47047),R=t(56355),V=t(7987),U=t(16871),X=t(77159),K=function(n){var e,t=n.gradeDataInfo;return(0,J.jsxs)(tn,{children:[(0,J.jsx)(en,{children:null===t||void 0===t?void 0:t.lessonName}),(0,J.jsx)(B.Z,{component:$,children:(0,J.jsx)(H.Z,{children:(0,J.jsxs)(nn,{children:[(0,J.jsxs)("table",{children:[(0,J.jsx)("thead",{children:(0,J.jsxs)("tr",{children:[(0,J.jsx)("th",{children:(0,J.jsx)("h5",{children:"\u2116"})}),(0,J.jsx)("th",{children:(0,J.jsx)("h5",{children:"Description"})}),(0,J.jsx)("th",{children:(0,J.jsx)("h5",{children:"Score"})}),(0,J.jsx)("th",{children:(0,J.jsx)("h5",{children:"Date"})})]})}),(0,J.jsx)("tbody",{children:null===t||void 0===t?void 0:t.grades.map((function(n,e){return(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{children:e+1}),(0,J.jsx)("td",{children:null!==n&&void 0!==n&&n.description?n.description:"-"}),(0,J.jsxs)("td",{children:[null===n||void 0===n?void 0:n.grade,"%"]}),(0,J.jsx)("td",{children:G()(new Date(null===n||void 0===n?void 0:n.time)).format("DD-MM-YYYY HH:mm")})]},e)}))})]}),0===(null===t||void 0===t||null===(e=t.grades)||void 0===e?void 0:e.length)&&(0,J.jsx)(X.Z,{w:200,h:180})]})})})]})},$=y.ZP.div(d||(d=(0,j.Z)(["\nmargin-top:50px ;\n  ","\n"])),(0,N.qD)({marginTop:"80px"})),nn=y.ZP.div(l||(l=(0,j.Z)(["\n  width: 100%;\n  overflow-x: scroll;\n\n  table {\n    min-width: 500px;\n    border-collapse: collapse;\n    width: 100%;\n    text-align: center;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 7px;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #f2f2f2;\n      }\n    }\n\n    th {\n      padding: 7px 0;\n      background-color: ",";\n      color: white;\n    }\n  }\n"])),D.Lr),en=y.ZP.div(a||(a=(0,j.Z)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 5px 5px 0 0;\n  padding: 10px;\n  z-index: 9;\n"])),D.Lr),tn=y.ZP.div(s||(s=(0,j.Z)(["\n    width: 100%;\n"]))),rn=(0,Z.memo)(K),on=y.ZP.div(c||(c=(0,j.Z)(["\n    margin-top: 25px;\n    width: 100%;\n\n    overflow-x: scroll;\n\n    table {\n        margin: 0 auto;\n        min-width: 700px;\n        max-width: 1200px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 10px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"])),D.Lr),dn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},ln={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:900,bgcolor:"background.paper",border:"none",borderRadius:"15px",boxShadow:24},an=y.ZP.div(u||(u=(0,j.Z)(["\n    ","\n"])),(0,N.qD)({width:"97% !important"})),sn=y.ZP.div(h||(h=(0,j.Z)(["\n    ","\n    ","\n    ","\n"])),(0,N.IV)({width:"97% !important"}),(0,N.yG)({width:"97% !important"}),(0,N.qD)({width:"97% !important"})),cn=y.ZP.button(x||(x=(0,j.Z)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n"])),D.Lr),un=y.ZP.div(p||(p=(0,j.Z)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]))),hn=y.ZP.h4(f||(f=(0,j.Z)(["\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: 15px;\n\n    span {\n        font-size: 25px;\n        font-weight: 600;\n        color: ",";\n\n    }\n"])),D.Lr),xn=y.ZP.div(v||(v=(0,j.Z)(["\n    padding: 1rem;\n"]))),pn=function(){var n=(0,D.wU)().headers,e=(0,P.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.student)||void 0===e?void 0:e.student})),t=(0,P.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.educationYear)||void 0===e?void 0:e.educationYear}))||null,i=(0,P.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.educationYearStatistics)||void 0===e?void 0:e.educationYearStatistics}))||[],r=(0,P.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.educationYearStatistics)||void 0===e?void 0:e.educationYearStatisticsLoadingStatus}))||!1,o=(0,Z.useState)(!1),d=(0,m.Z)(o,2),l=d[0],a=d[1],s=(0,Z.useState)(!1),c=(0,m.Z)(s,2),u=c[0],h=c[1],x=(0,Z.useState)([]),p=(0,m.Z)(x,2),f=p[0],v=p[1],j=(0,Z.useState)([]),b=(0,m.Z)(j,2),y=b[0],N=b[1],M=(0,Z.useState)([]),G=(0,m.Z)(M,2),O=G[0],W=G[1],_=(0,Z.useState)(null),E=(0,m.Z)(_,2),X=E[0],K=E[1],$=(0,U.s0)(),nn=(0,P.I0)(),en=(0,L.i)().request,tn=function(){return a(!1)},pn=function(){h(!1)},fn=function(){var i=(0,g.Z)(w().mark((function i(){var r;return w().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,C.Z.get(D._n+"/groupConnect/getGradesByLesson/".concat(null===t||void 0===t?void 0:t.id,"/").concat(e.id,"?groupName=").concat(null===e||void 0===e||null===(r=e.groupData)||void 0===r?void 0:r.name),{headers:n}).then((function(n){console.log(null===n||void 0===n?void 0:n.data,"res come"),N(null===n||void 0===n?void 0:n.data)})).catch((function(n){console.log(n)}));case 2:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),vn=function(){var n=(0,g.Z)(w().mark((function n(){var i;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t,!n.t0){n.next=4;break}return n.next=4,nn((0,A.o6)(en,null===t||void 0===t?void 0:t.id,null===e||void 0===e||null===(i=e.groupData)||void 0===i?void 0:i.name,null===e||void 0===e?void 0:e.id));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),jn=function(){var e=(0,g.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Z.get(D._n+"/education/educationYearsForSelected",{headers:n}).then((function(n){var e,t,i;W(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj),nn((0,I.eD)(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(i=t.obj)||void 0===i?void 0:i[0]))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function gn(n){var e=i.filter((function(e){return e[0].subject===n})).flat();return Array.from(new Set(e.map(JSON.stringify)),JSON.parse).filter((function(n){return 0===n.statistics.length})).length}return(0,Z.useEffect)((function(){jn()}),[]),(0,Z.useEffect)((function(){fn()}),[t]),(0,Z.useEffect)((function(){"done"!==r&&vn()}),[]),(0,J.jsxs)(xn,{children:[(0,J.jsxs)(hn,{children:[(0,J.jsx)("span",{children:" My courses"}),(0,J.jsx)(k.Z,{sx:{minWidth:130,background:"#fff"},children:(0,J.jsx)(T.Z,{fullWidth:!0,select:!0,size:"small",value:null===t||void 0===t?void 0:t.name,onChange:function(n){n.target.value!==(null===t||void 0===t?void 0:t.name)&&nn((0,q.W2)()),nn((0,I.eD)(null===O||void 0===O?void 0:O.find((function(e){return(null===e||void 0===e?void 0:e.name)===n.target.value}))))},children:null===O||void 0===O?void 0:O.map((function(n,e){return(0,J.jsx)(z.Z,{value:null===n||void 0===n?void 0:n.name,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})})]}),(0,J.jsx)(B.Z,{sx:{mt:3},children:(0,J.jsx)(H.Z,{children:(0,J.jsx)(on,{children:(0,J.jsxs)("table",{children:[(0,J.jsx)("thead",{children:(0,J.jsxs)("tr",{children:[(0,J.jsx)("th",{style:{textAlign:"center",width:"50px"},children:"\u2116"}),(0,J.jsx)("th",{children:"Sciences"}),(0,J.jsx)("th",{children:"Teacher"}),(0,J.jsx)("th",{style:{textAlign:"center",width:"100px"},children:"Attendance"}),(0,J.jsx)("th",{style:{textAlign:"center",width:"100px"},children:"Grades"}),(0,J.jsx)("th",{style:{textAlign:"center",width:"100px"},children:"Plan"})]})}),(0,J.jsx)("tbody",{children:y.sort((function(n,e){return n.lessonName.localeCompare(e.lessonName)})).map((function(n,e){return(0,J.jsxs)("tr",{children:[(0,J.jsx)("td",{style:{textAlign:"center"},children:e+1}),(0,J.jsx)("td",{children:(0,J.jsxs)("b",{children:[" ",n.lessonName," "]})}),(0,J.jsx)("td",{children:n.fullName}),(0,J.jsx)("td",{children:"start"===r?(0,J.jsx)(k.Z,{display:"flex",justifyContent:"center",children:(0,J.jsx)(Q.Z,{variant:"rounded",width:50,height:50})}):(0,J.jsx)(un,{onClick:function(){return function(n){var e=i.filter((function(e){return e[0].subject===n})).flat(),t=Array.from(new Set(e.map(JSON.stringify)),JSON.parse).sort((function(n,e){return n.year!==e.year?e.year-n.year:n.week!==e.week?e.week-n.week:n.day!==e.day?e.day-n.day:e.section-n.section}));console.log(t),v(t),console.log(e),a(!0)}(null===n||void 0===n?void 0:n.lessonName)},children:gn(null===n||void 0===n?void 0:n.lessonName)})}),(0,J.jsx)("td",{children:(0,J.jsx)(un,{onClick:function(){return K(n),void h(!0)},children:((null===n||void 0===n?void 0:n.sumGrade)/(null===n||void 0===n?void 0:n.maxStep)||0).toFixed(2)})}),(0,J.jsx)("td",{children:(0,J.jsx)(un,{onClick:function(){return function(n){var e={lessonName:n.lessonName,educationYearId:t.id,lessonId:n.lessonId,teacherId:n.teacherId};nn((0,V.aX)(e)),$("".concat(n.lessonName))}(n)},children:(0,J.jsx)(R.BqT,{size:20,color:"#08004b"})})})]},e)}))})]})})})}),(0,J.jsx)(S.Z,{open:l,onClose:tn,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,J.jsxs)(k.Z,{sx:dn,component:an,children:[(0,J.jsx)(cn,{onClick:tn,children:(0,J.jsx)(Y.eSQ,{})}),(0,J.jsx)(F,{data:f})]})}),(0,J.jsx)(S.Z,{open:u,onClose:pn,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,J.jsxs)(k.Z,{sx:ln,component:sn,children:[(0,J.jsx)(cn,{onClick:pn,children:(0,J.jsx)(Y.eSQ,{})}),(0,J.jsx)(rn,{gradeDataInfo:X})]})})]})}}}]);
//# sourceMappingURL=6576.3d508e76.chunk.js.map