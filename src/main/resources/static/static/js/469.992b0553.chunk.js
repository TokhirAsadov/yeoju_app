"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[469],{75618:function(n,e,t){t.d(e,{Z:function(){return C}});var i,r,o,l,a,c,s,u,d,f=t(30168),h=t(72791),x=t(17939),p=t(72426),m=t.n(p),v=t(27301),g=t.p+"static/media/error.a7447d8ac82208334c01.jpg",Z=t(80184),j=function(n){var e,t,i=n.time,r=n.item;return(0,Z.jsxs)(Y,{children:[(0,Z.jsxs)(S,{children:[(0,Z.jsx)(M,{children:m()(i).format(" MMMM Do YYYY")}),(0,Z.jsx)(E,{children:m()(i).format(" dddd")})]}),(0,Z.jsx)("hr",{style:{background:v.Lr,minHeight:"2.5px"}}),(0,Z.jsx)(P,{children:null!==r&&void 0!==r&&r.timeAsc?(0,Z.jsxs)(b,{children:[(0,Z.jsxs)(k,{children:[(0,Z.jsx)(w,{children:"Enter"}),(0,Z.jsx)(w,{children:"Out"})]}),(0,Z.jsxs)(k,{children:[(0,Z.jsx)(w,{children:m()(null===(e=new Date(null===r||void 0===r?void 0:r.timeAsc))||void 0===e?void 0:e.toLocaleString("en-US",{timeZone:"Asia/Tashkent"})).format("MMMM Do YYYY, HH:mm:ss")}),(0,Z.jsx)(w,{children:m()(null===(t=new Date(null===r||void 0===r?void 0:r.timeDesc))||void 0===t?void 0:t.toLocaleString("en-US",{timeZone:"Asia/Tashkent"})).format("MMMM Do YYYY, HH:mm:ss")})]})]}):(0,Z.jsx)(y,{children:(0,Z.jsx)("img",{src:g,alt:"error",width:"300px",height:"300px"})})})]})},y=x.ZP.div(i||(i=(0,f.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  \n  &>h4{\n    font-size: 14px;\n  }\n"]))),w=x.ZP.div(r||(r=(0,f.Z)(["\n  flex: 1;\n  min-height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n"])),v.Lr),k=x.ZP.div(o||(o=(0,f.Z)(["\n  width: 100%;\n  display: flex;\n"]))),b=x.ZP.div(l||(l=(0,f.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),P=x.ZP.div(a||(a=(0,f.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),M=x.ZP.div(c||(c=(0,f.Z)(["\n  font-size: 24px;\n"]))),E=x.ZP.div(s||(s=(0,f.Z)(["\n"]))),S=x.ZP.div(u||(u=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),Y=x.ZP.div(d||(d=(0,f.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 5px 10px!important;\n"]))),C=(0,h.memo)(j)},86388:function(n,e,t){var i,r,o,l,a,c,s,u,d,f,h,x,p,m=t(30168),v=t(15861),g=t(93433),Z=t(29439),j=t(64687),y=t.n(j),w=t(72791),k=t(72426),b=t.n(k),P=t(17939),M=t(27301),E=t(24518),S=t(76053),Y=t(55294),C=t(64554),D=t(47047),z=t(17425),L=t(88447),F=t(75618),A=t(59434),R=t(34358),_=t(56253),T=t(95173),H=t(34045),N=t(30203),O=t(80184),I={width:"1200px",maxHeight:318,margin:"0 auto"},U=P.ZP.div(i||(i=(0,m.Z)(["\n  flex: 3;\n  display: flex;\n  font-size: ",";\n  border: 1px solid ",";\n  align-items: center;\n  justify-content: center;\n  padding: 5px 10px !important;\n"])),(function(n){return n.sz?"12px":"8px"}),M.Lr),K=(0,P.ZP)(_.E.button)(r||(r=(0,m.Z)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"])),M.Lr),q=P.ZP.div(o||(o=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 26px;\n  color: ",";\n"])),M.Lr),B=P.ZP.div(l||(l=(0,m.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),G=P.ZP.button(a||(a=(0,m.Z)(["\n  width: 100%;\n  min-height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: bold;\n  border: 1px solid ",";\n  color: ",";\n  background-color: ",";\n  transition: 0.1s all ease-in;\n\n  &:hover {\n    filter: brightness(.7);\n  }\n\n  &:focus {\n    transform: scale(0.95);\n  }\n"])),M.Lr,(function(n){return n.bg?"#fff":n.color?"green":"red"}),(function(n){return n.bg?n.bg:"#fff"})),Q=P.ZP.span(c||(c=(0,m.Z)(["\n  font-size: 12px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),V=P.ZP.div(s||(s=(0,m.Z)(["\n  width: 100%;\n  min-height: 40px;\n  border: 1px solid ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"])),M.Lr),X=P.ZP.div(u||(u=(0,m.Z)(["\n  flex: 1;\n  height: 47px;\n  display: flex;\n  //flex-direction: column;\n"]))),$=P.ZP.div(d||(d=(0,m.Z)(["\n  display: flex;\n  width: 1200px;\n  margin: 0 auto;\n"]))),J=P.ZP.div(f||(f=(0,m.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-size: 24px;\n"]))),W=P.ZP.div(h||(h=(0,m.Z)(["\n  width: 100%;\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  margin-top: 25px !important;\n"]))),nn=P.ZP.div(x||(x=(0,m.Z)(["\n  width: 800px;\n  padding: 5px 10px !important;\n"]))),en={width:"40px!important",height:"40px!important",fontSize:"24px"},tn={border:"none"},rn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50vw",minHeight:500,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},on=P.ZP.div(p||(p=(0,m.Z)(["\n  ","\n  ","\n"])),(0,T.yG)({width:"80vw !important"}),(0,T.qD)({width:"90vw !important"}));e.Z=function(n){var e=n.userName,t=n.kafedraId,i=n.date,r=n.forUser,o=n.url,l=n.isTeacher,a=n.colName,c=(0,w.useState)(i),s=(0,Z.Z)(c,2),u=s[0],d=s[1],f=(0,w.useState)([]),h=(0,Z.Z)(f,2),x=h[0],p=h[1],m=(0,w.useState)(null),j=(0,Z.Z)(m,2),k=j[0],P=j[1],_=(0,w.useState)(null),T=(0,Z.Z)(_,2),ln=T[0],an=T[1],cn=(0,w.useState)(null),sn=(0,Z.Z)(cn,2),un=sn[0],dn=sn[1],fn=(0,w.useState)(!1),hn=(0,Z.Z)(fn,2),xn=hn[0],pn=hn[1],mn=function(){pn(!1)},vn=(0,M.wU)().headers,gn=function(n){return n.getFullYear()+"."+(n.getMonth()+1)+"."+n.getDate()};(0,w.useEffect)((function(){p((function(){return Array.from(Array(b()(u).daysInMonth()).keys()).map((function(n){return n+1}))})),Dn()}),[u]);var Zn=(0,w.useState)([]),jn=(0,Z.Z)(Zn,2),yn=jn[0],wn=jn[1];(0,w.useEffect)((function(){P(l?zn:Ln)}),[]);var kn=(0,w.useState)(!1),bn=(0,Z.Z)(kn,2),Pn=bn[0],Mn=bn[1];(0,w.useEffect)((function(){wn([]),null===k||void 0===k||k.map((function(n){var e=0;return null===x||void 0===x||x.map((function(t){null!=(null===n||void 0===n?void 0:n.monthly[t])&&e++})),wn((function(n){return[].concat((0,g.Z)(n),[e])})),n}))}),[Pn]);var En=(0,w.useState)(!0),Sn=(0,Z.Z)(En,2),Yn=Sn[0],Cn=Sn[1],Dn=function(){var n=(0,v.Z)(y().mark((function n(){return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Cn(!0),n.next=3,Y.Z.get("".concat(M._n+o+t,"&date=").concat(gn(u)),{headers:vn}).then((function(n){var e,t;P(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.obj)||void 0===t?void 0:t.all),Cn(!1),Mn((function(n){return!n}))})).catch((function(n){console.log(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),zn=(0,A.v9)((function(n){var e,t;return null===n||void 0===n||null===(e=n.rektorTeachers)||void 0===e||null===(t=e.rektorTeachers)||void 0===t?void 0:t.allTeachers})),Ln=(0,A.v9)((function(n){var e,t;return null===n||void 0===n||null===(e=n.rektorStaffs)||void 0===e||null===(t=e.rektorStaffs)||void 0===t?void 0:t.allStaffs}));return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(nn,{style:{width:"".concat(r||"100%")},children:[(0,O.jsx)(B,{children:(0,O.jsx)(q,{children:e})}),(0,O.jsx)("hr",{}),(0,O.jsxs)(J,{children:[(0,O.jsx)(E.Z,{style:en,onClick:function(){d(new Date(u.getFullYear(),u.getMonth()-1))},children:(0,O.jsx)(S.$K8,{})}),(0,O.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:b()(u).format("YYYY-MM"),onChange:function(n){return d(new Date(n.target.value))},style:tn}),(0,O.jsx)(E.Z,{style:en,onClick:function(){d(new Date(u.getFullYear(),u.getMonth()+1))},children:(0,O.jsx)(S._P3,{})})]}),(0,O.jsx)(W,{children:Yn?(0,O.jsx)(D.Z,{animation:"wave",width:r||"100%",height:120}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)($,{children:null===x||void 0===x?void 0:x.map((function(n,e){return(0,O.jsxs)(O.Fragment,{children:[1===n&&(0,O.jsx)(U,{sz:!0,children:a},e),(0,O.jsx)(X,{children:(0,O.jsxs)(V,{children:[n,(0,O.jsx)(Q,{children:b()(new Date(u.getFullYear(),u.getMonth(),n)).format("ddd")})]})},n),n===(null===x||void 0===x?void 0:x.length)&&(0,O.jsx)(X,{children:(0,O.jsx)(V,{children:"\u2211"})})]})}))}),(0,O.jsx)(R.Z,{style:I,children:null===k||void 0===k?void 0:k.map((function(n,e){return(0,O.jsxs)($,{children:[(0,O.jsx)(U,{children:n.fullName}),null===x||void 0===x?void 0:x.map((function(t){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(X,{children:(0,O.jsx)(G,{color:n.monthly[t],onClick:function(){return function(n,e){var t;an(new Date(u.getFullYear(),u.getMonth(),n)),dn(null===(t=k[e])||void 0===t?void 0:t.monthly[n]),pn(!0)}(t,e)},children:new Date(u.getFullYear(),u.getMonth(),t)<=new Date?n.monthly[t]?(0,O.jsx)(N.ETl,{}):(0,O.jsx)(N.hKd,{}):""})},t),t===(null===x||void 0===x?void 0:x.length)&&(0,O.jsx)(X,{children:(0,O.jsx)(G,{color:0!==yn[e],bg:0!==yn[e]?"green":"red",children:yn[e]})})]})}))]})}))})]})}),(0,O.jsx)(C.Z,{display:"flex",justifyContent:"end",mt:1,children:(0,O.jsx)(E.Z,{onClick:function(){if(k){var n=[[a].concat((0,g.Z)(x.map((function(n){return n.toString()}))),["Total"])].concat((0,g.Z)(k.map((function(n){var e=[n.fullName],t=0;return x.forEach((function(i){if(new Date(u.getFullYear(),u.getMonth(),i)<=new Date){var r=n.monthly[i]?"1":"0";e.push(r),t+=parseInt(r)}else e.push("")})),e.push(t.toString()),e})))),e=H.P6.aoa_to_sheet(n),t=H.P6.book_new();H.P6.book_append_sheet(t,e,"Sheet1"),H.NC(t,"exported_data.xlsx")}},variant:"contained",children:"Export"})}),(0,O.jsx)(L.Z,{open:xn,onClose:mn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,O.jsxs)(C.Z,{sx:rn,component:on,children:[(0,O.jsx)(K,{onClick:mn,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,O.jsx)(z.eSQ,{})}),(0,O.jsx)(F.Z,{time:ln,item:un})]})})]})})}},99264:function(n,e,t){t.d(e,{M:function(){return m}});var i=t(29388),r=t(72791),o=t(66252),l=t(5328),a=t(60131),c=t(81421),s=t(28174),u=function(n){var e=n.children,t=n.initial,o=n.isPresent,l=n.onExitComplete,u=n.custom,f=n.presenceAffectsLayout,h=(0,c.h)(d),x=(0,s.M)(),p=(0,r.useMemo)((function(){return{id:x,initial:t,isPresent:o,custom:u,onExitComplete:function(n){var e,t;h.set(n,!0);try{for(var r=(0,i.XA)(h.values()),o=r.next();!o.done;o=r.next()){if(!o.value)return}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}null===l||void 0===l||l()},register:function(n){return h.set(n,!1),function(){return h.delete(n)}}}}),f?void 0:[o]);return(0,r.useMemo)((function(){h.forEach((function(n,e){return h.set(e,!1)}))}),[o]),r.useEffect((function(){!o&&!h.size&&(null===l||void 0===l||l())}),[o]),r.createElement(a.O.Provider,{value:p},e)};function d(){return new Map}var f=t(7497),h=t(92199),x=t(91475),p=function(n){return n.key||""};var m=function(n){var e=n.children,t=n.custom,a=n.initial,c=void 0===a||a,s=n.onExitComplete,d=n.exitBeforeEnter,m=n.presenceAffectsLayout,v=void 0===m||m,g=(0,i.CR)((0,o.N)(),1)[0],Z=(0,r.useContext)(f.p).forceRender;Z&&(g=Z);var j=(0,l.t)(),y=function(n){var e=[];return r.Children.forEach(n,(function(n){(0,r.isValidElement)(n)&&e.push(n)})),e}(e),w=y,k=new Set,b=(0,r.useRef)(w),P=(0,r.useRef)(new Map).current,M=(0,r.useRef)(!0);if((0,h.L)((function(){M.current=!1,function(n,e){n.forEach((function(n){var t=p(n);e.set(t,n)}))}(y,P),b.current=w})),(0,x.z)((function(){M.current=!0,P.clear(),k.clear()})),M.current)return r.createElement(r.Fragment,null,w.map((function(n){return r.createElement(u,{key:p(n),isPresent:!0,initial:!!c&&void 0,presenceAffectsLayout:v},n)})));w=(0,i.ev)([],(0,i.CR)(w),!1);for(var E=b.current.map(p),S=y.map(p),Y=E.length,C=0;C<Y;C++){var D=E[C];-1===S.indexOf(D)&&k.add(D)}return d&&k.size&&(w=[]),k.forEach((function(n){if(-1===S.indexOf(n)){var e=P.get(n);if(e){var i=E.indexOf(n);w.splice(i,0,r.createElement(u,{key:p(e),isPresent:!1,onExitComplete:function(){P.delete(n),k.delete(n);var e=b.current.findIndex((function(e){return e.key===n}));if(b.current.splice(e,1),!k.size){if(b.current=y,!1===j.current)return;g(),s&&s()}},custom:t,presenceAffectsLayout:v},e))}}})),w=w.map((function(n){var e=n.key;return k.has(e)?n:r.createElement(u,{key:p(n),isPresent:!0,presenceAffectsLayout:v},n)})),r.createElement(r.Fragment,null,k.size?w:w.map((function(n){return(0,r.cloneElement)(n)})))}},66252:function(n,e,t){t.d(e,{N:function(){return a}});var i=t(29388),r=t(32968),o=t(72791),l=t(5328);function a(){var n=(0,l.t)(),e=(0,i.CR)((0,o.useState)(0),2),t=e[0],a=e[1],c=(0,o.useCallback)((function(){n.current&&a(t+1)}),[t]);return[(0,o.useCallback)((function(){return r.ZP.postRender(c)}),[c]),t]}},5328:function(n,e,t){t.d(e,{t:function(){return o}});var i=t(72791),r=t(92199);function o(){var n=(0,i.useRef)(!1);return(0,r.L)((function(){return n.current=!0,function(){n.current=!1}}),[]),n}}}]);
//# sourceMappingURL=469.992b0553.chunk.js.map