"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[6259],{16259:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var o,i,l=t(30168),a=t(29439),c=t(72791),r=t(17939),s=t(71986),d=t(64554),u=t(24518),f=t(78820),p=t(52739),h=t(55294),g=t(56960),x=t(13239),m=t(1582),v=t(27301),y=t(80184),Z=r.ZP.div(o||(o=(0,l.Z)(["\n    position: relative;\n    width: 95%;\n    height: 30px;\n    //background-color: #ccc;\n    border-radius: 7px;\n    overflow: hidden;\n\n    .progress-bar {\n        background-color: ",";\n        color: #fff;\n        text-align: center;\n        line-height: 30px;\n        width: 0;\n        position: absolute;\n        transition: width 0.1s;\n    }\n"])),v.Lr),j=function(n){var e=n.saveFileUrl,t=n.urlBase,o=n.getHistoryUploadFile,i=(0,c.useState)(!1),l=(0,a.Z)(i,2),r=l[0],s=l[1],j=(0,c.useState)(0),b=(0,a.Z)(j,2),w=b[0],C=b[1];return console.log(w),(0,y.jsxs)(d.Z,{display:"flex",justifyContent:"end",children:[(0,y.jsxs)(m.Z,{direction:"row",spacing:2,children:[(0,y.jsxs)(u.Z,{startIcon:(0,y.jsx)(f.IEK,{}),variant:"contained",component:"label",onChange:function(n){s(!0);var t=n.target.files[0],i=v._n+e,l=localStorage.getItem(v.o3),a=new FormData;a.append("file",t),console.log(t),h.Z.post(i,a,{headers:{"Content-Type":"multipart/form-data",Authorization:v.iv+l,"Access-Control-Allow-Origin":"*"},onUploadProgress:function(n){console.log(n);var e=Math.round(100*n.loaded/n.total);console.log("".concat(n.loaded,"kb | ").concat(n.total,"kb | ").concat(e,"%")),e<100&&C(e)}}).then((function(n){setTimeout((function(){console.log(n),g.Am.success("Uploaded file successfully"),o(),C(100)}),1e3)})).catch((function(n){console.log(n),g.Am.error("Upload failed")})).finally((function(){return s(!1)})),n.target.value=null},children:["import student file",(0,y.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",type:"file",hidden:!0})]}),(0,y.jsx)(u.Z,{variant:"contained",onClick:function(){for(var n=atob(t),e=new Uint8Array(n.length),o=0;o<n.length;++o)e[o]=n.charCodeAt(o);var i=new Blob([e],{type:"application/xlsx"}),l=document.createElement("a");l.href=URL.createObjectURL(i),l.download="file.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l)},children:"example file"})]}),(0,y.jsx)(p.Z,{sx:{color:"#fff",zIndex:function(n){return n.zIndex.drawer+1}},open:r,children:(0,y.jsx)(Z,{children:(0,y.jsx)(d.Z,{display:"flex",justifyContent:"center",children:(0,y.jsx)(x.Z,{color:"inherit"})})})})]})},b=r.ZP.div(i||(i=(0,l.Z)(["\n    width: 100%;\n    padding: 1rem;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]))),w=function(){var n=s.$C,e=(0,c.useState)(!1),t=(0,a.Z)(e,2),o=(t[0],t[1]),i=(0,c.useState)([]),l=(0,a.Z)(i,2),r=(l[0],l[1]),d=function(){o(!0),h.Z.get(v._n+"/getHistoryUploadFile").then((function(n){console.log(n.data),r([])})).catch((function(n){console.log(n)})).finally((function(){o(!1)}))};return(0,c.useEffect)((function(){d()}),[]),(0,y.jsx)(b,{children:(0,y.jsx)(j,{getHistoryUploadFile:d,saveFileUrl:"/student/uploadStudent",urlBase:n})})}}}]);
//# sourceMappingURL=6259.a0a8987c.chunk.js.map