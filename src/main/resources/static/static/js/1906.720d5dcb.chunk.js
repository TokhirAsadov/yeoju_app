"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[1906],{81906:function(n,e,i){i.r(e);var o,t,d,l,a,r,u,s,c,p,h=i(30168),v=i(93433),f=i(1413),x=i(29439),m=i(72791),g=i(17939),b=i(27301),Z=i(55294),j=i(56960),w=i(34197),C=i(89704),S=i(58766),D=i(88447),y=i(64554),N=i(17425),k=i(48550),P=i(68096),_=i(30829),A=i(84638),O=i(58406),R=i(56355),I=i(16856),L=i(24518),z=i(80184),T=g.ZP.button(o||(o=(0,h.Z)(["  \n  width: 120px;\n  height:50px;\n  background: ","; \n  font-size: 18px; \n  border-radius: 4px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-left: 15px!important;\n  letter-spacing: 1.2px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    transform: scale(0.95);\n  }\n"])),b.Lr,b.Lr),E=g.ZP.div(t||(t=(0,h.Z)(["\n  padding: 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 25px;\n"]))),G=g.ZP.button(d||(d=(0,h.Z)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center; \n  background-color: rgba(255,255,255,0.6);\n  border-radius: 50%;\n  color: ",";\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"])),b.Lr),U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4},W=g.ZP.div(l||(l=(0,h.Z)(["\n  width: 100%;\n  display: flex;\n  gap: 10px;\n  margin: 5px!important;\n"]))),B=g.ZP.div(a||(a=(0,h.Z)(["\n  width: 100%;\n  background-color: #fff;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n"]))),H=g.ZP.h3(r||(r=(0,h.Z)(["\n  display: flex;\n  width: 100%;\n  float: left;\n  margin-left: 15px;\n  margin-top: ",";\n  color: ",";\n"])),(function(n){return n.mt}),b.Lr),Q=g.ZP.button(u||(u=(0,h.Z)(["\n  margin-top: 20px;\n  width: 100px;\n  height:35px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-left: 15px!important;\n  letter-spacing: 1.2px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    transform: scale(0.95);\n  }\n"])),b.Lr,b.Lr),V=g.ZP.div(s||(s=(0,h.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding:  8px!important;\n  color: ",";\n"])),b.Lr),K=g.ZP.select(c||(c=(0,h.Z)(["\n  width: "," ;\n  margin-top: 20px;\n  height:35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 7px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  margin-left: 15px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n  \n"])),(function(n){return n.width}),b.Lr,b.Lr),M=g.ZP.div(p||(p=(0,h.Z)(["\n  padding:  10px!important; \n"])));e.default=function(){var n,e=(0,m.useState)(""),i=(0,x.Z)(e,2),o=i[0],t=i[1],d=(0,m.useState)(1),l=(0,x.Z)(d,2),a=l[0],r=l[1],u=(0,m.useState)([]),s=(0,x.Z)(u,2),c=s[0],p=s[1],h=(0,m.useState)(1),g=(0,x.Z)(h,2),q=g[0],F=g[1],J=(0,m.useState)([]),X=(0,x.Z)(J,2),Y=X[0],$=X[1],nn=(0,m.useState)(""),en=(0,x.Z)(nn,2),on=en[0],tn=en[1],dn=(0,m.useState)([]),ln=(0,x.Z)(dn,2),an=ln[0],rn=ln[1],un=(0,m.useState)(""),sn=(0,x.Z)(un,2),cn=sn[0],pn=sn[1],hn=(0,m.useState)([]),vn=(0,x.Z)(hn,2),fn=vn[0],xn=vn[1],mn=(0,m.useState)({deviceId:a,doorName:cn,doorNo:q}),gn=(0,x.Z)(mn,2),bn=gn[0],Zn=gn[1],jn=(0,m.useState)(!1),wn=(0,x.Z)(jn,2),Cn=wn[0],Sn=(wn[1],[{field:"id",headerName:"ID",width:40,editable:!1},{field:"ip",headerName:"Device",type:"string",width:300,editable:!1},{field:"port",headerName:"Port",type:"integer",width:180,editable:!1},{field:"room",headerName:"Room",type:"string",width:140,editable:!1},{field:"state",headerName:"State",type:"string",width:240,editable:!1,renderCell:function(n){return(0,z.jsxs)(W,{children:[(0,z.jsx)(L.Z,{size:"small",variant:"contained",startIcon:(0,z.jsx)(R.fmQ,{size:17}),onClick:function(e){e.preventDefault(),Qn(n.id)},children:"Update"}),(0,z.jsx)(L.Z,{size:"small",startIcon:(0,z.jsx)(I.ZkW,{size:17}),variant:"contained",color:"error",onClick:function(e){e.preventDefault(),Vn(n.id)},children:"Delete"})]})}}]),Dn=(0,m.useState)([{id:1,fullName:"Tohir Asadov",cardNo:"123456",dateAsc:new Date,dateDesc:new Date,phoneNumber:"993361603"},{id:2,fullName:"Tohir Asadov",cardNo:"123456",dateAsc:new Date,dateDesc:new Date,Print:"OK See",phoneNumber:"993361603"}]),yn=(0,x.Z)(Dn,2),Nn=yn[0],kn=yn[1],Pn=m.useState(!1),_n=(0,x.Z)(Pn,2),An=_n[0],On=_n[1],Rn=(0,m.useState)({}),In=(0,x.Z)(Rn,2),Ln=In[0],zn=In[1],Tn=(0,m.useState)([]),En=(0,x.Z)(Tn,2),Gn=En[0],Un=En[1],Wn=function(){return On(!1)},Bn=(0,b.wU)().headers;(0,m.useEffect)((function(){Zn((0,f.Z)((0,f.Z)({},bn),{},{deviceId:a,doorName:cn,doorNo:q}))}),[a,q,cn]),(0,m.useEffect)((function(){Hn()}),[]),(0,m.useEffect)((function(){var n,e;r(null===(n=c[0])||void 0===n?void 0:n.id),c[0]&&Z.Z.get(b._n+b.GN.ACC_DOOR_PORTS+(null===(e=c[0])||void 0===e?void 0:e.id),{headers:Bn}).then((function(n){var e;$(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj)})).catch((function(n){console.log(n)}))}),[c]),(0,m.useEffect)((function(){var n,e=null===(n=c.filter((function(n){return(null===n||void 0===n?void 0:n.ip)===o}))[0])||void 0===n?void 0:n.id;r(e),e&&Z.Z.get(b._n+b.GN.ACC_DOOR_PORTS+e,{headers:Bn}).then((function(n){var e;$(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj)})).catch((function(n){console.log(n)}))}),[o]);var Hn=function(){Z.Z.get(b._n+b.GN.DEVICE,{headers:Bn}).then((function(n){var e,i,o,t,d,l;p(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.devices),rn(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.buildings),xn(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.rooms),pn(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(d=t.rooms[0])||void 0===d?void 0:d.name),kn(null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.deviceList)})).catch((function(n){console.log(n)}))},Qn=function(n){var e;On(!0),zn(Nn.find((function(e){return e.id===n}))),Un([null===Nn||void 0===Nn||null===(e=Nn.find((function(e){return e.id===n})))||void 0===e?void 0:e.port]),function(n){Z.Z.get(b._n+b.GN.ACC_DOOR_PORTS+n,{headers:Bn}).then((function(n){Un((function(e){var i;return[].concat((0,v.Z)(e),(0,v.Z)(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.obj))}))})).catch((function(n){console.log(n)}))}(n)},Vn=function(n){Z.Z.get(b._n+"/ac-door/findById/"+n,{headers:Bn}).then((function(e){var i,o;200===e.status&&(window.confirm("Do you agree to delete "+(null===(i=e.data)||void 0===i||null===(o=i.obj)||void 0===o?void 0:o.doorName)+" room?")&&Kn(n))})).catch((function(n){console.log(n)}))},Kn=function(n){console.log(n,"deleted id"),Z.Z.delete(b._n+"/ac-door/delete/"+n,{headers:Bn}).then((function(e){204===e.status&&(j.Am.success("Deleted room successfully!..."),kn(Nn.filter((function(e){return e.id!==n}))),Hn())})).catch((function(n){console.log(n)}))};return(0,z.jsxs)(M,{children:[(0,z.jsx)(H,{children:"Update Device"}),(0,z.jsxs)(V,{children:[(0,z.jsx)(K,{id:"device",width:"230px",value:o,onChange:function(n){return t(n.target.value)},children:(0,z.jsx)("optgroup",{label:"Devices",children:null===c||void 0===c?void 0:c.map((function(n,e){return(0,z.jsx)("option",{value:n.ip,children:n.ip},e)}))})}),(0,z.jsx)(K,{id:"ip",width:"140px",value:q,onChange:function(n){return F(n.target.value)},children:(0,z.jsx)("optgroup",{label:"Ports",children:null===Y||void 0===Y?void 0:Y.map((function(n,e){return(0,z.jsx)("option",{value:n,children:n},e)}))})}),(0,z.jsx)(K,{id:"building",width:"140px",value:on,onChange:function(n){return tn(n.target.value)},children:(0,z.jsx)("optgroup",{label:"Buildings",children:null===an||void 0===an?void 0:an.map((function(n,e){return(0,z.jsx)("option",{value:n.name,children:n.name},e)}))})}),(0,z.jsx)(K,{id:"room",width:"230px",value:cn,onChange:function(n){return pn(n.target.value)},children:(0,z.jsx)("optgroup",{label:"Rooms",children:null===fn||void 0===fn?void 0:fn.map((function(n,e){return(0,z.jsx)("option",{value:n.name,children:n.name},e)}))})}),(0,z.jsx)(Q,{onClick:function(){Z.Z.put(b._n+b.GN.ACC_DOOR_UPDATED,bn,{headers:Bn}).then((function(n){Hn(),200===n.status&&j.Am.success("Changed successfully...")})).catch((function(n){console.log(n)}))},children:"Save"})]}),(0,z.jsx)(H,{mt:"50px",children:"Table of Device"}),(0,z.jsxs)(B,{children:[Cn?(0,z.jsx)(w.Z,{}):(0,z.jsx)(C._,{checkboxSelection:!0,style:{width:"700px",minHeight:"300px!important"},columns:Sn,rows:Nn,components:{Toolbar:S.n},autoHeight:!0,pageSize:50,initialState:(0,f.Z)((0,f.Z)({},Nn.initialState),{},{columns:{columnVisibilityModel:{id:!1}}})}),(0,z.jsx)(D.Z,{open:An,onClose:Wn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,z.jsxs)(y.Z,{sx:U,children:[(0,z.jsx)(G,{onClick:Wn,children:(0,z.jsx)(N.eSQ,{})}),(0,z.jsxs)(E,{children:[(0,z.jsx)(k.Z,{id:"outlined-basic",label:"IP",variant:"outlined",value:null===Ln||void 0===Ln?void 0:Ln.ip,disabled:!0}),(0,z.jsx)(y.Z,{sx:{minWidth:200},children:(0,z.jsxs)(P.Z,{fullWidth:!0,children:[(0,z.jsx)(_.Z,{id:"demo-simple-select-label",children:"Port"}),(0,z.jsx)(O.Z,{disabled:!0,sx:{width:"200px"," @media only screen and  (max-width: 576px)":{width:300}},labelId:"demo-simple-select-label",id:"demo-simple-select",name:"port",value:null===Ln||void 0===Ln?void 0:Ln.port,label:"Port",onChange:function(n){return zn((function(e){var i;return(0,f.Z)((0,f.Z)({},e),{},{port:null===n||void 0===n||null===(i=n.target)||void 0===i?void 0:i.value})}))},children:null===Gn||void 0===Gn?void 0:Gn.map((function(n){return(0,z.jsx)(A.Z,{value:n,children:n},n)}))})]})}),(0,z.jsx)(y.Z,{sx:{minWidth:200},children:(0,z.jsxs)(P.Z,{fullWidth:!0,children:[(0,z.jsx)(_.Z,{id:"demo-simple-select-label",children:"Room"}),(0,z.jsx)(O.Z,{sx:{width:"200px"," @media only screen and  (max-width: 576px)":{width:300}},labelId:"demo-simple-select-label",id:"demo-simple-select",name:"room",value:null===Ln||void 0===Ln?void 0:Ln.room,label:"Room",onChange:function(n){return zn((function(e){var i;return(0,f.Z)((0,f.Z)({},e),{},{room:null===n||void 0===n||null===(i=n.target)||void 0===i?void 0:i.value})}))},children:null===(n=[{name:null===Ln||void 0===Ln?void 0:Ln.room}].concat((0,v.Z)(fn)))||void 0===n?void 0:n.map((function(n){return(0,z.jsx)(A.Z,{value:null===n||void 0===n?void 0:n.name,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.name)}))})]})})]}),(0,z.jsx)(E,{children:(0,z.jsx)(T,{onClick:function(){return n={deviceId:null===Ln||void 0===Ln?void 0:Ln.deviceId,doorName:null===Ln||void 0===Ln?void 0:Ln.room,doorNo:null===Ln||void 0===Ln?void 0:Ln.port},void Z.Z.put(b._n+b.GN.ACC_DOOR_UPDATED,n,{headers:Bn}).then((function(n){On(!1),Hn(),200===n.status&&j.Am.success("Changed successfully...")})).catch((function(n){console.log(n)}));var n},children:"Update"})})]})})]})]})}}}]);
//# sourceMappingURL=1906.720d5dcb.chunk.js.map