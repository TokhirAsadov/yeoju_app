"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[6843],{76843:function(n,r,t){t.r(r),t.d(r,{default:function(){return _}});var e,o,i,a=t(30168),s=t(15861),l=t(29439),c=t(64687),d=t.n(c),u=t(72791),f=t(17939),h=t(27301),v=t(57621),m=t(39504),p=t(24518),x=t(64554),b=t(1413),g=t(1582),j=t(48550),Z=t(84373),w=t(56960),y=t(77159),C=t(72426),S=t.n(C),k=t(55294),P=t(80184),D=f.ZP.div(e||(e=(0,a.Z)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow-x: scroll;\n\n\n  table {\n    min-width: 900px;\n    border-collapse: collapse;\n    width: 100%;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 13px;\n    }\n\n    th {\n      text-align: center;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #fcf9f9;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n\n    .date_position {\n      position: relative;\n\n      span {\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding-right: 5px;\n        color: #c9bcbc;\n        font-size: 12px;\n        text-align: end;\n      }\n    }\n\n  }\n\n"])),h.Lr),A=function(n){var r=n.data,t=n.setData,e=n.fetchData,o=(0,h.wU)().headers,i=function(){var n=(0,s.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(r),n.next=3,k.Z.put("".concat(h._n,"/permissionForTeacherGrading/changePermissionStatus"),r,{headers:o}).then((function(n){console.log(n," all updated")})).catch((function(n){console.log(n,"all updated error")}));case 3:w.Am.success("success"),e();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(D,{children:(0,P.jsxs)("table",{children:[(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)("th",{children:"\u2116"}),(0,P.jsx)("th",{children:"Full Name"}),(0,P.jsx)("th",{children:"Subject"}),(0,P.jsx)("th",{children:"Group"}),(0,P.jsx)("th",{children:"Status"}),(0,P.jsx)("th",{children:"Deadline"}),(0,P.jsx)("th",{children:"Action"})]})}),(0,P.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(n,r){var e,o,i;return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{textAlign:"center"},children:r+1}),(0,P.jsxs)("td",{className:"date_position",children:[null===n||void 0===n||null===(e=n.teacher)||void 0===e?void 0:e.fullName," ",(0,P.jsx)("span",{children:S()(null===n||void 0===n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")})," "]}),(0,P.jsx)("td",{style:{textAlign:"center"},children:null===n||void 0===n||null===(o=n.subject)||void 0===o?void 0:o.name}),(0,P.jsx)("td",{style:{textAlign:"center"},children:null===n||void 0===n||null===(i=n.group)||void 0===i?void 0:i.name}),(0,P.jsx)("td",{children:(0,P.jsx)(g.Z,{direction:"row",justifyContent:"center",children:(0,P.jsx)(p.Z,{color:"CONFIRM"===n.status?"success":"AT_PROCESS"===n.status?"primary":"error",variant:"contained",children:n.status})})}),(0,P.jsx)("td",{children:(0,P.jsx)(g.Z,{direction:"row",justifyContent:"center",children:(0,P.jsx)(j.Z,{sx:{width:"175px"},size:"small",disabled:"REJECT"===n.status||"AT_PROCESS"===n.status,inputProps:{min:S()().format("YYYY-MM-DDTHH:mm")},type:"datetime-local",onChange:function(r){return function(n,r){t((function(t){return t.map((function(t){return t.id===r?(0,b.Z)((0,b.Z)({},t),{},{deadline:n.target.value}):t}))}))}(r,n.id)}})})}),(0,P.jsx)("td",{children:(0,P.jsxs)(g.Z,{direction:"row",justifyContent:"center",spacing:3,children:[(0,P.jsx)(p.Z,{onClick:function(){return r=n.id,void t((function(n){return n.map((function(n){return n.id===r?(0,b.Z)((0,b.Z)({},n),{},{status:"CONFIRM"}):n}))}));var r},variant:"outlined",size:"small",color:"success",children:"Confirm"}),(0,P.jsx)(p.Z,{onClick:function(){return r=n.id,void t((function(n){return n.map((function(n){return n.id===r?(0,b.Z)((0,b.Z)({},n),{},{status:"REJECT",deadline:null}):n}))}));var r},variant:"outlined",size:"small",color:"error",children:"Reject"})]})})]},r)}))})]})}),0===(null===r||void 0===r?void 0:r.length)?(0,P.jsx)(y.Z,{w:200,h:180}):(0,P.jsx)(x.Z,{mt:"15px",display:"flex",justifyContent:"end",children:(0,P.jsx)(p.Z,{variant:"contained",endIcon:(0,P.jsx)(Z.meS,{}),disabled:r.some((function(n){return"AT_PROCESS"===n.status||("CONFIRM"===n.status&&null===n.deadline||void 0)})),onClick:i,children:"Save"})})]})},M=t(57482),Y=f.ZP.div(o||(o=(0,a.Z)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .date_position {\n        position: relative;\n\n        span {\n            width: 100%;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            padding-right: 5px;\n            color: #c9bcbc;\n            font-size: 12px;\n            text-align: end;\n        }\n    }\n\n"])),h.Lr),R=function(n){var r=n.dataOld,t=n.isLoadData;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Y,{children:(0,P.jsxs)("table",{children:[(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)("th",{children:"\u2116"}),(0,P.jsx)("th",{children:"Full Name"}),(0,P.jsx)("th",{children:"Group"}),(0,P.jsx)("th",{children:"Subject"}),(0,P.jsx)("th",{children:"Status"}),(0,P.jsx)("th",{children:"Deadline"})]})}),(0,P.jsx)("tbody",{children:!t&&(null===r||void 0===r?void 0:r.length)>0&&(null===r||void 0===r?void 0:r.map((function(n,r){var t,e,o;return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{style:{textAlign:"center"},children:r+1}),(0,P.jsxs)("td",{className:"date_position",children:[null===n||void 0===n||null===(t=n.teacher)||void 0===t?void 0:t.fullName,(0,P.jsx)("span",{children:S()(null===n||void 0===n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")})]}),(0,P.jsx)("td",{style:{textAlign:"center"},children:null===n||void 0===n||null===(e=n.subject)||void 0===e?void 0:e.name}),(0,P.jsx)("td",{style:{textAlign:"center"},children:null===n||void 0===n||null===(o=n.group)||void 0===o?void 0:o.name}),(0,P.jsx)("td",{children:(0,P.jsx)(g.Z,{direction:"row",justifyContent:"center",children:(0,P.jsx)(p.Z,{color:"CONFIRM"===n.status?"success":"AT_PROCESS"===n.status?"primary":"error",variant:"contained",children:n.status})})}),(0,P.jsx)("td",{style:{textAlign:"center"},children:(null===n||void 0===n?void 0:n.deadline)&&S()(null===n||void 0===n?void 0:n.deadline).format("DD.MM.YYYY HH:mm")})]},r)})))})]})}),t&&(0,P.jsx)(x.Z,{sx:{width:"100%"},children:(0,P.jsx)(M.Z,{})}),!t&&0===(null===r||void 0===r?void 0:r.length)&&(0,P.jsx)(y.Z,{w:200,h:180})]})},I=t(39126),N=t(59434),F=f.ZP.div(i||(i=(0,a.Z)(["\n    width: 100%;\n    padding: 1rem;\n"]))),_=function(){var n=(0,u.useState)([]),r=(0,l.Z)(n,2),t=r[0],e=r[1],o=(0,u.useState)([]),i=(0,l.Z)(o,2),a=i[0],c=i[1],f=(0,u.useState)(!0),b=(0,l.Z)(f,2),g=b[0],j=b[1],Z=(0,u.useState)(!1),w=(0,l.Z)(Z,2),y=w[0],C=w[1],S=(0,N.v9)((function(n){var r;return null===n||void 0===n||null===(r=n.educationYear)||void 0===r?void 0:r.educationYear})),D=function(){var n=(0,s.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C(!0),n.next=3,k.Z.get("".concat(h._n,"/permissionForTeacherGrading/findAllPermissionsForTeacherGradingByEducationYearIdAndStatus/").concat(null===S||void 0===S?void 0:S.id,"?status=AT_PROCESS")).then((function(n){var r;e(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.obj),console.log(n,"------------------------- permissions found------------------------")})).catch((function(n){console.log(n,"------------------------- permissions error------------------------"),e([])})).finally((function(){C(!1)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),M=function(){var n=(0,s.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C(!0),n.next=3,k.Z.get("".concat(h._n,"/permissionForTeacherGrading/getHistory")).then((function(n){var r;c(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.obj),console.log(n,"------------------------- old permissions found------------------------")})).catch((function(n){c([]),console.log(n,"------------------------- old permissions error------------------------")})).finally((function(){C(!1)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,u.useEffect)((function(){D()}),[]),(0,u.useEffect)((function(){M()}),[t]),(0,P.jsxs)(F,{children:[(0,P.jsx)(x.Z,{sx:{my:2,display:"flex",justifyContent:"end"},children:g?(0,P.jsx)(p.Z,{onClick:function(){return j(!1)},endIcon:(0,P.jsx)(I.NbQ,{}),variant:"contained",children:"history"}):(0,P.jsx)(p.Z,{onClick:function(){return j(!0)},startIcon:(0,P.jsx)(I.And,{}),variant:"outlined",children:"Back"})}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(m.Z,{children:g?(0,P.jsx)(A,{data:t,setData:e,isLoadData:y,fetchData:D}):(0,P.jsx)(R,{isLoadData:y,dataOld:a})})})]})}},57482:function(n,r,t){t.d(r,{Z:function(){return T}});var e=t(30168),o=t(63366),i=t(87462),a=t(72791),s=t(59278),l=t(94419),c=t(52554),d=t(12065),u=t(14036),f=t(13967),h=t(66934),v=t(31402),m=t(75878),p=t(21217);function x(n){return(0,p.Z)("MuiLinearProgress",n)}(0,m.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var b,g,j,Z,w,y,C,S,k,P,D,A,M=t(80184),Y=["className","color","value","valueBuffer","variant"],R=(0,c.F4)(C||(C=b||(b=(0,e.Z)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),I=(0,c.F4)(S||(S=g||(g=(0,e.Z)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),N=(0,c.F4)(k||(k=j||(j=(0,e.Z)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),F=function(n,r){return"inherit"===r?"currentColor":n.vars?n.vars.palette.LinearProgress["".concat(r,"Bg")]:"light"===n.palette.mode?(0,d.$n)(n.palette[r].main,.62):(0,d._j)(n.palette[r].main,.5)},_=(0,h.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(n,r){var t=n.ownerState;return[r.root,r["color".concat((0,u.Z)(t.color))],r[t.variant]]}})((function(n){var r=n.ownerState,t=n.theme;return(0,i.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:F(t,r.color)},"inherit"===r.color&&"buffer"!==r.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===r.variant&&{backgroundColor:"transparent"},"query"===r.variant&&{transform:"rotate(180deg)"})})),B=(0,h.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(n,r){var t=n.ownerState;return[r.dashed,r["dashedColor".concat((0,u.Z)(t.color))]]}})((function(n){var r=n.ownerState,t=n.theme,e=F(t,r.color);return(0,i.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===r.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(e," 0%, ").concat(e," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,c.iv)(P||(P=Z||(Z=(0,e.Z)(["\n    animation: "," 3s infinite linear;\n  "]))),N)),L=(0,h.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(n,r){var t=n.ownerState;return[r.bar,r["barColor".concat((0,u.Z)(t.color))],("indeterminate"===t.variant||"query"===t.variant)&&r.bar1Indeterminate,"determinate"===t.variant&&r.bar1Determinate,"buffer"===t.variant&&r.bar1Buffer]}})((function(n){var r=n.ownerState,t=n.theme;return(0,i.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===r.color?"currentColor":(t.vars||t).palette[r.color].main},"determinate"===r.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===r.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(n){var r=n.ownerState;return("indeterminate"===r.variant||"query"===r.variant)&&(0,c.iv)(D||(D=w||(w=(0,e.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),R)})),O=(0,h.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(n,r){var t=n.ownerState;return[r.bar,r["barColor".concat((0,u.Z)(t.color))],("indeterminate"===t.variant||"query"===t.variant)&&r.bar2Indeterminate,"buffer"===t.variant&&r.bar2Buffer]}})((function(n){var r=n.ownerState,t=n.theme;return(0,i.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==r.variant&&{backgroundColor:"inherit"===r.color?"currentColor":(t.vars||t).palette[r.color].main},"inherit"===r.color&&{opacity:.3},"buffer"===r.variant&&{backgroundColor:F(t,r.color),transition:"transform .".concat(4,"s linear")})}),(function(n){var r=n.ownerState;return("indeterminate"===r.variant||"query"===r.variant)&&(0,c.iv)(A||(A=y||(y=(0,e.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),I)})),T=a.forwardRef((function(n,r){var t=(0,v.Z)({props:n,name:"MuiLinearProgress"}),e=t.className,a=t.color,c=void 0===a?"primary":a,d=t.value,h=t.valueBuffer,m=t.variant,p=void 0===m?"indeterminate":m,b=(0,o.Z)(t,Y),g=(0,i.Z)({},t,{color:c,variant:p}),j=function(n){var r=n.classes,t=n.variant,e=n.color,o={root:["root","color".concat((0,u.Z)(e)),t],dashed:["dashed","dashedColor".concat((0,u.Z)(e))],bar1:["bar","barColor".concat((0,u.Z)(e)),("indeterminate"===t||"query"===t)&&"bar1Indeterminate","determinate"===t&&"bar1Determinate","buffer"===t&&"bar1Buffer"],bar2:["bar","buffer"!==t&&"barColor".concat((0,u.Z)(e)),"buffer"===t&&"color".concat((0,u.Z)(e)),("indeterminate"===t||"query"===t)&&"bar2Indeterminate","buffer"===t&&"bar2Buffer"]};return(0,l.Z)(o,x,r)}(g),Z=(0,f.Z)(),w={},y={bar1:{},bar2:{}};if("determinate"===p||"buffer"===p)if(void 0!==d){w["aria-valuenow"]=Math.round(d),w["aria-valuemin"]=0,w["aria-valuemax"]=100;var C=d-100;"rtl"===Z.direction&&(C=-C),y.bar1.transform="translateX(".concat(C,"%)")}else 0;if("buffer"===p)if(void 0!==h){var S=(h||0)-100;"rtl"===Z.direction&&(S=-S),y.bar2.transform="translateX(".concat(S,"%)")}else 0;return(0,M.jsxs)(_,(0,i.Z)({className:(0,s.Z)(j.root,e),ownerState:g,role:"progressbar"},w,{ref:r},b,{children:["buffer"===p?(0,M.jsx)(B,{className:j.dashed,ownerState:g}):null,(0,M.jsx)(L,{className:j.bar1,ownerState:g,style:y.bar1}),"determinate"===p?null:(0,M.jsx)(O,{className:j.bar2,ownerState:g,style:y.bar2})]}))}))}}]);
//# sourceMappingURL=6843.340d84c1.chunk.js.map