"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[6616],{6616:function(n,e,l){l.r(e),l.d(e,{default:function(){return D}});var i,d,t,o=l(30168),r=l(15861),a=l(29439),u=l(64687),c=l.n(u),s=l(72791),v=l(17939),h=l(64554),f=l(68096),x=l(30829),p=l(58406),m=l(84638),j=l(95173),Z=l(59434),b=l(48026),g=l(76760),w=l(55294),k=l(27301),S=l(57621),y=l(39504),C=l(24518),N=l(77159),_=l(34045),G=l(80184),F=v.ZP.div(i||(i=(0,o.Z)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow-x: scroll;\n\n  table {\n    min-width: 1500px;\n    border-collapse: collapse;\n    width: 100%;\n    text-align: center;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 14px;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #f2f2f2;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n  }\n  \n"])),k.Lr),I=function(n){var e,l,i,d=n.data;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(h.Z,{display:"flex",justifyContent:"end",mb:3,children:(0,G.jsx)(C.Z,{variant:"contained",onClick:function(){var n=_.P6.table_to_sheet(document.querySelector("table")),e=_.P6.book_new();_.P6.book_append_sheet(e,n,"Sheet1"),_.NC(e,"table_data.xlsx")},children:"Export to Excel"})}),(0,G.jsx)(F,{children:d.length>0?(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("table",{children:[(0,G.jsxs)("tr",{children:[(0,G.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,G.jsx)("th",{rowSpan:2,children:"Full name"}),null===(e=d[0])||void 0===e||null===(l=e.subjects)||void 0===l?void 0:l.map((function(n,e){return(0,G.jsx)("th",{colSpan:2,children:null===n||void 0===n?void 0:n.subjectName},e)}))]}),(0,G.jsx)("tr",{children:Array.from({length:2*(null===(i=d[0])||void 0===i?void 0:i.subjects.length)}).map((function(n,e){return(0,G.jsx)("th",{children:e%2===0?"JN":"YN"},e)}))}),d.map((function(n,e){var l;return(0,G.jsxs)("tr",{children:[(0,G.jsx)("td",{children:e+1}),(0,G.jsxs)("td",{children:[n.fullName," "]}),null===n||void 0===n||null===(l=n.subjects)||void 0===l?void 0:l.map((function(n,e){return(0,G.jsxs)(s.Fragment,{children:[(0,G.jsx)("td",{children:null!==(null===n||void 0===n?void 0:n.middleGrade)?null===n||void 0===n?void 0:n.middleGrade:"-"}),(0,G.jsx)("td",{children:null!==(null===n||void 0===n?void 0:n.endGrade)?null===n||void 0===n?void 0:n.endGrade:"-"})]},e)}))]},e)}))]})}):(0,G.jsx)(N.Z,{w:200,h:180})})]})},Y=l(16871),P=l(7692),E=v.ZP.div(d||(d=(0,o.Z)(["\n  margin-top: 15px;\n  padding: 15px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  ","\n"])),(0,j.qD)({justifyContent:"center"})),W=v.ZP.div(t||(t=(0,o.Z)(["\n  padding: 1rem;\n"]))),D=function(){var n,e=(0,k.wU)().headers,l=(0,Z.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.educationYear)||void 0===e?void 0:e.educationYear}))||null,i=(0,s.useState)([]),d=(0,a.Z)(i,2),t=d[0],o=d[1],u=(0,s.useState)(""),v=(0,a.Z)(u,2),j=v[0],N=v[1],_=(0,Z.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.dekanat)||void 0===e?void 0:e.dekanat}))||null,F=(0,Z.I0)(),D=(0,s.useState)(""),B=(0,a.Z)(D,2),U=B[0],q=B[1],A=(0,s.useState)([]),z=(0,a.Z)(A,2),J=z[0],L=z[1],M=(0,s.useState)([]),O=(0,a.Z)(M,2),T=O[0],X=O[1],H=(0,Y.s0)(),K=function(){var n=(0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.Z.get(k._n+"/education/educationYearsForSelected",{headers:e}).then((function(n){var e,l,i;o(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj),F((0,g.eD)(null===n||void 0===n||null===(l=n.data)||void 0===l||null===(i=l.obj)||void 0===i?void 0:i[0]))})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Q=function(){var n=(0,r.Z)(c().mark((function n(){var i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.Z.get("".concat(k._n,"/gradeOfStudentByTeacher/getAllMiddleGrade/").concat(null===l||void 0===l?void 0:l.id,"?groupId=").concat(null===J||void 0===J||null===(i=J.find((function(n){return(null===n||void 0===n?void 0:n.name)===U})))||void 0===i?void 0:i.id),{headers:e}).then((function(n){var e;console.log(null===n||void 0===n?void 0:n.data,"come on data"),X(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj.sort(R))})).catch((function(n){console.log(n),X([])}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function R(n,e){var l=n.fullName.toUpperCase(),i=e.fullName.toUpperCase();return l<i?-1:l>i?1:0}return(0,s.useEffect)((function(){var n,l;j&&w.Z.get(k._n+"/dekan/getGroupsNamesForDekanByFacultyId/".concat(null===_||void 0===_||null===(n=_.faculties)||void 0===n||null===(l=n.find((function(n){return n.shortName===j})))||void 0===l?void 0:l.id),{headers:e}).then((function(n){var e;L(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.sort((function(n,e){return(null===n||void 0===n?void 0:n.name)>(null===e||void 0===e?void 0:e.name)?1:(null===n||void 0===n?void 0:n.name)<(null===e||void 0===e?void 0:e.name)?-1:0})))})).catch((function(n){console.log(n)}))}),[j]),(0,s.useEffect)((function(){U&&F((0,b.W2)()),U&&Q()}),[U]),(0,s.useEffect)((function(){K()}),[]),(0,G.jsxs)(W,{children:[(0,G.jsx)(h.Z,{mb:2,display:"flex",justifyContent:"end",children:(0,G.jsx)(C.Z,{onClick:function(){return H(-1)},variant:"outlined",startIcon:(0,G.jsx)(P.YiX,{}),children:"Back"})}),(0,G.jsxs)(E,{children:[(0,G.jsx)(h.Z,{sx:{width:200},children:(0,G.jsxs)(f.Z,{fullWidth:!0,children:[(0,G.jsx)(x.Z,{id:"semestr",children:"Semestr"}),(0,G.jsx)(p.Z,{labelId:"semestr",id:"demo-simple-select",value:null===l||void 0===l?void 0:l.name,label:"Semistr",onChange:function(n){n.target.value!==(null===l||void 0===l?void 0:l.name)&&F((0,b.W2)()),F((0,g.eD)(null===t||void 0===t?void 0:t.find((function(e){return(null===e||void 0===e?void 0:e.name)===n.target.value}))))},children:t.map((function(n,e){return(0,G.jsx)(m.Z,{value:null===n||void 0===n?void 0:n.name,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})]})}),(0,G.jsx)(h.Z,{sx:{width:200},children:(0,G.jsxs)(f.Z,{fullWidth:!0,children:[(0,G.jsx)(x.Z,{id:"demo-simple-select-label",children:"Yo'nalish"}),(0,G.jsx)(p.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,label:"Yo'nalish",onChange:function(n){N(n.target.value)},children:null===_||void 0===_||null===(n=_.faculties)||void 0===n?void 0:n.map((function(n,e){return(0,G.jsx)(m.Z,{value:null===n||void 0===n?void 0:n.shortName,children:null===n||void 0===n?void 0:n.shortName},null===n||void 0===n?void 0:n.id)}))})]})}),(0,G.jsx)(h.Z,{sx:{width:200},children:(0,G.jsxs)(f.Z,{fullWidth:!0,children:[(0,G.jsx)(x.Z,{id:"demo-simple-select-label1",children:"Group"}),(0,G.jsx)(p.Z,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:U,label:"Group",onChange:function(n){q(n.target.value)},children:null===J||void 0===J?void 0:J.map((function(n,e){return(0,G.jsx)(m.Z,{value:null===n||void 0===n?void 0:n.name,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})]})})]}),(0,G.jsx)(S.Z,{children:(0,G.jsx)(y.Z,{children:(0,G.jsx)(I,{data:T})})})]})}}}]);
//# sourceMappingURL=6616.ac115fbc.chunk.js.map