/*! For license information please see 510.11d4d9ef.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["510"],{28630:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return H}});var r=t("38956"),l=t("58865");t("92222"),t("17727"),t("88674"),t("41539"),t("2707"),t("21249"),t("57640"),t("9924");var i=t("85893"),d=t("67294"),o=t("7104"),a=t("89589"),u=t("55693"),c=t("28685"),s=t("71893"),f=t("30381"),h=t.n(f),x=t("90199"),j=t("71632"),m=t("27233"),p=t("50533"),v=t("97367"),b=t("60155"),g=t("94718"),C=t("72132"),y=t("5434");function w(){var n=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return w=function(){return n},n}function k(){var n=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return k=function(){return n},n}function S(){var n=(0,l._)(["\n    ","\n"]);return S=function(){return n},n}function Y(){var n=(0,l._)(["\n    display: flex;\n    justify-content: end;\n    ","\n"]);return Y=function(){return n},n}function D(){var n=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n            text-align: center;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }"]);return D=function(){return n},n}var _=s.default.div(w()),A=s.default.button(k(),c.mainColor),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},z=s.default.div(S(),(0,j.extrasmall)({width:"95% !important"})),I=s.default.div(Y(),(0,j.extrasmall)({justifyContent:"center"})),E=s.default.div(D(),c.mainColor),H=function(){var n,e=(0,p.useSelector)(function(n){var e;return null==n?void 0:null===(e=n.student)||void 0===e?void 0:e.student}),t=(null===(n=e.groupData)||void 0===n?void 0:n.educationTypeName)==="SIRTQI",l=(0,r._)((0,d.useState)([]),2),s=l[0],f=l[1],j=(0,r._)((0,d.useState)([]),2),w=j[0],k=j[1],S=(0,r._)((0,d.useState)(!1),2),Y=(S[0],S[1]),D=(0,r._)((0,d.useState)(!1),2),H=D[0],Q=D[1],R=(0,c.getHeaders)().headers,F=function(){Y(!0),m.default.get(c.BASE_URL+"/queue/getAllStudentQueues/".concat(e.id),{headers:R}).then(function(n){k(n.data.obj[0])}).catch(function(n){}).finally(function(){Y(!1)})},L=function(){m.default.get(c.BASE_URL+"/queue/findAllQueuesOfTodayForDean",{headers:R}).then(function(n){f(n.data.obj.sort(function(n,e){return n.number>e.number?1:n.number<e.number?-1:0}))}).catch(function(n){})},N=function(){m.default.post(c.BASE_URL+"/queue/createQueue",{},{headers:R}).then(function(n){F(),L(),Q(!1),C.toast.success("Successfully created")}).catch(function(n){C.toast.error("Error creating")})};(0,d.useEffect)(function(){F(),L()},[]);var W=function(){Q(!1)};return t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I,{children:h()().format("DD.MM.YYYY")===h()(null==w?void 0:w.createdAt).format("DD.MM.YYYY")&&(null==w?void 0:w.number)&&(0,i.jsx)(o.Card,{sx:{width:"320px",mt:3},children:(0,i.jsx)(o.CardContent,{sx:{pb:"16px !important"},children:(0,i.jsxs)(u.default,{sx:{color:c.mainColor},children:[(0,i.jsxs)(a.default,{fontWeight:"bold",fontSize:20,children:["Queue : ",null==w?void 0:w.number]}),(0,i.jsxs)(a.default,{fontWeight:"bold",fontSize:20,children:["Status : ",null==w?void 0:w.status]}),(0,i.jsxs)(a.default,{fontWeight:"bold",fontSize:20,children:["Create date :",h()(null==w?void 0:w.createdAt).format("DD.MM.YYYY HH:mm")]})]})})})}),(0,i.jsx)(o.Card,{sx:{mt:3},children:(0,i.jsxs)(o.CardContent,{children:[(0,i.jsx)(o.Stack,{mt:1,direction:"row",justifyContent:"end",children:(0,i.jsx)(g.default,{onClick:function(){return Q(!0)},variant:"contained",color:"success",endIcon:(0,i.jsx)(y.MdLibraryAdd,{}),children:"Apply"})}),(0,i.jsx)(E,{children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:{width:"100px"},children:"\u2116"}),(0,i.jsx)("th",{children:"Full name"}),(0,i.jsx)("th",{style:{width:"250px"},children:" Date of creation"}),(0,i.jsx)("th",{style:{width:"250px"},children:" Status"})]})}),(0,i.jsx)("tbody",{children:null==s?void 0:s.map(function(n){var t,r;return(0,i.jsxs)("tr",{style:{background:e.fullName===(null==n?void 0:null===(t=n.studentData)||void 0===t?void 0:t.fullName)&&"#e7e7e7"},children:[(0,i.jsx)("td",{children:null==n?void 0:n.number}),(0,i.jsx)("td",{children:null==n?void 0:null===(r=n.studentData)||void 0===r?void 0:r.fullName}),(0,i.jsx)("td",{children:h()(null==n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")}),(0,i.jsx)("td",{children:null==n?void 0:n.status})]},null==n?void 0:n.id)})})]})}),(null==s?void 0:s.length)===0&&(0,i.jsx)(u.default,{children:(0,i.jsx)(x.default,{w:200,h:180})})]})}),(0,i.jsx)(v.default,{open:H,onClose:W,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsxs)(u.default,{sx:M,component:z,children:[(0,i.jsxs)(_,{children:[(0,i.jsx)("h5",{}),(0,i.jsxs)(A,{onClick:W,children:[" ",(0,i.jsx)(b.IoClose,{size:22})]})]}),(0,i.jsxs)(u.default,{children:[(0,i.jsx)(o.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(a.default,{variant:"h6",color:"black",children:"Do you want to meet with the dean?"})}),(0,i.jsxs)(o.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,i.jsx)(g.default,{variant:"outlined",onClick:W,children:"Cancel"}),(0,i.jsx)(g.default,{variant:"contained",onClick:function(){return N()},children:"Ok"})]})]})]})})]}):(0,i.jsx)(o.Card,{sx:{mt:3},children:(0,i.jsx)(o.CardContent,{children:(0,i.jsx)(a.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})}}}]);