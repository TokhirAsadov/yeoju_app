/*! For license information please see 434.33561d1e.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["434"],{61034:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return J}});var r=e("38956"),a=e("58865");e("21249"),e("57640"),e("9924"),e("91038"),e("78783"),e("92222");var i=e("85893"),o=e("67294"),u=e("71893"),l=e("28685"),c=e("27233"),d=e("72132"),s=e("71632"),f=e("3506"),p=e("89583"),h=e("7104"),x=e("94718"),m=e("55693"),g=e("90199"),_=e("44228");function v(){var n=(0,a._)(["\n  width: ",";\n  height: 100%;\n  background-color: ",";\n"]);return v=function(){return n},n}function j(){var n=(0,a._)(["\n  display: flex;\n  width: 100%;\n  overflow: hidden;\n  height: 8.5px;\n  border-radius: 5px;\n"]);return j=function(){return n},n}function T(){var n=(0,a._)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: ",";\n"]);return T=function(){return n},n}function C(){var n=(0,a._)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return C=function(){return n},n}function E(){var n=(0,a._)(["\n  font-size: 14px;\n"]);return E=function(){return n},n}function w(){var n=(0,a._)(["\n  width: 100%;\n"]);return w=function(){return n},n}function b(){var n=(0,a._)(["\n  width: 100%;\n  padding: 12px;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  gap: 10px;\n  border-radius: 5px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  cursor: pointer;\n  transition: 0.06s;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]);return b=function(){return n},n}function S(){var n=(0,a._)(["\n  width: 100%;\n  min-width: 300px;\n  display: grid;\n  grid-template-columns: auto auto auto;\n  gap: 40px;\n  ","\n  ","\n"]);return S=function(){return n},n}function y(){var n=(0,a._)(["\n  margin-bottom: 15px;\n  width: 235px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return y=function(){return n},n}function D(){var n=(0,a._)(["\n  color: ",";\n  cursor: pointer;\n\n\n"]);return D=function(){return n},n}function A(){var n=(0,a._)(["\n  width: 150px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n"]);return A=function(){return n},n}function L(){var n=(0,a._)(["\n  width: 250px;\n  height: 50px;\n  background: white;\n  font-size: 14px;\n  border-radius: 7px;\n  padding: 5px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  box-shadow: rgba(149, 157, 165, 0.2) 0 8px 24px;\n\n  &:focus {\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n\n  ","\n"]);return L=function(){return n},n}function U(){var n=(0,a._)(["\n  ","\n"]);return U=function(){return n},n}function N(){var n=(0,a._)(["\n  width: 200px;\n  height: 45px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-bottom: 10px;\n\n  &:focus {\n    transform: scale(0.95);\n  }\n"]);return N=function(){return n},n}function k(){var n=(0,a._)(["\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 30px;\n  display: grid;\n  grid-template-columns:repeat(3, 1fr);\n  gap: 30px;\n  justify-items: center;\n  align-items: center;\n  ","\n  ","\n  ","\n"]);return k=function(){return n},n}function Y(){var n=(0,a._)(["\n    padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n"]);return Y=function(){return n},n}function F(){var n=(0,a._)(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 50px !important;\n"]);return F=function(){return n},n}var M=u.default.div(v(),function(n){return n.width},function(n){return n.bgcolor}),I=u.default.div(j()),R=u.default.h6(T(),function(n){return n.color}),B=u.default.div(C()),G=u.default.h6(E()),V=u.default.div(w()),z=u.default.div(b()),O=u.default.div(S(),(0,s.small)({gridTemplateColumns:"auto auto"}),(0,s.extrasmall)({gridTemplateColumns:"auto"}));u.default.div(y()),u.default.label(D(),l.mainColor),u.default.input.attrs({type:"date"})(A(),l.mainColor,l.mainColor);var P=u.default.select(L(),l.mainColor,l.mainColor,(0,s.extrasmall)({width:"80%"})),H=u.default.div(U(),(0,s.extrasmall)({width:"80% !important"}));u.default.button(N(),l.mainColor,l.mainColor);var q=u.default.div(k(),(0,s.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,s.small)({gridTemplateColumns:"repeat(1,1fr)"}),(0,s.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"})),K=u.default.div(Y()),W=u.default.div(F()),J=function(n){var t=function(n,t){return n&&t?Math.ceil(100*t/n):0},e=(0,r._)((0,o.useState)(1),2),a=e[0],u=e[1],s=(0,r._)((0,o.useState)([]),2),v=s[0],j=s[1],T=(0,r._)((0,o.useState)(""),2),C=T[0],E=T[1],w=(0,r._)((0,o.useState)(""),2),b=w[0],S=w[1],y=(0,r._)((0,o.useState)(!1),2),D=y[0],A=y[1],L=(0,r._)((0,o.useState)(!1),2),U=L[0],N=L[1],k=(0,r._)((0,o.useState)(),2),Y=(k[0],k[1]),F=(0,r._)((0,o.useState)({startTime:"",endTime:""}),2),J=F[0];F[1];var Q=(0,r._)((0,o.useState)(""),2),X=Q[0],Z=Q[1],$=(0,r._)((0,o.useState)(""),2),nn=$[0],nt=$[1],ne=(0,r._)((0,o.useState)([]),2),nr=ne[0],na=ne[1],ni=function(n){var t=new Date(n),e=""+(t.getMonth()+1),r=""+t.getDate(),a=t.getFullYear(),i="00",o="00";e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),i.length<2&&(i="0"+i),o.length<2&&(o="0"+o);var u=[a,e,r].join("-");return J.startTime=[u,"T",i,":",o].join(""),[u,"T",i,":",o].join("")},no=function(n){var t=new Date(n),e=""+(t.getMonth()+1),r=""+t.getDate(),a=t.getFullYear(),i=new Date,o="",u="";return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear()?(o=""+i.getHours(),u=""+i.getMinutes()):(r=""+t.getDate(),o="23",u="59"),e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[[a,e,r].join("-"),"T",o,":",u].join("")},nu=function(n){u(n)};(0,o.useEffect)(function(){N(!0),""!==a&&c.default.get(l.BASE_URL+l.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+a).then(function(n){j(n.data.obj),E(n.data.obj[0]),N(!1)}).catch(function(n){N(!1)})},[a]);var nl=function(n){""===n?(A(function(){return!1}),d.toast.warning("Please,Choose Type Of Time.")):"duration"===n?(S(n),A(!0)):(S(n),Y(new Date),A(!1))};return(0,o.useEffect)(function(){"day"===b?(N(!0),c.default.get(l.BASE_URL+l.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_FACULTY_NAME+"?facultyName="+C+"&level="+a+"&timeInterval=0").then(function(n){na(n.data.obj),N(!1)}).catch(function(n){N(!1)})):"week"===b&&(N(!0),c.default.get(l.BASE_URL+l.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+C+"&level="+a+"&timeInterval=-7").then(function(n){na(n.data.obj),N(!1)}).catch(function(n){N(!1)}))},[b,C,a]),(0,o.useEffect)(function(){N(!0),c.default.get(l.BASE_URL+l.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+1).then(function(n){j(n.data.obj),N(!1)}).catch(function(n){N(!1)}),S("day")},[]),(0,o.useEffect)(function(){N(!0),c.default.get(l.BASE_URL+l.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+v[0]+"&level=1&timeInterval=0").then(function(n){na(n.data.obj),N(!1)}).catch(function(n){N(!1)})},[]),(0,i.jsxs)(K,{children:[(0,i.jsxs)(q,{children:[(0,i.jsxs)(P,{onChange:function(n){return nu(n.target.value)},children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Select Course"}),(0,i.jsx)("option",{value:"1",children:"Course - 1"}),(0,i.jsx)("option",{value:"2",children:"Course - 2"}),(0,i.jsx)("option",{value:"3",children:"Course - 3"}),(0,i.jsx)("option",{value:"4",children:"Course - 4"})]}),(0,i.jsx)(P,{value:C,onChange:function(n){return E(n.target.value)},children:v&&v.map(function(n){return(0,i.jsx)("option",{value:n,children:n},n)})}),(0,i.jsxs)(P,{onChange:function(n){return nl(n.target.value)},children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Select Type Of Time"}),(0,i.jsx)("option",{value:"day",children:"DAY"}),(0,i.jsx)("option",{value:"week",children:"WEEK"}),(0,i.jsx)("option",{value:"duration",children:"DURATION"})]}),D&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.TextField,{component:H,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"Start date",type:"date",id:"start",size:"medium",onChange:function(n){return Z(new Date(n.target.value))}}),(0,i.jsx)(h.TextField,{component:H,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"End date",type:"date",id:"end",size:"medium",onChange:function(n){return nt(new Date(n.target.value))}}),(0,i.jsx)(x.default,{component:H,sx:{width:"250px"},variant:"contained",endIcon:(0,i.jsx)(p.FaFilter,{}),onClick:function(){if(N(!0),"duration"===b){var n=no(nn),t=ni(X);c.default.post(l.BASE_URL+l.STUDENT.GET_GROUPS_STATISTIC_BY_FACULTY_NAME_AND_GROUP_LEVEL+"?endTime="+n+"&facultyName="+C+"&level="+a+"&startTime="+t).then(function(n){na(n.data.obj),N(!1)}).catch(function(n){N(!1)})}},size:"large",children:"Filter"})]})]}),(0,i.jsxs)(W,{children:[(0,i.jsxs)(O,{children:[U&&Array.from({length:5}).map(function(n,t){return(0,i.jsx)(z,{children:(0,i.jsxs)(m.default,{sx:{width:"100%"},children:[(0,i.jsx)(h.Skeleton,{}),(0,i.jsx)(h.Skeleton,{animation:"wave"}),(0,i.jsx)(h.Skeleton,{animation:!1})]})},t)}),!U&&nr.map(function(n,e){return(0,i.jsx)(z,{children:(0,i.jsxs)(V,{children:[(0,i.jsxs)(G,{children:[(0,i.jsx)(p.FaLayerGroup,{})," ",n.name]}),(0,i.jsxs)(B,{children:[(0,i.jsx)(R,{color:"#9cd365",children:n.allCount}),(0,i.jsxs)(R,{color:l.mainColor,children:[t(n.allCount,n.comeCount),"%"]})]}),(0,i.jsxs)(I,{children:[(0,i.jsx)(f.default,{title:"kelgan:".concat(n.comeCount),children:(0,i.jsx)(M,{bgcolor:l.mainColor,width:"".concat(t(n.allCount,n.comeCount),"%")})}),(0,i.jsx)(f.default,{title:"kelmagan:".concat(n.allCount-n.comeCount),children:(0,i.jsx)(M,{bgcolor:"red",width:"".concat(100-t(n.allCount,n.comeCount),"%")})})]})]})},e)})]}),(null==nr?void 0:nr.length)>0&&(0,i.jsx)(m.default,{display:"flex",justifyContent:"end",sx:{width:"100%",mt:3},children:(0,i.jsx)(_.default,{direction:C,dataToExcel:nr})}),!U&&0===nr.length&&(0,i.jsx)(m.default,{sx:{width:"100%"},children:(0,i.jsx)(h.Card,{children:(0,i.jsx)(h.CardContent,{children:(0,i.jsx)(g.default,{w:200,h:180})})})})]})]})}},44228:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return d}});var r=e("37098");e("2707"),e("92222"),e("21249"),e("57640"),e("9924");var a=e("85893"),i=e("67294"),o=e("30381"),u=e.n(o),l=e("37595"),c=e("94718"),d=(0,i.memo)(function(n){var t=n.dataToExcel,e=n.direction,i=function(n){if(!!n&&0!==n.length){var t=n.sort(function(n,t){return n.name.toUpperCase().localeCompare(t.name.toUpperCase())}),a=[["\u2116","Groups","All Students","Students Came","Percent","".concat(u()().format("DD.MM.YYYY HH:mm"))]].concat((0,r._)(t.map(function(n,t){var e,r;return[t+1,n.name,n.allCount,n.comeCount||0,(e=n.allCount,r=n.comeCount||0,e&&r?Math.ceil(100*r/e):0)]}))),i=l.utils.book_new(),o=l.utils.aoa_to_sheet(a);l.utils.book_append_sheet(i,o,"GroupData");l.writeFile(i,"".concat(e,"_data.xlsx"))}};return(0,a.jsx)(c.default,{variant:"contained",onClick:function(){return i(t)},children:"export to excel"})})}}]);