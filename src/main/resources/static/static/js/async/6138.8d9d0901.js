/*! For license information please see 6138.8d9d0901.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6138"],{408356:function(e,n,t){"use strict";t.r(n);var l=t("785893");t("667294"),t("522438");n.default=()=>(0,l.jsx)("div",{className:"spinner2",children:(0,l.jsx)("svg",{viewBox:"0 0 120 120",children:(0,l.jsxs)("g",{className:"g1",children:[(0,l.jsx)("rect",{className:"r1",x:"30",y:"30",width:"60",height:"60"}),(0,l.jsx)("rect",{className:"big",x:"81",y:"81",width:"8",height:"8"}),(0,l.jsx)("rect",{className:"r_ol",x:"31",y:"31",width:"8",height:"8"}),(0,l.jsx)("rect",{className:"r_or",x:"81",y:"31",width:"8",height:"8"}),(0,l.jsx)("rect",{className:"r_ul",x:"31",y:"81",width:"8",height:"8"}),(0,l.jsx)("xrect",{className:"r_ur",x:"81",y:"81",width:"8",height:"8"})]})})})},354114:function(e,n,t){"use strict";t.r(n);var l=t("258865");t("333948"),t("110072"),t("123042"),t("399137"),t("571957"),t("696306"),t("200103"),t("74592"),t("58276"),t("835082"),t("312813"),t("818222"),t("38563"),t("350336"),t("607512"),t("88921"),t("496248"),t("113599"),t("227561"),t("511477"),t("664362"),t("715389"),t("690401"),t("503440"),t("145164"),t("166244"),t("291238"),t("489772"),t("354837"),t("488910"),t("587485"),t("856767"),t("876651"),t("361437"),t("735285"),t("163252"),t("539865"),t("517454"),t("215581"),t("634514"),t("2490"),t("757658"),t("133792"),t("888449"),t("959849"),t("857640"),t("409924");var r=t("785893"),i=t("667294"),d=t("671893"),u=t("727233"),a=t("316393"),o=t("730381"),s=t.n(o),c=t("408356"),f=t("807104");function x(){let e=(0,l._)(["\n    flex: ",";\n    font-size: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid blue;\n    padding: 5px;\n    text-align: center;\n"]);return x=function(){return e},e}function h(){let e=(0,l._)(["\n    display: flex;\n    width: 100%;\n    \n"]);return h=function(){return e},e}function v(){let e=(0,l._)(["\n    flex: 6;\n    display: flex;\n    flex-direction: column;\n\n"]);return v=function(){return e},e}function m(){let e=(0,l._)(["\n    flex: 2;\n    border: 1px solid blue;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return m=function(){return e},e}function p(){let e=(0,l._)(["\n    flex: 0.25;\n    border: 1px solid blue;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return p=function(){return e},e}function g(){let e=(0,l._)(["\n    width: 100%;\n    display: flex;\n    border: 1px solid blue;\n\n"]);return g=function(){return e},e}function y(){let e=(0,l._)(["\n    flex: 8;\n    display: flex;\n    flex-direction: column;\n"]);return y=function(){return e},e}function j(){let e=(0,l._)(["\n    flex: 2;\n    border: 2px solid blue;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 24px;\n\n"]);return j=function(){return e},e}function w(){let e=(0,l._)(["\n    width: 100%;\n    display: flex;\n"]);return w=function(){return e},e}function b(){let e=(0,l._)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #fff;\n"]);return b=function(){return e},e}function k(){let e=(0,l._)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 10px;\n\n"]);return k=function(){return e},e}let N=d.default.div(x(),e=>e.flex||1,e=>e.fs||"14px"),_=d.default.div(h()),S=d.default.div(v()),E=d.default.div(m()),T=d.default.div(p()),M=d.default.div(g()),A=d.default.div(y()),C=d.default.div(j()),D=d.default.div(w()),W=d.default.div(b()),Y=d.default.div(k());n.default=()=>{let[e,n]=(0,i.useState)(!1),[t,l]=(0,i.useState)([]),[d,o]=(0,i.useState)([]),[x,h]=(0,i.useState)(new Map),{headers:v}=(0,a.getHeaders)();(0,i.useEffect)(()=>{n(!0),n(!1),g()},[]);let[m,p]=(0,i.useState)({date:new Date(a.serverTimeStorage),dateFrom:s()(a.serverTimeStorage).startOf("isoWeek").toDate(),dateTo:s()(a.serverTimeStorage).endOf("isoWeek").toDate(),weekNumber:s()(a.serverTimeStorage).isoWeek(),year:s()(a.serverTimeStorage).year(),weekday:s()(a.serverTimeStorage).day()}),g=()=>{u.default.get(a.BASE_URL+"/timeTableByWeekOfYear/getTimeTableByAllRoomAndWeek2?week=".concat(null==m?void 0:m.weekNumber,"&weekday=").concat(m.weekday,"&year=").concat(m.year,"&t=false"),{headers:v}).then(e=>{var t,r;l(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj),o(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.secondObj),n(!0)}).catch(e=>{})};(0,i.useEffect)(()=>{t&&h(y(t,d))},[t]);let y=(e,n)=>{let t=new Set,l=new Map,r=new Map,i=new Map;(null==e?void 0:e.length)>0&&(null==e||e.forEach(e=>{null==e||e.forEach(e=>{t.add(null==e?void 0:e.kafedraId),l.set(e,null==e?void 0:e.kafedraId)})})),t.forEach(e=>{let n=[];l.forEach((t,l)=>{t===e&&n.push(l)}),r.set(e,n)}),r.forEach((e,t)=>{let l=[],r=new Set,d=new Map;null==e||e.forEach(e=>{var t;let r=null===(t=n.flat())||void 0===t?void 0:t.filter(n=>(null==n?void 0:n.room)===(null==e?void 0:e.room)&&(null==n?void 0:n.section)===(null==e?void 0:e.hourNumber));(null==r?void 0:r.length)===0&&l.push(e)}),null==l||l.forEach(e=>{r.add(null==e?void 0:e.teacherName[0])}),r.forEach(e=>{d.set(e,null==l?void 0:l.filter(n=>(null==n?void 0:n.teacherName[0])===e))}),i.set(t,d)});let d=Array.from(i);return null==d?void 0:d.map(e=>[e[0],Array.from(e[1])])};return(0,r.jsx)(Y,{children:(0,r.jsx)(f.Card,{children:(0,r.jsx)(f.CardContent,{children:e&&(null==t?void 0:t.length)>0&&(null==x?void 0:x.length)>0?null==x?void 0:x.map(e=>{var n;return(0,r.jsx)(W,{children:(0,r.jsxs)(D,{children:[(0,r.jsx)(C,{children:e[0]}),(0,r.jsx)(A,{children:null===(n=e[1])||void 0===n?void 0:n.map((e,n)=>{var t,l;return(0,r.jsxs)(M,{children:[(0,r.jsx)(T,{children:n+1}),(0,r.jsx)(E,{children:e[0]}),(0,r.jsx)(S,{children:null===(l=e[1])||void 0===l?void 0:null===(t=l.sort((e,n)=>e.hourNumber>n.hourNumber?1:n.hourNumber>e.hourNumber?-1:0))||void 0===t?void 0:t.map(e=>(0,r.jsxs)(_,{children:[(0,r.jsx)(N,{flex:2,fs:"9px",children:null==e?void 0:e.lessonName}),(0,r.jsx)(N,{flex:1,fs:"11px",children:null==e?void 0:e.room}),(0,r.jsx)(N,{flex:1,children:s()(null==m?void 0:m.date).format("DD-MM-YYYY")}),(0,r.jsx)(N,{flex:1,children:null==e?void 0:e.periodStartAndEndTime})]}))})]})})})]})})}):(0,r.jsx)(c.default,{})})})})}},522438:function(e){}}]);