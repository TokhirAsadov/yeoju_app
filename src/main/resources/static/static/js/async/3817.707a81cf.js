/*! For license information please see 3817.707a81cf.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["3817"],{94037:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return no}});var i=t("38956"),r=t("58865");t("57327"),t("88449"),t("19894"),t("2490"),t("41539"),t("21249"),t("57640"),t("9924");var l=t("85893"),o=t("67294"),a=t("71893"),d=t("28685"),s=t("89583"),u=t("97367"),c=t("55693"),f=t("79352"),x=t("54635"),h=t("23228"),p=t("90650"),m=t("63750"),v=t("71632");function g(){var n=(0,r._)(["\n    width: 20px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    overflow: hidden;\n"]);return g=function(){return n},n}function j(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n"]);return j=function(){return n},n}function b(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n    flex-direction: column;\n"]);return b=function(){return n},n}function y(){var n=(0,r._)(["\n    flex: 1;\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    overflow: scroll;\n    max-height: 250px;\n"]);return y=function(){return n},n}function w(){var n=(0,r._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return w=function(){return n},n}function _(){var n=(0,r._)(["\n    width: 40px;\n    height: 40px;\n    background-color: #fff;\n    border-radius: 0.5rem;\n    align-self: end;\n  \n    border: none;\n"]);return _=function(){return n},n}function k(){var n=(0,r._)(["\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return k=function(){return n},n}function C(){var n=(0,r._)(["\n    flex: 1;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 32px;\n    border-radius: 50%;\n    overflow: hidden;\n\n"]);return C=function(){return n},n}function S(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n"]);return S=function(){return n},n}function A(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n\n"]);return A=function(){return n},n}function R(){var n=(0,r._)(["\n    min-width: 300px;\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    height: 520px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    overflow: scroll;\n"]);return R=function(){return n},n}function N(){var n=(0,r._)(["\n    flex: ",";\n"]);return N=function(){return n},n}function T(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 20px;\n"]);return T=function(){return n},n}function z(){var n=(0,r._)(["\n    width: 200px;\n    height: 200px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 100px;\n    border-radius: 50%;\n\n"]);return z=function(){return n},n}function U(){var n=(0,r._)(["\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return U=function(){return n},n}function H(){var n=(0,r._)(["\n    width: 80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 15px 20px !important;\n    border: none;\n    border-radius: 1rem;\n    background-color: transparent;\n    color: ",";\n    transition: 0.3s background-color;\n\n    &:hover {\n        background-color: #fff;\n    }\n\n"]);return H=function(){return n},n}function I(){var n=(0,r._)(["\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return I=function(){return n},n}function F(){var n=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    min-height: 400px;\n"]);return F=function(){return n},n}function E(){var n=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    min-height: 480px;\n"]);return E=function(){return n},n}function D(){var n=(0,r._)(["\n    width: 100%;\n    height: 525px;\n    display: grid;\n    gap: 20px;\n    grid-template-columns: 20rem auto 16rem;\n    overflow-y: scroll;\n    ","\n    ","\n    ","\n    ","\n"]);return D=function(){return n},n}var L=a.default.div(g()),M=(0,a.default)(p.motion.div)(j()),B=(0,a.default)(p.motion.div)(b()),O=a.default.div(y()),Y=(0,a.default)(p.motion.button)(w(),d.mainColor),P={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",minHeight:500,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:2},q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"89vw",height:"400px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},K=a.default.button(_()),W=a.default.div(k()),G=a.default.div(C()),J=(0,a.default)(p.motion.div)(S()),Q=(0,a.default)(p.motion.div)(A()),V=(0,a.default)(p.motion.div)(R()),X=a.default.div(N(),function(n){return n.flex}),Z=a.default.div(T()),$=a.default.div(z()),nn=a.default.div(U()),ne=a.default.button(H(),d.mainColor),nt=a.default.div(I()),ni=(0,a.default)(p.motion.div)(F()),nr=(0,a.default)(p.motion.div)(E()),nl=(0,a.default)(p.motion.div)(D(),(0,v.large)({gridTemplateColumns:"20rem auto"}),(0,v.medium)({gridTemplateColumns:"1fr"}),(0,v.small)({gridTemplateColumns:"1fr"}),(0,v.extrasmall)({gridTemplateColumns:"1fr",height:"85vh !important"})),no=(0,o.memo)(function(n){var e,t,r,a,v=n.colName,g=n.kafedraMudiri,j=n.come,b=n.noCome,y=n.all,w=n.facultyName,_=n.kafedraId,k=n.isTeacherUrl,C=(0,i._)((0,o.useState)([]),2),S=C[0],A=C[1];(0,o.useEffect)(function(){A(y)},[]);var R=(0,i._)((0,o.useState)(""),2),N=R[0],T=R[1],z=(0,i._)((0,o.useState)(""),2),U=z[0],H=z[1],I=(0,i._)((0,o.useState)(""),2),F=I[0],E=I[1],D=(0,i._)((0,o.useState)(!1),2),no=D[0],na=D[1],nd=(0,i._)((0,o.useState)(!1),2),ns=nd[0],nu=nd[1],nc=function(){na(!1)},nf=function(){nu(!1)},nx={hidden:{scale:0},show:{scale:1}},nh={visible:function(n){return{scale:1,transition:{delay:.1*n}}},hidden:{scale:0}};return(0,l.jsxs)(nl,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.8}}},initial:"hidden",animate:"show",children:[(0,l.jsxs)(ni,{variants:nx,children:[(0,l.jsx)(nn,{children:g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)($,{children:(null==g?void 0:g.photos)?(0,l.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==g?void 0:null===(e=g.photos)||void 0===e?void 0:e.id),width:"200px",height:"200px",style:{borderRadius:"50%"},alt:""}):(0,l.jsx)(s.FaUserAlt,{})}),(0,l.jsxs)(Z,{children:[(0,l.jsx)(X,{flex:1,children:"Name:"}),(0,l.jsx)(X,{flex:2,children:null==g?void 0:g.fullName})]}),(0,l.jsxs)(Z,{children:[(0,l.jsx)(X,{flex:1,children:"Email:"}),(0,l.jsx)(X,{flex:2,children:null==g?void 0:g.email})]}),(0,l.jsxs)(Z,{children:[(0,l.jsx)(X,{flex:1,children:"Tel:"}),(0,l.jsx)(X,{flex:2,children:(null==g?void 0:null===(t=g.phones)||void 0===t?void 0:t.length)!==0?null==g?void 0:null===(a=g.phones)||void 0===a?void 0:null===(r=a.filter(function(n){return"WORK_PHONE"===n.phoneType})[0])||void 0===r?void 0:r.phoneNumber:"-"})]})]}):(0,l.jsx)(l.Fragment,{children:"\u26A0\uFE0F"})}),(0,l.jsxs)(nt,{children:[(0,l.jsx)(ne,{onClick:function(){nu(!0)},children:"Open Month Modal"}),(0,l.jsx)(p.AnimatePresence,{children:ns&&(0,l.jsx)(u.default,{open:ns,onClose:nf,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:p.motion.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,l.jsxs)(c.default,{sx:P,children:[(0,l.jsx)(Y,{onClick:nf,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,l.jsx)(f.RiCloseLine,{})}),(0,l.jsx)(h.default,{colName:v,isTeacher:k,date:new Date,userName:w,kafedraId:_,url:k?"/kafera-mudiri/getStatisticssForRektor?kafedraId=":"/staff/getStatisticsForRektor?sectionId="})]})})})]})]}),(0,l.jsxs)(V,{variants:nx,children:[(0,l.jsxs)("h5",{style:{fontSize:"20px",textAlign:"center",color:"white"},children:[k?"O'qituvchilar":"Hodimlar"," "," ro'yxati"]}),(0,l.jsxs)(Q,{variants:{hidden:{opacity:0,scale:.75},show:{opacity:1,scale:1,rotate:0,transition:{staggerChildren:.1,delayChildren:.3}}},initial:"hidden",animate:"show",children:[null==S?void 0:S.map(function(n,e){var t;return(0,l.jsxs)(J,{custom:e,animate:"visible",variants:nh,initial:"hidden",children:[(0,l.jsx)(G,{children:(null==n?void 0:n.photo)?(0,l.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(t=n.photo)||void 0===t?void 0:t.id),style:{borderRadius:"50%"},width:"40px",height:"40px",alt:""}):(0,l.jsx)(s.FaUserAlt,{})}),(0,l.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"12px",lineHeight:"40px"},children:n.fullName}),(0,l.jsx)(W,{children:(0,l.jsxs)(K,{onClick:function(){var e,t,i,r;return t=n.fullName,i=n.id,r=null==n?void 0:null===(e=n.photo)||void 0===e?void 0:e.id,T(t),E(r),H(i),na(!0)},children:[null==n?void 0:n.countTouch,(0,l.jsx)(m.BsCalendar2Date,{size:19,color:d.mainColor})]})})]},n.id)}),(0,l.jsx)(u.default,{open:no,onClose:nc,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,l.jsxs)(c.default,{sx:q,children:[(0,l.jsx)(Y,{onClick:nc,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,l.jsx)(f.RiCloseLine,{})}),(0,l.jsx)(x.default,{userName:N,userId:U,date:new Date,photo:F})]})})]})]}),(0,l.jsxs)(nr,{variants:nx,children:[(0,l.jsxs)(O,{children:[(0,l.jsx)("h5",{style:{fontSize:"14px",textAlign:"center",color:"white"},children:"Ishga kelganlar"}),(0,l.jsxs)(B,{children:[null==j?void 0:j.map(function(n,e){var t;return(0,l.jsxs)(M,{custom:e,animate:"visible",variants:nh,initial:"hidden",children:[(0,l.jsx)(L,{children:(null==n?void 0:n.photo)?(0,l.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(t=n.photo)||void 0===t?void 0:t.id),style:{borderRadius:"50%"},width:"20px",height:"20px",alt:""}):(0,l.jsx)(s.FaUserAlt,{})}),(0,l.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"10px",lineHeight:"20px"},children:n.fullName})]},n.id)}),(null==j?void 0:j.length)===0&&(0,l.jsx)("h1",{style:{textAlign:"center",fontSize:"14px"},children:"-"})]})]}),(0,l.jsxs)(O,{children:[(0,l.jsx)("h5",{style:{fontSize:"14px",textAlign:"center",color:"red"},children:"Ishga kelmaganlar"}),(0,l.jsx)(B,{children:null==b?void 0:b.map(function(n,e){var t;return(0,l.jsxs)(M,{custom:e,animate:"visible",variants:nh,initial:"hidden",children:[(0,l.jsx)(L,{children:(null==n?void 0:n.photo)?(0,l.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(t=n.photo)||void 0===t?void 0:t.id),width:"20px",height:"20px",alt:""}):(0,l.jsx)(s.FaUserAlt,{})}),(0,l.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"10px",lineHeight:"20px"},children:n.fullName})]},n.id)})})]})]})]})})},12421:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return u}});var i=t("37098");t("2707"),t("92222"),t("21249"),t("57640"),t("9924");var r=t("85893"),l=t("67294"),o=t("30381"),a=t.n(o),d=t("37595"),s=t("94718"),u=(0,l.memo)(function(n){var e=n.dataToExcel,t=n.direction,l=function(n){if(!!n&&0!==n.length){var e=n.sort(function(n,e){return n.name.toUpperCase().localeCompare(e.name.toUpperCase())}),r=[["\u2116","Direction","All Staff","Staff Came","Percent","".concat(a()().format("DD.MM.YYYY HH:mm"))]].concat((0,i._)(e.map(function(n,e){var t,i,r,l,o,a;return[e+1,n.name,(null===(t=n.data)||void 0===t?void 0:t.allCount)||0,(null===(i=n.data)||void 0===i?void 0:i.comeCount)||0,(o=null===(r=n.data)||void 0===r?void 0:r.allCount,a=null===(l=n.data)||void 0===l?void 0:l.comeCount,o&&a?Math.ceil(100*a/o):0)]}))),l=d.utils.book_new(),o=d.utils.aoa_to_sheet(r);d.utils.book_append_sheet(l,o,"data");d.writeFile(l,"".concat(t,"_data.xlsx"))}};return(0,r.jsx)(s.default,{variant:"contained",onClick:function(){return l(e)},children:"export to excel"})})}}]);