/*! For license information please see 1312.6ffb025d.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["1312"],{38219:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Q}});var i=t("7409"),o=t("99282"),l=t("38956"),d=t("58865"),a=t("37098");t("57327"),t("88449"),t("19894"),t("2490"),t("41539"),t("92222"),t("69826"),t("31672"),t("59461"),t("21249"),t("57640"),t("9924");var r=t("85893"),u=t("67294"),c=t.n(u),s=t("71893"),f=t("28685"),p=t("27233"),h=t("72132"),v=t("45184"),x=t("16356"),m=t("97367"),g=t("55693"),b=t("79352"),_=t("52861"),j=t("42154"),w=t("32392"),C=t("61261"),S=t("7104"),D=t("89583"),A=t("5434"),y=t("94718");function N(){var n=(0,d._)(["  \n  width: 120px;\n  height:50px;\n  background: ","; \n  font-size: 18px; \n  border-radius: 4px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-left: 15px!important;\n  letter-spacing: 1.2px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    transform: scale(0.95);\n  }\n"]);return N=function(){return n},n}function k(){var n=(0,d._)(["\n  padding: 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 25px;\n"]);return k=function(){return n},n}function R(){var n=(0,d._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center; \n  background-color: rgba(255,255,255,0.6);\n  border-radius: 50%;\n  color: ",";\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return R=function(){return n},n}function I(){var n=(0,d._)(["\n  width: 100%;\n  display: flex;\n  gap: 10px;\n  margin: 5px!important;\n"]);return I=function(){return n},n}function E(){var n=(0,d._)(["\n  width: 100%;\n  background-color: #fff;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n"]);return E=function(){return n},n}function O(){var n=(0,d._)(["\n  display: flex;\n  width: 100%;\n  float: left;\n  margin-left: 15px;\n  margin-top: ",";\n  color: ",";\n"]);return O=function(){return n},n}function U(){var n=(0,d._)(["\n  margin-top: 20px;\n  width: 100px;\n  height:35px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-left: 15px!important;\n  letter-spacing: 1.2px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    transform: scale(0.95);\n  }\n"]);return U=function(){return n},n}function P(){var n=(0,d._)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding:  8px!important;\n  color: ",";\n"]);return P=function(){return n},n}function B(){var n=(0,d._)(["\n  width: "," ;\n  margin-top: 20px;\n  height:35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 7px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  margin-left: 15px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n  \n"]);return B=function(){return n},n}function L(){var n=(0,d._)(["\n  padding:  10px!important; \n"]);return L=function(){return n},n}var T=s.default.button(N(),f.mainColor,f.mainColor),z=s.default.div(k()),M=s.default.button(R(),f.mainColor),W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4},H=s.default.div(I()),G=s.default.div(E()),V=s.default.h3(O(),function(n){return n.mt},f.mainColor),F=s.default.button(U(),f.mainColor,f.mainColor),K=s.default.div(P(),f.mainColor),q=s.default.select(B(),function(n){return n.width},f.mainColor,f.mainColor),J=s.default.div(L()),Q=function(){var n,e=(0,l._)((0,u.useState)(""),2),t=e[0],d=e[1],s=(0,l._)((0,u.useState)(1),2),N=s[0],k=s[1],R=(0,l._)((0,u.useState)([]),2),I=R[0],E=R[1],O=(0,l._)((0,u.useState)(1),2),U=O[0],P=O[1],B=(0,l._)((0,u.useState)([]),2),L=B[0],Q=B[1],X=(0,l._)((0,u.useState)(""),2),Y=X[0],Z=X[1],$=(0,l._)((0,u.useState)([]),2),nn=$[0],ne=$[1],nt=(0,l._)((0,u.useState)(""),2),ni=nt[0],no=nt[1],nl=(0,l._)((0,u.useState)([]),2),nd=nl[0],na=nl[1],nr=(0,l._)((0,u.useState)({deviceId:N,doorName:ni,doorNo:U}),2),nu=nr[0],nc=nr[1],ns=(0,l._)((0,u.useState)(!1),2),nf=ns[0];ns[1];var np=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"ip",headerName:"Device",type:"string",width:300,editable:!1},{field:"port",headerName:"Port",type:"integer",width:180,editable:!1},{field:"room",headerName:"Room",type:"string",width:140,editable:!1},{field:"state",headerName:"State",type:"string",width:240,editable:!1,renderCell:function(n){return(0,r.jsxs)(H,{children:[(0,r.jsx)(y.default,{size:"small",variant:"contained",startIcon:(0,r.jsx)(D.FaEdit,{size:17}),onClick:function(e){e.preventDefault(),nI(n.id)},children:"Update"}),(0,r.jsx)(y.default,{size:"small",startIcon:(0,r.jsx)(A.MdDelete,{size:17}),variant:"contained",color:"error",onClick:function(e){e.preventDefault(),nE(n.id)},children:"Delete"})]})}}],nh=(0,l._)((0,u.useState)([{id:1,fullName:"Tohir Asadov",cardNo:"123456",dateAsc:new Date,dateDesc:new Date,phoneNumber:"993361603"},{id:2,fullName:"Tohir Asadov",cardNo:"123456",dateAsc:new Date,dateDesc:new Date,Print:"OK See",phoneNumber:"993361603"}]),2),nv=nh[0],nx=nh[1],nm=(0,l._)(c().useState(!1),2),ng=nm[0],nb=nm[1],n_=(0,l._)((0,u.useState)({}),2),nj=n_[0],nw=n_[1],nC=(0,l._)((0,u.useState)([]),2),nS=nC[0],nD=nC[1],nA=function(){return nb(!1)},ny=(0,f.getHeaders)().headers;(0,u.useEffect)(function(){nc((0,o._)((0,i._)({},nu),{deviceId:N,doorName:ni,doorNo:U}))},[N,U,ni]),(0,u.useEffect)(function(){nN()},[]),(0,u.useEffect)(function(){var n,e;k(null===(n=I[0])||void 0===n?void 0:n.id),I[0]&&p.default.get(f.BASE_URL+f.ADMIN.ACC_DOOR_PORTS+(null===(e=I[0])||void 0===e?void 0:e.id),{headers:ny}).then(function(n){var e;Q(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj)}).catch(function(n){})},[I]),(0,u.useEffect)(function(){var n,e=null===(n=I.filter(function(n){return(null==n?void 0:n.ip)===t})[0])||void 0===n?void 0:n.id;k(e),e&&p.default.get(f.BASE_URL+f.ADMIN.ACC_DOOR_PORTS+e,{headers:ny}).then(function(n){var e;Q(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj)}).catch(function(n){})},[t]);var nN=function(){p.default.get(f.BASE_URL+f.ADMIN.DEVICE,{headers:ny}).then(function(n){var e,t,i,o,l,d;E(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.devices),ne(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.buildings),na(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.rooms),no(null==n?void 0:null===(l=n.data)||void 0===l?void 0:null===(o=l.rooms[0])||void 0===o?void 0:o.name),nx(null==n?void 0:null===(d=n.data)||void 0===d?void 0:d.deviceList)}).catch(function(n){})},nk=function(n){p.default.get(f.BASE_URL+f.ADMIN.ACC_DOOR_PORTS+n,{headers:ny}).then(function(n){nD(function(e){var t;return(0,a._)(e).concat((0,a._)(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.obj))})}).catch(function(n){})},nR=function(n){p.default.put(f.BASE_URL+f.ADMIN.ACC_DOOR_UPDATED,n,{headers:ny}).then(function(n){nb(!1),nN(),200===n.status&&h.toast.success("Changed successfully...")}).catch(function(n){})},nI=function(n){var e;nb(!0),nw(nv.find(function(e){return e.id===n})),nD([null==nv?void 0:null===(e=nv.find(function(e){return e.id===n}))||void 0===e?void 0:e.port]),nk(n)},nE=function(n){p.default.get(f.BASE_URL+"/ac-door/findById/"+n,{headers:ny}).then(function(e){if(200===e.status){var t,i;window.confirm("Do you agree to delete "+(null===(i=e.data)||void 0===i?void 0:null===(t=i.obj)||void 0===t?void 0:t.doorName)+" room?")&&nO(n)}}).catch(function(n){})},nO=function(n){p.default.delete(f.BASE_URL+"/ac-door/delete/"+n,{headers:ny}).then(function(e){204===e.status&&(h.toast.success("Deleted room successfully!..."),nx(nv.filter(function(e){return e.id!==n})),nN())}).catch(function(n){})};return(0,r.jsxs)(J,{children:[(0,r.jsx)(V,{children:"Update Device"}),(0,r.jsxs)(K,{children:[(0,r.jsx)(q,{id:"device",width:"230px",value:t,onChange:function(n){return d(n.target.value)},children:(0,r.jsx)("optgroup",{label:"Devices",children:null==I?void 0:I.map(function(n,e){return(0,r.jsx)("option",{value:n.ip,children:n.ip},e)})})}),(0,r.jsx)(q,{id:"ip",width:"140px",value:U,onChange:function(n){return P(n.target.value)},children:(0,r.jsx)("optgroup",{label:"Ports",children:null==L?void 0:L.map(function(n,e){return(0,r.jsx)("option",{value:n,children:n},e)})})}),(0,r.jsx)(q,{id:"building",width:"140px",value:Y,onChange:function(n){return Z(n.target.value)},children:(0,r.jsx)("optgroup",{label:"Buildings",children:null==nn?void 0:nn.map(function(n,e){return(0,r.jsx)("option",{value:n.name,children:n.name},e)})})}),(0,r.jsx)(q,{id:"room",width:"230px",value:ni,onChange:function(n){return no(n.target.value)},children:(0,r.jsx)("optgroup",{label:"Rooms",children:null==nd?void 0:nd.map(function(n,e){return(0,r.jsx)("option",{value:n.name,children:n.name},e)})})}),(0,r.jsx)(F,{onClick:function(){p.default.put(f.BASE_URL+f.ADMIN.ACC_DOOR_UPDATED,nu,{headers:ny}).then(function(n){nN(),200===n.status&&h.toast.success("Changed successfully...")}).catch(function(n){})},children:"Save"})]}),(0,r.jsx)(V,{mt:"50px",children:"Table of Device"}),(0,r.jsxs)(G,{children:[nf?(0,r.jsx)(v.default,{}):(0,r.jsx)(x.DataGrid,{checkboxSelection:!0,style:{width:"700px",minHeight:"300px!important"},columns:np,rows:nv,components:{Toolbar:x.GridToolbar},autoHeight:!0,pageSize:50,initialState:(0,o._)((0,i._)({},nv.initialState),{columns:{columnVisibilityModel:{id:!1}}})}),(0,r.jsx)(m.default,{open:ng,onClose:nA,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,r.jsxs)(g.default,{sx:W,children:[(0,r.jsx)(M,{onClick:nA,children:(0,r.jsx)(b.RiCloseLine,{})}),(0,r.jsxs)(z,{children:[(0,r.jsx)(_.default,{id:"outlined-basic",label:"IP",variant:"outlined",value:null==nj?void 0:nj.ip,disabled:!0}),(0,r.jsx)(g.default,{sx:{minWidth:200},children:(0,r.jsxs)(j.default,{fullWidth:!0,children:[(0,r.jsx)(w.default,{id:"demo-simple-select-label",children:"Port"}),(0,r.jsx)(S.Select,{disabled:!0,sx:{width:"200px"," @media only screen and  (max-width: 576px)":{width:300}},labelId:"demo-simple-select-label",id:"demo-simple-select",name:"port",value:null==nj?void 0:nj.port,label:"Port",onChange:function(n){return nw(function(e){var t;return(0,o._)((0,i._)({},e),{port:null==n?void 0:null===(t=n.target)||void 0===t?void 0:t.value})})},children:null==nS?void 0:nS.map(function(n){return(0,r.jsx)(C.default,{value:n,children:n},n)})})]})}),(0,r.jsx)(g.default,{sx:{minWidth:200},children:(0,r.jsxs)(j.default,{fullWidth:!0,children:[(0,r.jsx)(w.default,{id:"demo-simple-select-label",children:"Room"}),(0,r.jsx)(S.Select,{sx:{width:"200px"," @media only screen and  (max-width: 576px)":{width:300}},labelId:"demo-simple-select-label",id:"demo-simple-select",name:"room",value:null==nj?void 0:nj.room,label:"Room",onChange:function(n){return nw(function(e){var t;return(0,o._)((0,i._)({},e),{room:null==n?void 0:null===(t=n.target)||void 0===t?void 0:t.value})})},children:null===(n=[{name:null==nj?void 0:nj.room}].concat((0,a._)(nd)))||void 0===n?void 0:n.map(function(n){return(0,r.jsx)(C.default,{value:null==n?void 0:n.name,children:null==n?void 0:n.name},null==n?void 0:n.name)})})]})})]}),(0,r.jsx)(z,{children:(0,r.jsx)(T,{onClick:function(){return nR({deviceId:null==nj?void 0:nj.deviceId,doorName:null==nj?void 0:nj.room,doorNo:null==nj?void 0:nj.port})},children:"Update"})})]})})]})]})}}}]);