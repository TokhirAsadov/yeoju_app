/*! For license information please see 6156.703ca477.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6156"],{401252:function(e,n,t){"use strict";t.r(n);var a=t("258865");t("333948"),t("857640"),t("409924");var r=t("785893"),l=t("667294"),i=t("671893"),o=t("316393"),u=t("727233"),d=t("572132"),s=t("857024"),c=t("503506"),p=t("889583"),f=t("807104"),h=t("194718"),x=t("455693"),m=t("478951"),g=t("794017");function _(){let e=(0,a._)(["\n  width: ",";\n  height: 100%;\n  background-color: ",";\n"]);return _=function(){return e},e}function j(){let e=(0,a._)(["\n  display: flex;\n  width: 100%;\n  overflow: hidden;\n  height: 8.5px;\n  border-radius: 5px;\n"]);return j=function(){return e},e}function T(){let e=(0,a._)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: ",";\n"]);return T=function(){return e},e}function C(){let e=(0,a._)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return C=function(){return e},e}function E(){let e=(0,a._)(["\n  font-size: 14px;\n"]);return E=function(){return e},e}function w(){let e=(0,a._)(["\n  width: 100%;\n"]);return w=function(){return e},e}function v(){let e=(0,a._)(["\n  width: 100%;\n  padding: 12px;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  gap: 10px;\n  border-radius: 5px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  cursor: pointer;\n  transition: 0.06s;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]);return v=function(){return e},e}function b(){let e=(0,a._)(["\n  width: 100%;\n  min-width: 300px;\n  display: grid;\n  grid-template-columns: auto auto auto;\n  gap: 40px;\n  ","\n  ","\n"]);return b=function(){return e},e}function S(){let e=(0,a._)(["\n  margin-bottom: 15px;\n  width: 235px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return S=function(){return e},e}function y(){let e=(0,a._)(["\n  color: ",";\n  cursor: pointer;\n\n\n"]);return y=function(){return e},e}function D(){let e=(0,a._)(["\n  width: 150px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n"]);return D=function(){return e},e}function A(){let e=(0,a._)(["\n  width: 250px;\n  height: 50px;\n  background: white;\n  font-size: 14px;\n  border-radius: 7px;\n  padding: 5px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  box-shadow: rgba(149, 157, 165, 0.2) 0 8px 24px;\n\n  &:focus {\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n\n  ","\n"]);return A=function(){return e},e}function L(){let e=(0,a._)(["\n  ","\n"]);return L=function(){return e},e}function U(){let e=(0,a._)(["\n  width: 200px;\n  height: 45px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-bottom: 10px;\n\n  &:focus {\n    transform: scale(0.95);\n  }\n"]);return U=function(){return e},e}function N(){let e=(0,a._)(["\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 30px;\n  display: grid;\n  grid-template-columns:repeat(3, 1fr);\n  gap: 30px;\n  justify-items: center;\n  align-items: center;\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}function k(){let e=(0,a._)(["\n    padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n"]);return k=function(){return e},e}function Y(){let e=(0,a._)(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 50px !important;\n"]);return Y=function(){return e},e}let F=i.default.div(_(),e=>e.width,e=>e.bgcolor),M=i.default.div(j()),I=i.default.h6(T(),e=>e.color),R=i.default.div(C()),B=i.default.h6(E()),G=i.default.div(w()),V=i.default.div(v()),z=i.default.div(b(),(0,s.small)({gridTemplateColumns:"auto auto"}),(0,s.extrasmall)({gridTemplateColumns:"auto"}));i.default.div(S()),i.default.label(y(),o.mainColor),i.default.input.attrs({type:"date"})(D(),o.mainColor,o.mainColor);let O=i.default.select(A(),o.mainColor,o.mainColor,(0,s.extrasmall)({width:"80%"})),P=i.default.div(L(),(0,s.extrasmall)({width:"80% !important"}));i.default.button(U(),o.mainColor,o.mainColor);let H=i.default.div(N(),(0,s.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,s.small)({gridTemplateColumns:"repeat(1,1fr)"}),(0,s.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"})),q=i.default.div(k()),K=i.default.div(Y());n.default=e=>{let[n,t]=(0,l.useState)(1),[a,i]=(0,l.useState)([]),[s,_]=(0,l.useState)(""),[j,T]=(0,l.useState)(""),[C,E]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1),[b,S]=(0,l.useState)(),[y,D]=(0,l.useState)({startTime:"",endTime:""}),[A,L]=(0,l.useState)(""),[U,N]=(0,l.useState)(""),[k,Y]=(0,l.useState)([]),W=e=>{var n=new Date(e),t=""+(n.getMonth()+1),a=""+n.getDate(),r=n.getFullYear();let l="00",i="00";t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),l.length<2&&(l="0"+l),i.length<2&&(i="0"+i);let o=[r,t,a].join("-");return y.startTime=[o,"T",l,":",i].join(""),[o,"T",l,":",i].join("")},J=e=>{var n=new Date(e),t=""+(n.getMonth()+1),a=""+n.getDate(),r=n.getFullYear();let l=new Date(o.serverTimeStorage),i="",u="";return e.getDate()===l.getDate()&&e.getMonth()===l.getMonth()&&e.getFullYear()===l.getFullYear()?(i=""+l.getHours(),u=""+l.getMinutes()):(a=""+n.getDate(),i="23",u="59"),t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),i.length<2&&(i="0"+i),u.length<2&&(u="0"+u),[[r,t,a].join("-"),"T",i,":",u].join("")},Q=e=>{t(e)};(0,l.useEffect)(()=>{v(!0),""!==n&&u.default.get(o.BASE_URL+o.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+n).then(e=>{i(e.data.obj),_(e.data.obj[0]),v(!1)}).catch(e=>{v(!1)})},[n]);let X=e=>{""===e?(E(()=>!1),d.toast.warning("Please,Choose Type Of Time.")):"duration"===e?(T(e),E(!0)):(T(e),S(new Date(o.serverTimeStorage)),E(!1))};function Z(e,n){return e&&n?Math.ceil(100*n/e):0}return(0,l.useEffect)(()=>{"day"===j?(v(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_FACULTY_NAME+"?facultyName="+s+"&level="+n+"&timeInterval=0").then(e=>{Y(e.data.obj),v(!1)}).catch(e=>{v(!1)})):"week"===j&&(v(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+s+"&level="+n+"&timeInterval=-7").then(e=>{Y(e.data.obj),v(!1)}).catch(e=>{v(!1)}))},[j,s,n]),(0,l.useEffect)(()=>{v(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+1).then(e=>{i(e.data.obj),v(!1)}).catch(e=>{v(!1)}),T("day")},[]),(0,l.useEffect)(()=>{v(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+a[0]+"&level=1&timeInterval=0").then(e=>{Y(e.data.obj),v(!1)}).catch(e=>{v(!1)})},[]),(0,r.jsxs)(q,{children:[(0,r.jsxs)(H,{children:[(0,r.jsxs)(O,{onChange:e=>Q(e.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Course"}),(0,r.jsx)("option",{value:"1",children:"Course - 1"}),(0,r.jsx)("option",{value:"2",children:"Course - 2"}),(0,r.jsx)("option",{value:"3",children:"Course - 3"}),(0,r.jsx)("option",{value:"4",children:"Course - 4"})]}),(0,r.jsx)(O,{value:s,onChange:e=>_(e.target.value),children:a&&a.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsxs)(O,{onChange:e=>X(e.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Type Of Time"}),(0,r.jsx)("option",{value:"day",children:"DAY"}),(0,r.jsx)("option",{value:"week",children:"WEEK"}),(0,r.jsx)("option",{value:"duration",children:"DURATION"})]}),C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.TextField,{component:P,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"Start date",type:"date",id:"start",size:"medium",onChange:e=>L(new Date(e.target.value))}),(0,r.jsx)(f.TextField,{component:P,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"End date",type:"date",id:"end",size:"medium",onChange:e=>N(new Date(e.target.value))}),(0,r.jsx)(h.default,{component:P,sx:{width:"250px"},variant:"contained",endIcon:(0,r.jsx)(p.FaFilter,{}),onClick:()=>{if(v(!0),"duration"===j){let e=J(U),t=W(A);u.default.post(o.BASE_URL+o.STUDENT.GET_GROUPS_STATISTIC_BY_FACULTY_NAME_AND_GROUP_LEVEL+"?endTime="+e+"&facultyName="+s+"&level="+n+"&startTime="+t).then(e=>{Y(e.data.obj),v(!1)}).catch(e=>{v(!1)})}},size:"large",children:"Filter"})]})]}),(0,r.jsxs)(K,{children:[(0,r.jsxs)(z,{children:[w&&Array.from({length:5}).map((e,n)=>(0,r.jsx)(V,{children:(0,r.jsxs)(x.default,{sx:{width:"100%"},children:[(0,r.jsx)(f.Skeleton,{}),(0,r.jsx)(f.Skeleton,{animation:"wave"}),(0,r.jsx)(f.Skeleton,{animation:!1})]})},n)),!w&&k.map((e,n)=>(0,r.jsx)(V,{children:(0,r.jsxs)(G,{children:[(0,r.jsxs)(B,{children:[(0,r.jsx)(p.FaLayerGroup,{})," ",e.name]}),(0,r.jsxs)(R,{children:[(0,r.jsx)(I,{color:"#9cd365",children:e.allCount}),(0,r.jsxs)(I,{color:o.mainColor,children:[Z(e.allCount,e.comeCount),"%"]})]}),(0,r.jsxs)(M,{children:[(0,r.jsx)(c.default,{title:"kelgan:".concat(e.comeCount),children:(0,r.jsx)(F,{bgcolor:o.mainColor,width:"".concat(Z(e.allCount,e.comeCount),"%")})}),(0,r.jsx)(c.default,{title:"kelmagan:".concat(e.allCount-e.comeCount),children:(0,r.jsx)(F,{bgcolor:"red",width:"".concat(100-Z(e.allCount,e.comeCount),"%")})})]})]})},n))]}),(null==k?void 0:k.length)>0&&(0,r.jsx)(x.default,{display:"flex",justifyContent:"end",sx:{width:"100%",mt:3},children:(0,r.jsx)(g.default,{direction:s,dataToExcel:k})}),!w&&0===k.length&&(0,r.jsx)(x.default,{sx:{width:"100%"},children:(0,r.jsx)(f.Card,{children:(0,r.jsx)(f.CardContent,{children:(0,r.jsx)(m.default,{w:200,h:180})})})})]})]})}},794017:function(e,n,t){"use strict";t.r(n),t("857640"),t("409924"),t("333948");var a=t("785893"),r=t("667294"),l=t("730381"),i=t.n(l),o=t("537595"),u=t("194718");n.default=(0,r.memo)(e=>{let{dataToExcel:n,direction:t}=e,r=e=>{if(!e||0===e.length)return;let n=e.sort((e,n)=>e.name.toUpperCase().localeCompare(n.name.toUpperCase())),a=[["\u2116","Groups","All Students","Students Came","Percent","".concat(i()().format("DD.MM.YYYY HH:mm"))],...n.map((e,n)=>{var t,a;return[n+1,e.name,e.allCount,e.comeCount||0,(t=e.allCount,a=e.comeCount||0,t&&a?Math.ceil(100*a/t):0)]})],r=o.utils.book_new(),l=o.utils.aoa_to_sheet(a);o.utils.book_append_sheet(r,l,"GroupData");o.writeFile(r,"".concat(t,"_data.xlsx"))};return(0,a.jsx)(u.default,{variant:"contained",onClick:()=>r(n),children:"export to excel"})})}}]);