/*! For license information please see 4993.f013f30a.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["4993"],{20622:function(n,t,e){"use strict";e.r(t);var i=e("58865");e("33948"),e("17727");var l=e("85893"),d=e("67294"),r=e("71893"),a=e("16393"),s=e("7104"),o=e("94718"),c=e("55693"),u=e("25642"),h=e("85044"),x=e("63750"),j=e("27233"),f=e("50533");function v(){let n=(0,i._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return v=function(){return n},n}let p=r.default.div(v());t.default=()=>{let[n,t]=(0,d.useState)([]),[e,i]=(0,d.useState)([]),[r,v]=(0,d.useState)(!0),[m,g]=(0,d.useState)(!1),b=(0,f.useSelector)(n=>{var t;return null==n?void 0:null===(t=n.educationYear)||void 0===t?void 0:t.educationYear}),C=async()=>{g(!0),await j.default.get("".concat(a.BASE_URL,"/permissionForTeacherGrading/findAllPermissionsForTeacherGradingByEducationYearIdAndStatus/").concat(null==b?void 0:b.id,"?status=AT_PROCESS")).then(n=>{var e;t(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj)}).catch(n=>{t([])}).finally(()=>{g(!1)})},y=async()=>{g(!0),await j.default.get("".concat(a.BASE_URL,"/permissionForTeacherGrading/getHistory")).then(n=>{var t;i(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.obj)}).catch(n=>{i([])}).finally(()=>{g(!1)})};return(0,d.useEffect)(()=>{C()},[]),(0,d.useEffect)(()=>{y()},[n]),(0,l.jsxs)(p,{children:[(0,l.jsx)(c.default,{sx:{my:2,display:"flex",justifyContent:"end"},children:r?(0,l.jsx)(o.default,{onClick:()=>v(!1),endIcon:(0,l.jsx)(x.BsClockHistory,{}),variant:"contained",children:"history"}):(0,l.jsx)(o.default,{onClick:()=>v(!0),startIcon:(0,l.jsx)(x.BsArrowLeft,{}),variant:"outlined",children:"Back"})}),(0,l.jsx)(s.Card,{children:(0,l.jsx)(s.CardContent,{children:r?(0,l.jsx)(u.default,{data:n,setData:t,isLoadData:m,fetchData:C}):(0,l.jsx)(h.default,{isLoadData:m,dataOld:e})})})]})}},25642:function(n,t,e){"use strict";e.r(t);var i=e("58865");e("57640"),e("9924"),e("52550"),e("64211"),e("41874"),e("2490");var l=e("85893");e("67294");var d=e("7104"),r=e("94718"),a=e("55693"),s=e("51649"),o=e("71893"),c=e("16393"),u=e("72132"),h=e("78951"),x=e("30381"),j=e.n(x),f=e("27233");function v(){let n=(0,i._)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow-x: scroll;\n\n\n  table {\n    min-width: 900px;\n    border-collapse: collapse;\n    width: 100%;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 13px;\n    }\n\n    th {\n      text-align: center;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #fcf9f9;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n\n    .date_position {\n      position: relative;\n\n      span {\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding-right: 5px;\n        color: #c9bcbc;\n        font-size: 12px;\n        text-align: end;\n      }\n    }\n\n  }\n\n"]);return v=function(){return n},n}let p=o.default.div(v(),c.mainColor);t.default=n=>{let{data:t,setData:e,fetchData:i}=n,{headers:o}=(0,c.getHeaders)(),x=n=>{e(t=>t.map(t=>t.id===n?{...t,status:"CONFIRM"}:t))},v=(n,t)=>{e(e=>e.map(e=>e.id===t?{...e,deadline:n.target.value}:e))},m=n=>{e(t=>t.map(t=>t.id===n?{...t,status:"REJECT",deadline:null}:t))},g=async()=>{await f.default.put("".concat(c.BASE_URL,"/permissionForTeacherGrading/changePermissionStatus"),t,{headers:o}).then(n=>{}).catch(n=>{}),u.toast.success("success"),i()};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"\u2116"}),(0,l.jsx)("th",{children:"Full Name"}),(0,l.jsx)("th",{children:"Subject"}),(0,l.jsx)("th",{children:"Group"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Deadline"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:null==t?void 0:t.map((n,t)=>{var e,i,a;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,l.jsxs)("td",{className:"date_position",children:[null==n?void 0:null===(e=n.teacher)||void 0===e?void 0:e.fullName," ",(0,l.jsx)("span",{children:j()(null==n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")})," "]}),(0,l.jsx)("td",{style:{textAlign:"center"},children:null==n?void 0:null===(i=n.subject)||void 0===i?void 0:i.name}),(0,l.jsx)("td",{style:{textAlign:"center"},children:null==n?void 0:null===(a=n.group)||void 0===a?void 0:a.name}),(0,l.jsx)("td",{children:(0,l.jsx)(d.Stack,{direction:"row",justifyContent:"center",children:(0,l.jsx)(r.default,{color:"CONFIRM"===n.status?"success":"AT_PROCESS"===n.status?"primary":"error",variant:"contained",children:n.status})})}),(0,l.jsx)("td",{children:(0,l.jsx)(d.Stack,{direction:"row",justifyContent:"center",children:(0,l.jsx)(d.TextField,{sx:{width:"175px"},size:"small",disabled:"REJECT"===n.status||"AT_PROCESS"===n.status,inputProps:{min:j()().format("YYYY-MM-DDTHH:mm")},type:"datetime-local",onChange:t=>v(t,n.id)})})}),(0,l.jsx)("td",{children:(0,l.jsxs)(d.Stack,{direction:"row",justifyContent:"center",spacing:3,children:[(0,l.jsx)(r.default,{onClick:()=>x(n.id),variant:"outlined",size:"small",color:"success",children:"Confirm"}),(0,l.jsx)(r.default,{onClick:()=>m(n.id),variant:"outlined",size:"small",color:"error",children:"Reject"})]})})]},t)})})]})}),(null==t?void 0:t.length)===0?(0,l.jsx)(h.default,{w:200,h:180}):(0,l.jsx)(a.default,{mt:"15px",display:"flex",justifyContent:"end",children:(0,l.jsx)(r.default,{variant:"contained",endIcon:(0,l.jsx)(s.IoMdSave,{}),disabled:t.some(n=>{if("AT_PROCESS"===n.status||"CONFIRM"===n.status&&null===n.deadline)return!0}),onClick:g,children:"Save"})})]})}},85044:function(n,t,e){"use strict";e.r(t);var i=e("58865");e("57640"),e("9924"),e("52550");var l=e("85893");e("67294");var d=e("7104"),r=e("94718"),a=e("71893"),s=e("16393"),o=e("78951"),c=e("55693"),u=e("78258"),h=e("30381"),x=e.n(h);function j(){let n=(0,i._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .date_position {\n        position: relative;\n\n        span {\n            width: 100%;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            padding-right: 5px;\n            color: #c9bcbc;\n            font-size: 12px;\n            text-align: end;\n        }\n    }\n\n"]);return j=function(){return n},n}let f=a.default.div(j(),s.mainColor);t.default=n=>{let{dataOld:t,isLoadData:e}=n;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"\u2116"}),(0,l.jsx)("th",{children:"Full Name"}),(0,l.jsx)("th",{children:"Group"}),(0,l.jsx)("th",{children:"Subject"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Deadline"})]})}),(0,l.jsx)("tbody",{children:!e&&(null==t?void 0:t.length)>0&&(null==t?void 0:t.map((n,t)=>{var e,i,a;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,l.jsxs)("td",{className:"date_position",children:[null==n?void 0:null===(e=n.teacher)||void 0===e?void 0:e.fullName,(0,l.jsx)("span",{children:x()(null==n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")})]}),(0,l.jsx)("td",{style:{textAlign:"center"},children:null==n?void 0:null===(i=n.subject)||void 0===i?void 0:i.name}),(0,l.jsx)("td",{style:{textAlign:"center"},children:null==n?void 0:null===(a=n.group)||void 0===a?void 0:a.name}),(0,l.jsx)("td",{children:(0,l.jsx)(d.Stack,{direction:"row",justifyContent:"center",children:(0,l.jsx)(r.default,{color:"CONFIRM"===n.status?"success":"AT_PROCESS"===n.status?"primary":"error",variant:"contained",children:n.status})})}),(0,l.jsx)("td",{style:{textAlign:"center"},children:(null==n?void 0:n.deadline)&&x()(null==n?void 0:n.deadline).format("DD.MM.YYYY HH:mm")})]},t)}))})]})}),e&&(0,l.jsx)(c.default,{sx:{width:"100%"},children:(0,l.jsx)(u.default,{})}),!e&&(null==t?void 0:t.length)===0&&(0,l.jsx)(o.default,{w:200,h:180})]})}}}]);