/*! For license information please see 2147.84b617c9.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2147"],{66360:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return w}});var t=l("38956"),d=l("58865"),i=l("37098");l("91058"),l("57658"),l("91038"),l("78783"),l("26699"),l("32023"),l("21249"),l("57640"),l("9924"),l("92222"),l("57327"),l("88449"),l("19894"),l("2490"),l("41539");var r=l("85893"),a=l("67294"),o=l("71893"),s=l("30381"),u=l.n(s),c=l("55693"),h=l("94718"),f=l("89583"),x=l("68621"),v=l("50533"),j=l("15254"),p=l("7701"),m=l("90199"),y=l("32326");function b(){var e=(0,d._)(["\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #000000;\n            padding: 6px;\n            font-size: 14px;\n            text-align: center;\n        }\n    }\n\n    .td_item {\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.25);\n            cursor: pointer;\n        }\n    }\n\n"]);return b=function(){return e},e}var g=(0,a.memo)(function(){var e,n,l,d,o,s=(0,v.useSelector)(function(e){return e.tableData}),b=s.data,g=s.isLoading,w=s.isError,C=(0,v.useDispatch)(),k=(0,t._)((0,a.useState)(!1),2),S=k[0],I=k[1],_=function(e){for(var n=u()(e),l=n.month(),t=n.year(),d=n.endOf("month").format("D"),r=[],a=u()({year:t,month:l}),o=null,s=0;s<a.daysInMonth();s++){var c=a.clone().startOf("isoWeek").add(s,"days");if(c.month()===l&&7===c.isoWeekday()){o=parseInt(c.format("D"));break}}return null!==o&&r.push.apply(r,(0,i._)(Array.from({length:Math.ceil((d-o+1)/7)},function(e,n){return o+7*n}))),r}(null===(e=b[0])||void 0===e?void 0:e.date),A=function(e,n){!_.includes(n.day)&&(I(!0),C((0,j.changeDayValue)({personId:e.id,daySelect:n})))};return(0,r.jsxs)(D,{children:[g?(0,r.jsx)(c.default,{sx:{display:"flex",justifyContent:"center"},children:(0,r.jsx)(p.default,{})}):w?(0,r.jsx)("h4",{children:"error"}):b.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("table",{children:[(0,r.jsxs)("thead",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,r.jsx)("th",{rowSpan:2,children:"F.I.O"}),(0,r.jsx)("th",{rowSpan:2,children:"Position"}),(0,r.jsx)("th",{colSpan:null===(l=b[0])||void 0===l?void 0:null===(n=l.monthly)||void 0===n?void 0:n.length,children:"Attendance and absence notes by day of the month"}),(0,r.jsx)("th",{colSpan:2,children:"Worked for the month"})]}),(0,r.jsxs)("tr",{children:[null===(o=b[0])||void 0===o?void 0:null===(d=o.monthly)||void 0===d?void 0:d.map(function(e){return(0,r.jsx)("td",{children:null==e?void 0:e.day},null==e?void 0:e.day)}),(0,r.jsx)("td",{children:"days"}),(0,r.jsx)("td",{children:"hours"})]})]}),(0,r.jsx)("tbody",{children:null==b?void 0:b.map(function(e,n){var l,t,d,i,a,o,s;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:n+1}),(0,r.jsx)("td",{style:{textAlign:"start"},children:null==e?void 0:null===(l=e.fullName)||void 0===l?void 0:l.toUpperCase()}),(0,r.jsxs)("td",{children:[null==e?void 0:null===(t=e.userPosition)||void 0===t?void 0:t.label," ",(null==e?void 0:e.rate)?"(".concat(null==e?void 0:e.rate,")"):""]}),null==e?void 0:null===(d=e.monthly)||void 0===d?void 0:d.map(function(n){return(0,r.jsx)("td",{className:"td_item",onClick:function(){return A(e,n)},children:(null==n?void 0:n.value)?8*e.rate:0},null==n?void 0:n.day)}),(0,r.jsx)("td",{children:null==e?void 0:null===(a=e.monthly)||void 0===a?void 0:null===(i=a.filter(function(e){return(null==e?void 0:e.value)!==null}))||void 0===i?void 0:i.length}),(0,r.jsx)("td",{children:(null==e?void 0:null===(s=e.monthly)||void 0===s?void 0:null===(o=s.filter(function(e){return(null==e?void 0:e.value)!==null}))||void 0===o?void 0:o.length)*e.rate*8})]},n)})})]}),(0,r.jsxs)(c.default,{sx:{mt:"1.5rem",display:"flex",justifyContent:"end",gap:"1.5rem"},children:[(0,r.jsx)(h.default,{variant:"contained",endIcon:(0,r.jsx)(f.FaSave,{}),children:"save"}),(0,r.jsx)(x.default,{data:b})]})]}):(0,r.jsx)(m.default,{w:200,h:180}),(0,r.jsx)(y.default,{open:S,handleClose:function(){return I(!1)}})]})}),D=o.default.div(b()),w=g},32326:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return x}});var t=l("38956");l("21249"),l("57640"),l("9924");var d=l("85893"),i=l("67294"),r=l("55693"),a=l("7104"),o=l("42154"),s=l("32392"),u=l("44025"),c=l("96484"),h=l("94718"),f=l("61261"),x=(0,i.memo)(function(e){var n=e.open,l=e.handleClose,x=(0,t._)((0,i.useState)(""),2),v=x[0],j=x[1];return(0,d.jsxs)(a.Dialog,{disableEscapeKeyDown:!0,open:n,onClose:l,children:[(0,d.jsx)(a.DialogTitle,{children:"Select day type"}),(0,d.jsx)(a.DialogContent,{children:(0,d.jsx)(r.default,{component:"form",sx:{display:"flex",flexWrap:"wrap"},children:(0,d.jsxs)(o.default,{sx:{m:1,minWidth:320},children:[(0,d.jsx)(s.default,{id:"demo-dialog-select-label",children:"Type"}),(0,d.jsxs)(u.default,{labelId:"demo-dialog-select-label",id:"demo-dialog-select",value:v,onChange:function(e){return j(e.target.value)},input:(0,d.jsx)(c.default,{label:"Type"}),children:[(0,d.jsx)(f.default,{value:"",children:(0,d.jsx)("em",{children:"None"})}),["HOLIDAY","SICK LEAVE","DAY OFF","VACATION"].map(function(e){return(0,d.jsx)(f.default,{value:e,children:e})})]})]})})}),(0,d.jsxs)(a.DialogActions,{children:[(0,d.jsx)(h.default,{onClick:l,children:"Cancel"}),(0,d.jsx)(h.default,{onClick:function(){console.log(v),l(),j("")},children:"Ok"})]})]})})},48354:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return E}});var t=l("7409"),d=l("99282"),i=l("38956"),r=l("58865");l("92222"),l("57327"),l("88449"),l("19894"),l("2490"),l("41539"),l("26699"),l("32023"),l("21249"),l("57640"),l("9924"),l("73210"),l("82772");var a=l("85893"),o=l("67294"),s=l("71893"),u=l("7104"),c=l("42154"),h=l("32392"),f=l("44025"),x=l("61261"),v=l("55693"),j=l("96484"),p=l("15352"),m=l("73871"),y=l("1190"),b=l("96413"),g=l("52861"),D=l("66360"),w=l("30381"),C=l.n(w),k=l("27233"),S=l("28685"),I=l("50533"),_=l("47971");function A(){var e=(0,r._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return A=function(){return e},e}var T={PaperProps:{style:{maxHeight:278,width:300}}},N=s.default.div(A()),E=function(){var e=(0,S.getHeaders)().headers,n=(0,I.useDispatch)(),l=(0,i._)((0,o.useState)([]),2),r=l[0],s=l[1],w=(0,i._)((0,o.useState)([]),2),A=w[0],E=w[1],F=(0,i._)((0,o.useState)({department:"",personData:[],selectedDate:C()()}),2),O=F[0],L=F[1],M=function(){k.default.get(S.BASE_URL+"/kafedra/getKafedrasForSelect",{headers:e}).then(function(e){var n;s(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e),s([])})},P=function(n){n&&(null==n?void 0:n.trim())!==""&&k.default.get(S.BASE_URL+"/kafedra/getTeachersForSelectByKafedraId?kafedraId="+n,{headers:e}).then(function(e){var n;E(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e),E([])})};return(0,o.useEffect)(function(){M()},[]),(0,o.useEffect)(function(){P(null==O?void 0:O.department)},[O.department]),(0,o.useEffect)(function(){O.personData.length>0&&n((0,_.getTableDataTeachers)({valueData:O,staffData:A}))},[O]),(0,a.jsxs)(N,{children:[(0,a.jsx)(v.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,a.jsxs)(v.default,{sx:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[(0,a.jsxs)(c.default,{sx:{width:300},children:[(0,a.jsx)(h.default,{id:"demo-simple-select-label",children:"Department"}),(0,a.jsxs)(f.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O.department,label:"Department",onChange:function(e){L(function(n){return(0,d._)((0,t._)({},n),{department:e.target.value})}),L(function(e){return(0,d._)((0,t._)({},e),{personData:[]})})},children:[(0,a.jsx)(x.default,{value:"",children:(0,a.jsx)("em",{children:"None"})}),null==r?void 0:r.map(function(e){return(0,a.jsx)(x.default,{value:null==e?void 0:e.value,children:null==e?void 0:e.label},null==e?void 0:e.value)})]})]}),(0,a.jsxs)(c.default,{sx:{width:300},children:[(0,a.jsx)(h.default,{id:"demo-multiple-checkbox-label",children:"Choose teachers"}),(0,a.jsx)(f.default,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:O.personData,onChange:function(e){var n=e.target.value;L(function(e){return(0,d._)((0,t._)({},e),{personData:n})})},input:(0,a.jsx)(j.default,{label:"Choose teachers"}),renderValue:function(e){return e.join(", ")},MenuProps:T,children:A.map(function(e){return(0,a.jsxs)(x.default,{value:null==e?void 0:e.label,children:[(0,a.jsx)(p.default,{checked:O.personData.indexOf(null==e?void 0:e.label)>-1}),(0,a.jsx)(u.ListItemText,{primary:null==e?void 0:e.label})]},null==e?void 0:e.value)})})]}),(0,a.jsx)(m.LocalizationProvider,{dateAdapter:b.AdapterMoment,adapterLocale:"en",children:(0,a.jsx)(y.DatePicker,{inputFormat:"MMMM YYYY",value:O.selectedDate,label:"month",views:["month"],openTo:"month",onChange:function(e){L(function(n){return(0,d._)((0,t._)({},n),{selectedDate:e})})},renderInput:function(e){return(0,a.jsx)(g.default,(0,d._)((0,t._)({},e),{variant:"outlined",label:"Choose month"}))},disableMaskedInput:!0})})]})}),(0,a.jsx)(u.Card,{sx:{mt:"1.5rem"},children:(0,a.jsx)(u.CardContent,{children:(0,a.jsx)(D.default,{})})})]})}},68621:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return j}});var t=l("76150"),d=l("38956"),i=l("58865"),r=l("18965");l("92222"),l("21249"),l("57640"),l("9924"),l("57327"),l("88449"),l("19894"),l("2490"),l("41539");var a=l("85893"),o=l("67294"),s=l("49492"),u=l("94718"),c=l("7701"),h=l("71893"),f=l("70231");function x(){var e=(0,i._)(["\n    width: 100%;\n    margin: 0 auto;\n    font-size: 12px;\n    padding: 5px;\n    color: black;\n    line-height: 1.7;\n\n\n    table {\n        font-size: 10px;\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        overflow: hidden;\n\n        table, td, th {\n            border: 1px solid #000000;\n            padding: 6px;\n            font-size: 12px;\n            text-align: center;\n        }\n    }\n"]);return x=function(){return e},e}var v=h.default.div(x()),j=(0,o.memo)(function(e){var n,l,i,h,x,j=e.data,p=(0,o.useRef)(null),m=(0,d._)((0,o.useState)(!1),2),y=m[0],b=m[1];var g=(n=(0,t._)(function(){var e,n;return(0,r._)(this,function(l){switch(l.label){case 0:return b(!0),e=p.current,n={margin:5,filename:"tabel-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a3",orientation:"portrait"}},[4,(0,s.default)().set(n).from(e).save()];case 1:return l.sent(),b(!1),[2]}})}),function(){return n.apply(this,arguments)});return(0,a.jsxs)(a.Fragment,{children:[y?(0,a.jsx)(u.default,{disabled:!0,variant:"outlined",endIcon:(0,a.jsx)(c.default,{size:18}),children:"download"}):(0,a.jsx)(u.default,{variant:"contained",endIcon:(0,a.jsx)(f.FaRegFilePdf,{}),onClick:g,children:"download"}),(0,a.jsx)("div",{style:{display:"none"},children:(0,a.jsxs)(v,{ref:p,children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,a.jsxs)("div",{style:{width:200,textAlign:"center"},children:[(0,a.jsxs)("h4",{children:["I confirm: ",(0,a.jsx)("br",{}),"Rector ",(0,a.jsx)("br",{}),"Kudaibergenov"]}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{style:{width:200,borderBottom:"1px solid #000"}})]})}),(0,a.jsx)("h2",{style:{textAlign:"center"},children:"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"}),(0,a.jsx)("h3",{style:{textAlign:"center"},children:"Department of information technologies"}),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,a.jsxs)("p",{children:["Document number:25 ",(0,a.jsx)("br",{}),"Date of compilation: December 2023"]})}),(0,a.jsx)("h3",{style:{textAlign:"center"},children:"T A B E L"}),(0,a.jsx)("h4",{style:{textAlign:"center"},children:"recording the use of working time"})]}),(0,a.jsx)("div",{className:"main",children:(0,a.jsxs)("table",{children:[(0,a.jsxs)("thead",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,a.jsx)("th",{rowSpan:2,children:"F.I.O"}),(0,a.jsx)("th",{rowSpan:2,children:"Position"}),(0,a.jsx)("th",{colSpan:null===(i=j[0])||void 0===i?void 0:null===(l=i.monthly)||void 0===l?void 0:l.length,children:"Attendance and absence notes by day of the month"}),(0,a.jsx)("th",{colSpan:2,children:"Worked for the month"})]}),(0,a.jsxs)("tr",{children:[null===(x=j[0])||void 0===x?void 0:null===(h=x.monthly)||void 0===h?void 0:h.map(function(e){return(0,a.jsx)("td",{children:null==e?void 0:e.day},null==e?void 0:e.day)}),(0,a.jsx)("td",{children:"days"}),(0,a.jsx)("td",{children:"hours"})]})]}),(0,a.jsx)("tbody",{children:null==j?void 0:j.map(function(e,n){var l,t,d,i,r,o,s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:n+1}),(0,a.jsx)("td",{style:{textAlign:"start"},children:null==e?void 0:null===(l=e.fullName)||void 0===l?void 0:l.toUpperCase()}),(0,a.jsxs)("td",{children:[null==e?void 0:null===(t=e.userPosition)||void 0===t?void 0:t.label," ",(null==e?void 0:e.rate)?"(".concat(null==e?void 0:e.rate,")"):""]}),null==e?void 0:null===(d=e.monthly)||void 0===d?void 0:d.map(function(n){return(0,a.jsx)("td",{children:(null==n?void 0:n.value)?8*e.rate:0},null==n?void 0:n.day)}),(0,a.jsx)("td",{children:null==e?void 0:null===(r=e.monthly)||void 0===r?void 0:null===(i=r.filter(function(e){return(null==e?void 0:e.value)!==null}))||void 0===i?void 0:i.length}),(0,a.jsx)("td",{children:(null==e?void 0:null===(s=e.monthly)||void 0===s?void 0:null===(o=s.filter(function(e){return(null==e?void 0:e.value)!==null}))||void 0===o?void 0:o.length)*e.rate*8})]},n)})})]})}),(0,a.jsx)("div",{className:"footer",style:{display:"flex",justifyContent:"end"},children:(0,a.jsxs)("div",{style:{width:700,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:15,rowGap:15},children:[(0,a.jsx)("b",{children:"Head of the department"}),(0,a.jsx)("p",{style:{width:150,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:"\u0428.\u0422.\u0421\u0430\u0431\u0438\u0440\u043E\u0432"}),(0,a.jsx)("b",{children:"Head of HR Department"}),(0,a.jsx)("p",{style:{width:150,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:"\u0424.\u0428. \u0421\u0443\u043B\u0430\u0439\u043C\u0430\u043D\u043E\u0432"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[(0,a.jsx)("p",{children:"Meaning of abbreviations: "}),(0,a.jsxs)("p",{children:["H - Holiday ",(0,a.jsx)("br",{}),"SL - Sick leave ",(0,a.jsx)("br",{}),"DO - Day off ",(0,a.jsx)("br",{}),"V - Vacation ",(0,a.jsx)("br",{})]})]})]})})]})})]})})}}]);