/*! For license information please see 7730.faffb4ff.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["7730"],{74183:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var i=t("76150"),a=t("7409"),r=t("99282"),l=t("38956"),o=t("58865"),c=t("18965");t("21249"),t("57640"),t("9924"),t("17727"),t("88674"),t("41539"),t("92222");var s=t("85893"),u=t("67294"),d=t("71893"),f=t("27233"),h=t("28685"),x=t("16356"),p=t("7104"),j=t("74113"),m=t("8193"),b=t("94718"),g=t("55693"),v=t("89583"),C=t("97367"),k=t("60155"),_=t("72132"),S=t("71632"),y=t("44118"),w=t("89589");function A(){var e=(0,o._)(["\n    ","\n"]);return A=function(){return e},e}function T(){var e=(0,o._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return T=function(){return e},e}function I(){var e=(0,o._)(["\n    ","\n"]);return I=function(){return e},e}function O(){var e=(0,o._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return O=function(){return e},e}function R(){var e=(0,o._)(["\n    display: flex;\n    align-items: center;\n    justify-content: start;\n    gap: 5px;\n    color: ",";\n\n    h1 {\n        font-size: 22px;\n    }\n"]);return R=function(){return e},e}function L(){var e=(0,o._)(["\n    width: 100%;\n    padding: 1rem;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return L=function(){return e},e}var U=d.default.div(A(),(0,S.extrasmall)({width:"95% !important"})),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},N=d.default.div(T()),D=d.default.div(I(),(0,S.extrasmall)({width:"97% !important"})),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},z=d.default.button(O(),h.mainColor),B=d.default.div(R(),h.mainColor),G=d.default.div(L()),W=function(){var e,n=(0,l._)((0,u.useState)([]),2),t=n[0],o=n[1],d=(0,l._)((0,u.useState)(!1),2),S=d[0],A=d[1],T=(0,h.getHeaders)().headers,I=(0,l._)((0,u.useState)(!1),2),O=I[0],R=I[1],L=(0,l._)((0,u.useState)(null),2),W=L[0],H=L[1],M=(0,l._)((0,u.useState)(""),2),P=M[0],V=M[1],Y=(0,l._)((0,u.useState)([]),2),q=Y[0],J=Y[1],K=(0,l._)((0,u.useState)(null),2),Q=K[0],X=K[1],Z=(0,l._)((0,u.useState)(!1),2),$=Z[0],ee=Z[1],en=(0,u.useRef)(null),et=(0,l._)((0,u.useState)("ROLE_MONITORING_ASSISTANT"),2),ei=et[0],ea=et[1],er=function(){R(!1)},el=function(){A(!0),f.default.get(h.BASE_URL+"/dataOfLastActive/getAssistants",{headers:T}).then(function(e){var n;o(null===(n=e.data.obj)||void 0===n?void 0:n.map(function(e,n){return(0,r._)((0,a._)({},e),{count:n+1})}))}).catch(function(e){}).finally(function(){A(!1)})};var eo=(e=(0,i._)(function(e){var n,t;return(0,c._)(this,function(i){return n=f.default.CancelToken.source(),en.current=n,t=setTimeout(function(){e.length>=4&&f.default.get("".concat(h.BASE_URL,"/user/getUserForTeacherSavingSearch?keyword=").concat(e),{headers:T,cancelToken:n.token}).then(function(e){J(e.data.obj)}).catch(function(e){f.default.isCancel(e)})},300),[2,function(){n&&n.cancel("Operation canceled due to component unmount."),clearTimeout(t)}]})}),function(n){return e.apply(this,arguments)}),ec=function(e){X(e),ee(!0)};(0,u.useEffect)(function(){el()},[]);var es=function(){X(null),ee(!1)};return(0,s.jsxs)(G,{children:[(0,s.jsxs)(B,{children:[(0,s.jsx)(v.FaUser,{size:23}),(0,s.jsx)("h1",{children:"Assistants"})]}),(0,s.jsx)(p.Card,{children:(0,s.jsxs)(p.CardContent,{children:[(0,s.jsx)(g.default,{sx:{display:"flex",justifyContent:"end",mb:2},children:(0,s.jsx)(b.default,{onClick:function(){R(!0)},variant:"contained",color:"success",endIcon:(0,s.jsx)(v.FaUserPlus,{}),children:"Add User"})}),(0,s.jsx)(x.DataGrid,{columns:[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:250,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center"},{minWidth:250,flex:.5,field:"action",headerName:"Action",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){return(0,s.jsx)(p.Stack,{direction:"row",spacing:2,justifyContent:"center",children:(0,s.jsx)(j.default,{"aria-label":"delete",color:"error",onClick:function(){return ec(e.row.id)},children:(0,s.jsx)(m.AiFillDelete,{})})})}}],rows:t||[],loading:S,components:{Toolbar:x.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})]})}),(0,s.jsx)(C.default,{open:O,onClose:er,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,s.jsxs)(g.default,{sx:F,component:D,children:[(0,s.jsxs)(N,{children:[(0,s.jsx)("h4",{children:" Add user"}),(0,s.jsxs)(z,{onClick:er,children:[" ",(0,s.jsx)(k.IoClose,{size:22})]})]}),(0,s.jsxs)(g.default,{children:[(0,s.jsxs)(g.default,{sx:{marginY:3,display:"flex",flexDirection:"column",gap:3},children:[(0,s.jsx)(y.default,{value:W,fullWidth:!0,onChange:function(e,n){H(n)},inputValue:P,onInputChange:function(e,n){V(n),eo(n)},id:"user-autocomplete",options:q||[],getOptionLabel:function(e){return null==e?void 0:e.label},getOptionSelected:function(e,n){return(null==e?void 0:e.value)===(null==n?void 0:n.value)},renderInput:function(e){return(0,s.jsx)(p.TextField,(0,r._)((0,a._)({},e),{label:"Select User"}))}}),(0,s.jsx)(p.TextField,{size:"small",label:"Role",fullWidth:!0,value:ei,onChange:function(e){return ea(e.target.value)},disabled:!0})]}),(0,s.jsxs)(p.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,s.jsx)(b.default,{variant:"outlined",onClick:er,children:"Cancel"}),(0,s.jsx)(b.default,{variant:"contained",onClick:function(){if(W){var e={userId:W.value,roleName:ei};f.default.post("".concat(h.BASE_URL,"/dataOfLastActive/createAssistant"),e,{headers:T}).then(function(e){_.toast.success("Add user"),el(),H(null)}).catch(function(e){_.toast.error("Error adding user")})}R(!1)},children:"save"})]})]})]})}),(0,s.jsx)(C.default,{open:$,onClose:es,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(g.default,{sx:E,component:U,children:[(0,s.jsxs)(N,{children:[(0,s.jsx)("h5",{children:"Delete"}),(0,s.jsxs)(z,{onClick:es,children:[" ",(0,s.jsx)(k.IoClose,{size:22})]})]}),(0,s.jsxs)(g.default,{children:[(0,s.jsx)(p.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,s.jsx)(w.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,s.jsxs)(p.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,s.jsx)(b.default,{variant:"outlined",onClick:es,children:"Cancel"}),(0,s.jsx)(b.default,{variant:"contained",color:"error",onClick:function(){Q&&f.default.delete(h.BASE_URL+"/dataOfLastActive/deleteAssistant/"+Q,{headers:T}).then(function(e){_.toast.success("Deleted assistant"),el(),ee(!1)}).catch(function(e){_.toast.error("Error")})},children:"Ok"})]})]})]})})]})}}}]);