/*! For license information please see 5086.43e43c12.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5086"],{84733:function(e,l,n){"use strict";n.r(l);var t=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n("71893"),u=n("55693"),r=n("42154"),o=n("32392"),s=n("44025"),c=n("61261"),v=n("57024"),h=n("50533"),f=n("27120"),x=n("92120"),m=n("27233"),p=n("16393"),j=n("7104"),b=n("4548"),g=n("94718"),S=n("39711"),w=n("47516");function k(){let e=(0,t._)(["\n  margin-top: 15px;\n  padding: 15px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  ","\n"]);return k=function(){return e},e}function C(){let e=(0,t._)(["\n  padding: 1rem;\n"]);return C=function(){return e},e}let _=i.default.div(k(),(0,v.extrasmall)({justifyContent:"center"})),y=i.default.div(C());l.default=()=>{var e;let{headers:l}=(0,p.getHeaders)(),n=(0,h.useSelector)(e=>{var l;return null==e?void 0:(l=e.educationYear)===null||void 0===l?void 0:l.educationYear})||null,[t,i]=(0,a.useState)([]),[v,k]=(0,a.useState)(""),C=(0,h.useSelector)(e=>{var l;return null==e?void 0:(l=e.dekanat)===null||void 0===l?void 0:l.dekanat})||null,F=(0,h.useDispatch)(),[N,E]=(0,a.useState)(""),[Y,G]=(0,a.useState)([]),[B,A]=(0,a.useState)([]),I=(0,S.useNavigate)(),U=async()=>{await m.default.get(p.BASE_URL+"/education/educationYearsForSelected",{headers:l}).then(e=>{var l,n,t;i(null==e?void 0:(l=e.data)===null||void 0===l?void 0:l.obj),F((0,x.fetchEducationYear)(null==e?void 0:(t=e.data)===null||void 0===t?void 0:(n=t.obj)===null||void 0===n?void 0:n[0]))}).catch(e=>{})},L=async()=>{var e;await m.default.get("".concat(p.BASE_URL,"/gradeOfStudentByTeacher/getAllMiddleGrade/").concat(null==n?void 0:n.id,"?groupId=").concat(null==Y?void 0:(e=Y.find(e=>(null==e?void 0:e.name)===N))===null||void 0===e?void 0:e.id),{headers:l}).then(e=>{var l;A(null==e?void 0:(l=e.data)===null||void 0===l?void 0:l.obj.sort(R))}).catch(e=>{A([])})};function R(e,l){let n=e.fullName.toUpperCase(),t=l.fullName.toUpperCase();return n<t?-1:n>t?1:0}return(0,a.useEffect)(()=>{var e,n;v&&m.default.get(p.BASE_URL+"/dekan/getGroupsNamesForDekanByFacultyId/".concat(null==C?void 0:(n=C.faculties)===null||void 0===n?void 0:(e=n.find(e=>e.shortName===v))===null||void 0===e?void 0:e.id),{headers:l}).then(e=>{var l;G(null==e?void 0:(l=e.data)===null||void 0===l?void 0:l.sort(function(e,l){return(null==e?void 0:e.name)>(null==l?void 0:l.name)?1:(null==e?void 0:e.name)<(null==l?void 0:l.name)?-1:0}))}).catch(e=>{})},[v]),(0,a.useEffect)(()=>{N&&F((0,f.educationYearStatisticsFetching)()),N&&L()},[N]),(0,a.useEffect)(()=>{U()},[]),(0,d.jsxs)(y,{children:[(0,d.jsx)(u.default,{mb:2,display:"flex",justifyContent:"end",children:(0,d.jsx)(g.default,{onClick:()=>I(-1),variant:"outlined",startIcon:(0,d.jsx)(w.BiArrowBack,{}),children:"Back"})}),(0,d.jsxs)(_,{children:[(0,d.jsx)(u.default,{sx:{width:200},children:(0,d.jsxs)(r.default,{fullWidth:!0,children:[(0,d.jsx)(o.default,{id:"semestr",children:"Semestr"}),(0,d.jsx)(s.default,{labelId:"semestr",id:"demo-simple-select",value:null==n?void 0:n.name,label:"Semistr",onChange:e=>{e.target.value!==(null==n?void 0:n.name)&&F((0,f.educationYearStatisticsFetching)()),F((0,x.fetchEducationYear)(null==t?void 0:t.find(l=>(null==l?void 0:l.name)===e.target.value)))},children:t.map((e,l)=>(0,d.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,d.jsx)(u.default,{sx:{width:200},children:(0,d.jsxs)(r.default,{fullWidth:!0,children:[(0,d.jsx)(o.default,{id:"demo-simple-select-label",children:"Yo'nalish"}),(0,d.jsx)(s.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v,label:"Yo'nalish",onChange:e=>{k(e.target.value)},children:null==C?void 0:(e=C.faculties)===null||void 0===e?void 0:e.map((e,l)=>(0,d.jsx)(c.default,{value:null==e?void 0:e.shortName,children:null==e?void 0:e.shortName},null==e?void 0:e.id))})]})}),(0,d.jsx)(u.default,{sx:{width:200},children:(0,d.jsxs)(r.default,{fullWidth:!0,children:[(0,d.jsx)(o.default,{id:"demo-simple-select-label1",children:"Group"}),(0,d.jsx)(s.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:N,label:"Group",onChange:e=>{E(e.target.value)},children:null==Y?void 0:Y.map((e,l)=>(0,d.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})})]}),(0,d.jsx)(j.Card,{children:(0,d.jsx)(j.CardContent,{children:(0,d.jsx)(b.default,{data:B})})})]})}},4548:function(e,l,n){"use strict";n.r(l);var t=n("58865");n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n.n(a),u=n("71893"),r=n("16393"),o=n("94718"),s=n("78951"),c=n("37595"),v=n("55693");function h(){let e=(0,t._)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow-x: scroll;\n\n  table {\n    min-width: 1500px;\n    border-collapse: collapse;\n    width: 100%;\n    text-align: center;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 14px;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #f2f2f2;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n  }\n  \n"]);return h=function(){return e},e}let f=u.default.div(h(),r.mainColor);l.default=e=>{var l,n,t;let{data:a}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.default,{display:"flex",justifyContent:"end",mb:3,children:(0,d.jsx)(o.default,{variant:"contained",onClick:()=>{let e=c.utils.table_to_sheet(document.querySelector("table")),l=c.utils.book_new();c.utils.book_append_sheet(l,e,"Sheet1"),c.writeFile(l,"table_data.xlsx")},children:"Export to Excel"})}),(0,d.jsx)(f,{children:a.length>0?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("table",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,d.jsx)("th",{rowSpan:2,children:"Full name"}),(n=a[0])===null||void 0===n?void 0:(l=n.subjects)===null||void 0===l?void 0:l.map((e,l)=>(0,d.jsx)("th",{colSpan:2,children:null==e?void 0:e.subjectName},l))]}),(0,d.jsx)("tr",{children:Array.from({length:((t=a[0])===null||void 0===t?void 0:t.subjects.length)*2}).map((e,l)=>(0,d.jsx)("th",{children:l%2==0?"JN":"YN"},l))}),a.map((e,l)=>{var n;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:l+1}),(0,d.jsxs)("td",{children:[e.fullName," "]}),null==e?void 0:(n=e.subjects)===null||void 0===n?void 0:n.map((e,l)=>(0,d.jsxs)(i().Fragment,{children:[(0,d.jsx)("td",{children:(null==e?void 0:e.allSumGrade)!==null?(null==e?void 0:e.allSumGrade)+(null==e?void 0:e.allGradesForAttendance):"-"}),(0,d.jsx)("td",{children:(null==e?void 0:e.endGrade)!==null?null==e?void 0:e.endGrade:"-"})]},l))]},l)})]})}):(0,d.jsx)(s.default,{w:200,h:180})})]})}}}]);