/*! For license information please see 5213.97cd1bb0.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5213"],{29118:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),d=n("67294"),a=n("97367"),i=n("55693"),r=n("89589"),o=n("52861"),s=n("94718"),u=n("27233"),c=n("16393"),h=n("72132"),f=n("50533");let x={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:330,bgcolor:"background.paper",border:"none",outline:"none",borderRadius:"5px",p:2};t.default=e=>{let{open:t,setThemeModal:n,educationYearId:v,groupId:p,subjectId:m,getThemeAll:j}=e,{headers:g}=(0,c.getHeaders)(),b=(0,f.useSelector)(e=>e.dataForUpdateThemeGrade.data),y={name:"",maxGrade:""},[C,S]=(0,d.useState)(y),w=()=>{n(!1),S(y)};return(0,d.useEffect)(()=>{b&&S(b)},[b]),(0,l.jsx)(a.default,{open:t,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(i.default,{sx:x,children:[(0,l.jsx)(r.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add a new theme"}),(0,l.jsxs)(i.default,{children:[(0,l.jsx)(o.default,{value:C.name,required:!0,onChange:e=>S(t=>({...t,name:e.target.value})),sx:{margin:"15px 0"},fullWidth:!0,type:"text",label:"Theme",inputProps:{minLength:4}}),(0,l.jsx)(o.default,{value:C.maxGrade,onChange:e=>S(t=>({...t,maxGrade:e.target.value})),sx:{marginBottom:"15px"},fullWidth:!0,type:"number",label:"Max grade",InputProps:{inputProps:{min:0}}})]}),(0,l.jsxs)(i.default,{sx:{display:"flex",justifyContent:"end",gap:"15px"},children:[(0,l.jsx)(s.default,{variant:"outlined",onClick:w,children:"Cancel"}),(0,l.jsx)(s.default,{type:"submit",onClick:()=>{var e;let t={...C,maxGrade:parseFloat(C.maxGrade),educationYearId:v,groupId:p,subjectId:m};if((null===(e=t.name)||void 0===e?void 0:e.trim())===""||t.maxGrade<=0||""===t.maxGrade||isNaN(t.maxGrade))return h.toast.error("Error");(null==t?void 0:t.id)?u.default.put("".concat(c.BASE_URL,"/themeOfSubjectForGrading/updateTheme"),t,{headers:g}).then(e=>{h.toast.success(e.data.message),j(),w()}).catch(e=>{let t=e.response.data.message;h.toast.error(t)}):u.default.post("".concat(c.BASE_URL,"/themeOfSubjectForGrading/createTheme"),t,{headers:g}).then(e=>{h.toast.success(e.data.message),j(),w()}).catch(e=>{let t=e.response.data.message;h.toast.error(t)})},variant:"contained",children:(null==C?void 0:C.id)?"Update":"Save"})]})]})})}},69923:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("57658"),n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n("55693"),r=n("94718"),o=n("45155"),s=n("30381"),u=n.n(s),c=n("71893"),h=n("16393"),f=n("37595"),x=n("50533"),v=n("19092"),p=n("78258"),m=n("45201"),j=n("60141"),g=n("92690"),b=n("84493");function y(){let e=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow: scroll;\n    height: 64vh;\n\n    table {\n        min-width: 1500px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return y=function(){return e},e}let C=c.default.div(y(),h.mainColor),S={border:"none",outline:"none",background:"transparent"},w={width:"40px!important",height:"40px!important",fontSize:"24px"};t.default=(0,a.memo)(function(e){var t,n;let{groups:l,lessons:s,groupSelect:c,scien:y}=e,{headers:I}=(0,h.getHeaders)(),[k,D]=(0,a.useState)(new Date),[A,Y]=(0,a.useState)([]),T=(0,x.useDispatch)(),[F,M]=(0,a.useState)(!1),E=(0,x.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear})||null,H=(0,x.useSelector)(e=>e.AllNbStudentForTeacher.data),G=(0,x.useSelector)(e=>e.AllNbStudentForTeacher.isLoading);(0,x.useSelector)(e=>e.AllNbStudentForTeacher.isError);let[N,_]=(0,a.useState)(null),R=null==s?void 0:null===(t=s.find(e=>(null==e?void 0:e.name)===y))||void 0===t?void 0:t.id,z=null==l?void 0:null===(n=l.find(e=>(null==e?void 0:e.name)===c))||void 0===n?void 0:n.id,B=(0,x.useSelector)(e=>e.hourSection),O={eduId:null==E?void 0:E.id,groupId:z,subjectId:R,hours:B,headers:(0,h.getHeaders)()},L=()=>{M(!0)};return(0,a.useEffect)(()=>{Y(()=>Array.from(Array(u()(k).daysInMonth()).keys()).map(e=>e+1))},[k]),(0,a.useEffect)(()=>{T((0,g.getAllStudentData)(O))},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.default,{sx:{display:"flex",justifyContent:"center"},children:(0,d.jsxs)(r.default,{sx:{display:"flex",justifyContent:"center",gap:1,alignItems:"center",backgroundColor:"#fcfafa"},children:[(0,d.jsx)("div",{style:w,onClick:()=>{D(new Date(k.getFullYear(),k.getMonth()-1))},children:(0,d.jsx)(o.GrFormPrevious,{})}),(0,d.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:u()(k).format("YYYY-MM"),onChange:e=>D(new Date(e.target.value)),style:S,lang:"en"}),(0,d.jsx)("div",{style:w,onClick:()=>{D(new Date(k.getFullYear(),k.getMonth()+1))},children:(0,d.jsx)(o.GrFormNext,{})})]})}),(0,d.jsxs)(C,{children:[(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u2116"}),(0,d.jsx)("th",{children:(0,d.jsx)("p",{children:"Full name"})}),A.map(e=>(0,d.jsx)("th",{children:e},e)),(0,d.jsx)("th",{children:"\u2211"})]})}),(0,d.jsx)("tbody",{children:!G&&(null==H?void 0:H.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,d.jsx)("td",{children:null==e?void 0:e.fullName}),A.map((t,n)=>new Date(k.getFullYear(),k.getMonth(),t)<=new Date?(0,d.jsx)(v.default,{openModal:L,setDataForAttendance:_,data:e,day:t,time:k},n):(0,d.jsx)("td",{},n)),(0,d.jsx)("td",{children:null==e?void 0:e.subjectNb})]},t)))})]}),G&&(0,d.jsx)(i.default,{sx:{width:"100%",marginTop:"20px"},children:(0,d.jsx)(p.default,{})})]}),(0,d.jsx)(b.default,{exportToExcel:()=>{let e=[],t=["\u2116","Full name",...A,"total"];e.push(t),H.map((t,n)=>{let l=[n+1,t.fullName,...A.map(e=>{var n;return new Date(k.getFullYear(),k.getMonth(),e)<=new Date?Array.isArray(n=(0,m.default)({data:t,day:e,time:k}))?n.join(","):"":""}),null==t?void 0:t.subjectNb];e.push(l)});let n=f.utils.book_new(),l=f.utils.aoa_to_sheet(e);f.utils.book_append_sheet(n,l,"StudentsData"),f.writeFile(n,"students_data.xlsx")},confData:O,dataStudents:H}),(0,d.jsx)(j.default,{open:F,handleCloseModal:()=>{M(!1),_(null)},dataForAttendance:N,eduId:null==E?void 0:E.id,subjectId:R,groupId:z})]})})},48653:function(e,t,n){"use strict";n.r(t),n("33948"),n("31672"),n("59461"),n("2490");var l=n("85893"),d=n("67294"),a=n("7104"),i=n("55693"),r=n("94718"),o=n("51649"),s=n("70231"),u=n("50533"),c=n("76302");t.default=(0,d.memo)(function(e){let{anchorEl:t,open:n,handleClose:h,data:f}=e,[x,v]=(0,d.useState)(null),p=(0,u.useSelector)(e=>e.attendanceForJournal),m=(0,u.useDispatch)(),j=()=>{h(),v(null)},g=()=>{let e=null==p?void 0:p.attendances.find(e=>(null==e?void 0:e.studentId)===(null==f?void 0:f.studentId)&&(null==e?void 0:e.section)===(null==f?void 0:f.section));return e?e.isCome:null};return(0,d.useEffect)(()=>{v(g)},[f,p]),(0,l.jsx)(a.Menu,{anchorEl:t,id:"account-menu",open:n,onClose:j,onClick:j,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:40,height:40},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:75,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"},children:(0,l.jsxs)(i.default,{sx:{display:"flex",gap:2,justifyContent:"center",p:1},children:[(0,l.jsx)(r.default,{disabled:!(null==f?void 0:f.isComeData),size:"small",onClick:()=>{v(e=>"boolean"==typeof e?(m((0,c.changeAttendance)({...f,isCome:null})),null):(m((0,c.changeAttendance)({...f,isCome:!1})),!1))},variant:null==x?"outlined":x?"outlined":"contained",color:"error",children:(0,l.jsx)(o.IoMdClose,{size:20})}),(0,l.jsx)(r.default,{disabled:null==f?void 0:f.isComeData,size:"small",onClick:()=>{v(e=>"boolean"==typeof e?(m((0,c.changeAttendance)({...f,isCome:null})),null):(m((0,c.changeAttendance)({...f,isCome:!0})),!1))},variant:null==x?"outlined":x?"contained":"outlined",color:"success",children:(0,l.jsx)(s.FaCheck,{size:20})})]})})})},69376:function(e,t,n){"use strict";n.r(t),n("88449"),n("19894"),n("2490"),n("57640"),n("9924");var l=n("85893"),d=n("55693"),a=n("94718"),i=n("50533"),r=n("76302"),o=n("84110"),s=n("27233"),u=n("16393"),c=n("72132");t.default=e=>{let{fetchCoreDataStudents:t}=e,{headers:n}=(0,u.getHeaders)(),h=(0,i.useSelector)(e=>e.attendanceForJournal),f=(0,i.useDispatch)(),x=()=>{f((0,r.resetData)()),f((0,o.resetDataScore)())},v=async()=>{try{var e,l;let d={...h,attendances:null==h?void 0:h.attendances.filter(e=>null===e.id)},a=null==h?void 0:null===(l=h.attendances)||void 0===l?void 0:null===(e=l.filter(e=>(null==e?void 0:e.id)!==null))||void 0===e?void 0:e.map(e=>({id:null==e?void 0:e.id,isCome:null==e?void 0:e.isCome})),i="";if((null==d?void 0:d.attendances.length)>0){let e=await s.default.post("".concat(u.BASE_URL,"/dynamicAttendance/createMultiDynamicAttendance2"),d,{headers:n});200===e.status&&(i+="Attendance created successfully. ")}if((null==a?void 0:a.length)>0){let e=await s.default.put("".concat(u.BASE_URL,"/dynamicAttendance/updateMultiDynamicAttendance"),a,{headers:n});200===e.status&&(i+="Attendance updated successfully. ")}i&&(c.toast.success("Successfully."),await t(),x())}catch(e){c.toast.error("Error occurred while saving attendance")}};return h.attendances.length>0&&(0,l.jsx)(d.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,l.jsxs)(d.default,{sx:{display:"flex",gap:2},children:[(0,l.jsx)(a.default,{variant:"contained",color:"error",onClick:x,children:"Don't Save"}),(0,l.jsx)(a.default,{variant:"contained",onClick:v,children:"Save"})]})})}},33426:function(e,t,n){"use strict";n.r(t),n("68216"),n("79433"),n("2490");var l=n("85893"),d=n("67294"),a=n("50533"),i=n("55693"),r=n("94718"),o=n("84110"),s=n("72132"),u=n("27233"),c=n("16393");t.default=(0,d.memo)(e=>{let{setBtnToggle2:t,fetchCoreDataStudents:n}=e,{headers:d}=(0,c.getHeaders)(),h=(0,a.useSelector)(e=>e.dataScoreMultipart),f=(0,a.useDispatch)(),x=()=>{t(!1),f((0,o.resetDataScore)())};return h.grades.length>0&&(0,l.jsx)(i.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,l.jsxs)(i.default,{sx:{display:"flex",gap:2},children:[(0,l.jsx)(r.default,{variant:"contained",color:"error",onClick:x,children:"Don't Save"}),(0,l.jsx)(r.default,{variant:"contained",onClick:()=>{null!==h.themeId&&(null==h?void 0:h.maxGrade)!==null?h.grades.every(e=>e.grade>=0&&e.grade<=(null==h?void 0:h.maxGrade))?u.default.post("".concat(c.BASE_URL,"/themeOfSubjectForGrading/createThemeWithGrade"),{...h},{headers:d}).then(e=>{var t;s.toast.success(null===(t=e.data)||void 0===t?void 0:t.message),n(),x()}).catch(e=>{var t;s.toast.error(null===(t=e.response.data)||void 0===t?void 0:t.message)}):s.toast.warning("Grade must be between 0 and ".concat((null==h?void 0:h.maxGrade)||6)):s.toast.warning("Error description field")},children:"Save Points"})]})})})},90425:function(e,t,n){"use strict";n.r(t),n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var l=n("85893"),d=n("67294"),a=n("50533"),i=n("84110"),r=n("42154"),o=n("32392"),s=n("44025"),u=n("61261"),c=n("55693"),h=n("7104"),f=n("74113"),x=n("69274"),v=n("39045"),p=n("3506"),m=n("94718"),j=n("5434");t.default=(0,d.memo)(e=>{let{setThemeModal:t,allThemeData:n}=e,[g,b]=(0,d.useState)(""),[y,C]=(0,d.useState)(!1),S=(0,a.useDispatch)(),w=(0,a.useSelector)(e=>e.dataScoreMultipart),I=e=>{S((0,v.saveData)(e)),t(!0)};return(0,l.jsxs)(c.default,{sx:{display:"grid",gridTemplateColumns:"1fr 62px",width:290,margin:"0 auto"},children:[(0,l.jsxs)(r.default,{fullWidth:!0,size:"small",children:[(0,l.jsx)(o.default,{id:"theme-label",children:"Theme"}),(0,l.jsx)(s.default,{labelId:"theme-label",open:y,onOpen:()=>C(!0),onClose:()=>C(!1),value:g,onChange:e=>{var t;let l=e.target.value;b(l);let d=null==n?void 0:null===(t=n.find(e=>(null==e?void 0:e.id)===l))||void 0===t?void 0:t.maxGrade;S((0,i.changeScoreStudent)({...w,id:l,maxGrade:d}))},id:"theme",label:"Theme",fullWidth:!0,sx:{borderRadius:"4px 0 0 4px"},children:null==n?void 0:n.map((e,t)=>(0,l.jsx)(u.default,{value:null==e?void 0:e.id,children:(0,l.jsxs)(c.default,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"5px"},children:[(0,l.jsx)(h.ListItemText,{primary:"".concat(null==e?void 0:e.name,", max grade:").concat(null==e?void 0:e.maxGrade)}),y&&(0,l.jsx)(f.default,{onClick:()=>I(e),size:"small",children:(0,l.jsx)(x.HiMiniPencilSquare,{})})]})},t))})]}),(0,l.jsx)(p.default,{title:"Add a new theme",arrow:!0,children:(0,l.jsx)(m.default,{onClick:()=>t(!0),sx:{width:35,height:"100%",borderRadius:" 0 4px 4px 0"},variant:"outlined",children:(0,l.jsx)(j.MdOutlineAdd,{size:20})})})]})})},49018:function(e,t,n){"use strict";n.r(t),n("33948"),n("33792"),n("88449"),n("19894"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var l=n("85893"),d=n("67294"),a=n.n(d),i=n("7104"),r=n("94718"),o=n("55693"),s=n("51649"),u=n("70231"),c=n("30381"),h=n.n(c),f=n("27233"),x=n("16393"),v=n("42154"),p=n("32392"),m=n("44025"),j=n("61261"),g=n("50533"),b=n("76302");let y=a().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"down",ref:t,...e})});t.default=(0,d.memo)(e=>{let{open:t,handleClose:n,data3:a}=e,[c,C]=(0,d.useState)(null),[S,w]=(0,d.useState)([]),[I,k]=(0,d.useState)(""),{headers:D}=(0,x.getHeaders)(),A=h()(),Y=(0,g.useDispatch)(),T=(e,t,n,l,d,a)=>{f.default.get("".concat(x.BASE_URL,"/groupConnect/getSectionsAndRooms/").concat(e,"/").concat(t,"?subjectId=").concat(n,"&year=").concat(l,"&week=").concat(d,"&day=").concat(a),{headers:D}).then(e=>{w(e.data[0]),k("".concat(e.data[0][0].room,";").concat(e.data[0][0].section))}).catch(e=>{w([])})},F=()=>{n(),C(null)},M=(e,t,n,l)=>l?e.flat().filter(e=>{var d,a;return e.section===+t&&e.room===n&&(0===e.statistics.length||(null===(a=e.statistics)||void 0===a?void 0:null===(d=a.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===d?void 0:d.isCome)!==l)}).map(e=>{var t;return{id:(null===(t=e.statistics.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===t?void 0:t.nameId)||null,studentId:e.studentId,room:e.room,section:e.section,isCome:l}}):e.flat().filter(e=>{var d,a;return e.section===+t&&e.room===n&&e.statistics.length>0&&(null===(a=e.statistics)||void 0===a?void 0:null===(d=a.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===d?void 0:d.isCome)!==l}).map(e=>{var t;return{id:(null===(t=e.statistics.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===t?void 0:t.nameId)||null,studentId:e.studentId,room:e.room,section:e.section,isCome:l}});return(0,d.useEffect)(()=>{var e,t,n;a.length>0&&T(null===(e=a[0])||void 0===e?void 0:e.educationId,null===(t=a[0])||void 0===t?void 0:t.groupId,null===(n=a[0])||void 0===n?void 0:n.subjectId,A.year(),A.week(),A.day())},[a]),(0,l.jsxs)(i.Dialog,{open:t,TransitionComponent:y,keepMounted:!0,onClose:F,children:[(0,l.jsx)(i.DialogTitle,{sx:{pb:0},children:"All"}),(0,l.jsxs)(i.DialogContent,{sx:{width:320},children:[(0,l.jsxs)(v.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,l.jsx)(p.default,{id:"demo-simple-select-label",children:"Section"}),(0,l.jsx)(m.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,label:"Section",onChange:e=>k(e.target.value),children:null==S?void 0:S.map((e,t)=>(0,l.jsxs)(j.default,{value:(null==e?void 0:e.room)+";"+(null==e?void 0:e.section),children:[null==e?void 0:e.room,"; ",null==e?void 0:e.section,"-section"]},t))})]}),(0,l.jsxs)(o.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:3},children:[(0,l.jsx)(r.default,{onClick:()=>{let[e,t]=I.split(";");C(()=>{let n={year:null==A?void 0:A.year(),week:null==A?void 0:A.week(),weekday:null==A?void 0:A.day(),groupId:a[0].groupId,subjectId:a[0].subjectId,attData:M(null==a?void 0:a.map(e=>e.subjects),t,e,!1)};return Y((0,b.changeAttendanceAll)({...n})),!1}),F()},variant:null==c?"outlined":c?"outlined":"contained",color:"error",children:(0,l.jsx)(s.IoMdClose,{size:25})}),(0,l.jsx)(r.default,{onClick:()=>{let[e,t]=I.split(";");C(()=>{let n={year:null==A?void 0:A.year(),week:null==A?void 0:A.week(),weekday:null==A?void 0:A.day(),groupId:a[0].groupId,subjectId:a[0].subjectId,attData:M(null==a?void 0:a.map(e=>e.subjects),t,e,!0)};return Y((0,b.changeAttendanceAll)({...n})),!0}),F()},variant:null==c?"outlined":c?"contained":"outlined",color:"success",children:(0,l.jsx)(u.FaCheck,{size:25})}),(0,l.jsx)(r.default,{onClick:()=>{Y((0,b.resetData)()),F()},variant:"contained",children:"reset"})]})]})]})})},60141:function(e,t,n){"use strict";n.r(t),n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var l=n("85893"),d=n("67294"),a=n.n(d),i=n("7104"),r=n("42154"),o=n("32392"),s=n("44025"),u=n("61261"),c=n("55693"),h=n("94718"),f=n("51649"),x=n("70231"),v=n("16393"),p=n("30381"),m=n.n(p),j=n("27233"),g=n("50533"),b=n("14599");let y=a().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"down",ref:t,...e})});t.default=(0,d.memo)(e=>{let{dataForAttendance:t,groupId:n,subjectId:a,eduId:p,open:C,handleCloseModal:S}=e,[w,I]=(0,d.useState)(null),[k,D]=(0,d.useState)([]),[A,Y]=(0,d.useState)(""),{headers:T}=(0,v.getHeaders)(),F=(0,g.useDispatch)(),[M,E]=(0,d.useState)(!1),[H,G]=(0,d.useState)(null),N=(0,g.useSelector)(e=>{var t,n;return null===(n=e.AllNbStudentForTeacher)||void 0===n?void 0:null===(t=n.dataAttendance)||void 0===t?void 0:t.attendances})||[],_=(0,g.useSelector)(e=>{var t;return null===(t=e.AllNbStudentForTeacher)||void 0===t?void 0:t.data})||[],R=()=>{I(null),S()},z=(e,n,l,d,a,i)=>{j.default.get("".concat(v.BASE_URL,"/groupConnect/getSectionsAndRooms/").concat(e,"/").concat(n,"?subjectId=").concat(l,"&year=").concat(d,"&week=").concat(a,"&day=").concat(i),{headers:T}).then(e=>{var n,l;D(e.data[0]),Y((null===(n=t[0])||void 0===n?void 0:n.room)+";"+(null===(l=t[0])||void 0===l?void 0:l.section))}).catch(e=>{D([])})},B=e=>{if(e&&t&&t.length>0){var n,l,d,a,i;let r=null==t?void 0:null===(n=t.find(t=>(null==t?void 0:t.section)===+e))||void 0===n?void 0:n.statistics,o=null==_?void 0:null===(a=_.find(e=>{var n;return(null==e?void 0:e.studentId)===(null===(n=t[0])||void 0===n?void 0:n.studentId)}))||void 0===a?void 0:null===(d=a.subjects)||void 0===d?void 0:null===(l=d.find(n=>{var l,d,a;return(null==n?void 0:n.day)===(null===(l=t[0])||void 0===l?void 0:l.day)&&(null==n?void 0:n.week)===(null===(d=t[0])||void 0===d?void 0:d.week)&&(null==n?void 0:n.year)===(null===(a=t[0])||void 0===a?void 0:a.year)&&(null==n?void 0:n.section)===+e}))||void 0===l?void 0:l.statistics;G((null==r?void 0:null===(i=r.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===i?void 0:i.nameId)||null),E(()=>{var e;let t=null==o?void 0:null===(e=o.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===e?void 0:e.isCome;if(t)return!0;if(null===t)return null;if(void 0===t)return!!((null==o?void 0:o.length)>0)||!1}),I(()=>{var n;let l=null==N?void 0:null===(n=N.find(n=>{var l;return(null==n?void 0:n.studentId)===(null===(l=t[0])||void 0===l?void 0:l.studentId)&&(null==n?void 0:n.section)===+e}))||void 0===n?void 0:n.isCome;return"boolean"==typeof l?l:null})}};return(0,d.useEffect)(()=>{B(null==A?void 0:A.split(";")[1])},[A]),(0,d.useEffect)(()=>{var e,l,d;t&&z(p,n,a,null===(e=t[0])||void 0===e?void 0:e.year,null===(l=t[0])||void 0===l?void 0:l.week,null===(d=t[0])||void 0===d?void 0:d.day),B(null==A?void 0:A.split(";")[1])},[t]),(0,l.jsxs)(i.Dialog,{open:C,TransitionComponent:y,keepMounted:!0,onClose:R,children:[(0,l.jsxs)(i.DialogTitle,{sx:{pb:0},children:["Attendance ",t&&m()().day(t[0].day).week(t[0].week).year(t[0].year).format("DD.MM.YYYY")]}),(0,l.jsxs)(i.DialogContent,{sx:{width:320},children:[(0,l.jsxs)(r.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,l.jsx)(o.default,{id:"demo-simple-select-label",children:"Section"}),(0,l.jsx)(s.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,label:"Section",onChange:e=>{Y(e.target.value),I(null)},children:null==k?void 0:k.map((e,t)=>(0,l.jsxs)(u.default,{value:(null==e?void 0:e.room)+";"+(null==e?void 0:e.section),children:[null==e?void 0:e.room,"; ",null==e?void 0:e.section,"-section"]},t))})]}),(0,l.jsxs)(c.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:3},children:[(0,l.jsx)(h.default,{onClick:()=>{var e,n,l,d,a,i,r,o;let[s,u]=A.split(";"),c=H?{id:H,type:"DYNAMIC",year:null===(e=t[0])||void 0===e?void 0:e.year,week:null===(n=t[0])||void 0===n?void 0:n.week,day:null===(l=t[0])||void 0===l?void 0:l.day,section:parseFloat(u),studentId:null===(d=t[0])||void 0===d?void 0:d.studentId,room:s}:{id:null,type:"DYNAMIC",year:null===(a=t[0])||void 0===a?void 0:a.year,week:null===(i=t[0])||void 0===i?void 0:i.week,day:null===(r=t[0])||void 0===r?void 0:r.day,section:parseFloat(u),studentId:null===(o=t[0])||void 0===o?void 0:o.studentId,room:s};I(e=>"boolean"==typeof e?(F((0,b.changeAttendance2)({...c,isCome:null})),null):(F((0,b.changeAttendance2)({...c,isCome:!1})),!1))},variant:null==w?"outlined":w?"outlined":"contained",color:"error",children:(0,l.jsx)(f.IoMdClose,{size:25})}),(0,l.jsx)(h.default,{onClick:()=>{var e,n,l,d,a,i,r,o;let[s,u]=A.split(";"),c=H?{id:H,type:"DYNAMIC",year:null===(e=t[0])||void 0===e?void 0:e.year,week:null===(n=t[0])||void 0===n?void 0:n.week,day:null===(l=t[0])||void 0===l?void 0:l.day,section:parseFloat(u),studentId:null===(d=t[0])||void 0===d?void 0:d.studentId,room:s}:{id:null,type:"DYNAMIC",year:null===(a=t[0])||void 0===a?void 0:a.year,week:null===(i=t[0])||void 0===i?void 0:i.week,day:null===(r=t[0])||void 0===r?void 0:r.day,section:parseFloat(u),studentId:null===(o=t[0])||void 0===o?void 0:o.studentId,room:s};I(e=>"boolean"==typeof e?(F((0,b.changeAttendance2)({...c,isCome:null})),null):(F((0,b.changeAttendance2)({...c,isCome:!0})),!0))},variant:null==w?"outlined":w?"contained":"outlined",color:"success",children:(0,l.jsx)(x.FaCheck,{size:25})})]})]}),(0,l.jsx)(i.DialogActions,{children:(0,l.jsx)(h.default,{variant:"outlined",onClick:R,children:"cancel"})})]})})},90122:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n.n(a),r=n("71893"),o=n("16393"),s=n("57024"),u=n("8193"),c=n("30381"),h=n.n(c),f=n("94718"),x=n("7104"),v=n("19237"),p=n("26178"),m=n("52861"),j=n("50533"),g=n("53854"),b=n("74113"),y=n("27233"),C=n("97367"),S=n("55693"),w=n("60155"),I=n("89589"),k=n("72132"),D=n("78951"),A=n("3506"),Y=n("51649"),T=n("92037"),F=n("60023"),M=n("66508"),E=n("61261"),H=n("5434"),G=n("69274"),N=n("44025"),_=n("42154"),R=n("32392"),z=n("39045");function B(){let e=(0,l._)(["\n    ","\n"]);return B=function(){return e},e}function O(){let e=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return O=function(){return e},e}function L(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return L=function(){return e},e}function U(){let e=(0,l._)(["\n\n"]);return U=function(){return e},e}function P(){let e=(0,l._)(["\n    width: 400px;\n    margin-top: 10px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n    ","\n"]);return P=function(){return e},e}function W(){let e=(0,l._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 12px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .score {\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.1);\n            cursor: pointer;\n        }\n    }\n"]);return W=function(){return e},e}function q(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 20px;\n\n    h3 {\n        font-size: 25px;\n        color: ",";\n        font-weight: bold;\n\n    }\n\n    ","\n"]);return q=function(){return e},e}function K(){let e=(0,l._)(["\n\n"]);return K=function(){return e},e}let V={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},J=r.default.div(B(),(0,s.extrasmall)({width:"95% !important"})),Q=r.default.button(O(),o.mainColor),Z=r.default.div(L()),X=r.default.div(U()),$=r.default.div(P(),(0,s.extrasmall)({width:"300px !important"})),ee=r.default.div(W(),o.mainColor),et=r.default.div(q(),o.mainColor,(0,s.extrasmall)({justifyContent:"center"})),en=r.default.div(K());t.default=(0,a.memo)(e=>{let{oneSciencesScore:t,fetchCoreDataStudents:n,allThemeData:l,setThemeModal:r}=e,{subjectId:c,studentId:B,groupId:O,fullName:L,allGradesForAttendance:U,gradeForAttendance:P,sumGrade:W}=t,{id:q,kafedraName:K}=(0,j.useSelector)(e=>e.teacher.teacher),el=(0,j.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear}),[ed,ea]=i().useState(!1),[ei,er]=(0,a.useState)(!1),[eo,es]=(0,a.useState)(!1),eu=(0,p.useTheme)();(0,v.default)(eu.breakpoints.down("sm"));let[ec,eh]=(0,a.useState)(null),[ef,ex]=(0,a.useState)(null),ev={id:null,studentId:B,subjectId:c,educationYearId:null==el?void 0:el.id,grade:null,time:null,themeId:null},[ep,em]=(0,a.useState)(ev),{headers:ej}=(0,o.getHeaders)(),[eg,eb]=(0,a.useState)([]),[ey,eC]=(0,a.useState)(null),[eS,ew]=(0,a.useState)(!1),[eI,ek]=(0,a.useState)(!1),[eD,eA]=(0,a.useState)(!1),[eY,eT]=(0,a.useState)([]),[eF,eM]=(0,a.useState)(!1),[eE,eH]=(0,a.useState)(!1),eG=(0,j.useDispatch)(),eN=()=>{em(ev),ea(!1),ek(!1)},e_=e=>{eh(e),er(!0)},eR=()=>{eh(null),er(!1)},ez=()=>{es(!1)},eB=async()=>{await y.default.get("".concat(o.BASE_URL,"/permissionForTeacherGrading/checkExistsPermission/").concat(null==el?void 0:el.id,"?teacherId=").concat(q,"&subjectId=").concat(c,"&groupId=").concat(O,"&status=AT_PROCESS"),{headers:ej}).then(e=>{var t;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.success)?k.toast.warning("You already send a request. Please, wait response of education department.."):es(!0)}).catch(e=>{})},eO=async()=>{await y.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getGradesOfStudent/").concat(null==el?void 0:el.id,"?studentId=").concat(B,"&subjectId=").concat(c),{headers:ej}).then(e=>{var t;eb(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})},eL=async()=>{await y.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getMiddleGrade/").concat(null==el?void 0:el.id,"?studentId=").concat(B,"&subjectId=").concat(c,"&groupId=").concat(O),{headers:ej}).then(e=>{var t;eC((null===(t=e.data)||void 0===t?void 0:t.obj)||0)}).catch(e=>{})},eU=async e=>{var t;e.preventDefault();let d=null===(t=l.find(e=>e.id===ep.themeId))||void 0===t?void 0:t.maxGrade,a={...ep,time:new Date().getTime(),grade:+ep.grade};+a.grade>=0&&+a.grade<=d?await y.default.post("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/create"),a,{headers:ej}).then(e=>{ea(!1),eO(),n(),eL(),k.toast.success("Grade was created successfully"),em(ev)}).catch(e=>{k.toast.error("Error evaluation")}):k.toast.error("min:0  max:".concat(d||"empty"))},eP=async e=>{var t;e.preventDefault();let d=null===(t=l.find(e=>e.id===ep.themeId))||void 0===t?void 0:t.maxGrade,a={...ep,time:new Date().getTime()};parseFloat(a.grade)>=0&&parseFloat(a.grade)<=d?(null==ep?void 0:ep.id)&&(null==ep?void 0:ep.id)!==""&&await y.default.put("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/update"),a,{headers:ej}).then(e=>{ea(!1),eO(),n(),eL(),k.toast.success("Grade was updated successfully"),em(ev)}).catch(e=>{var t,n;k.toast.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)}):k.toast.error("min:0  max:".concat(d||"empty"))},eW=async e=>{var t;e.preventDefault();let d=null===(t=l.find(e=>e.id===ep.themeId))||void 0===t?void 0:t.maxGrade,{id:a,createdAt:i,...r}={...ep,time:new Date().getTime(),failGradeId:ep.id};parseFloat(r.grade)>=0&&parseFloat(r.grade)<=d?(null==ep?void 0:ep.id)&&(null==ep?void 0:ep.id)!==""&&await y.default.post("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/retake"),r,{headers:ej}).then(e=>{ea(!1),ek(!1),eO(),n(),eL(),k.toast.success("Grade was updated successfully"),em(ev)}).catch(e=>{k.toast.error("Error evaluation")}):k.toast.error("min:0  max:".concat(d||"empty"))},eq=e=>{var t;let n=(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(t=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===t?void 0:t.grade;em(t=>({...t,...e,grade:n})),ea(!0),eM(!(ef?(null==e?void 0:e.time)<=ef:eQ(null==e?void 0:e.time))),ek(!(ef?(null==e?void 0:e.time)<=ef:eQ(null==e?void 0:e.time)))},eK=e=>{eT([{grade:e.grade,description:e.description,time:e.time},...e.retakes]),eA(!0)},eV=e=>{let t=e.target.value;parseFloat(ey)+parseFloat(t)<=30?(ew(!1),em(e=>({...e,grade:t}))):ew(!0)},eJ=async()=>{await y.default.get("".concat(o.BASE_URL,"/permissionForTeacherGrading/getConfirmPermission/").concat(null==el?void 0:el.id,"?teacherId=").concat(q,"&subjectId=").concat(c,"&groupId=").concat(O)).then(e=>{var t,n;ex((null===(n=e.data)||void 0===n?void 0:null===(t=n.obj)||void 0===t?void 0:t.deadline)||null)}).catch(e=>{})},eQ=e=>{let t=h()(e),n=h()(),l=h()(e).add(2,"days");return t.isBefore(n)&&n.isBefore(l)},eZ=e=>{eG((0,z.saveData)(e)),r(!0)};return(0,a.useEffect)(()=>{Promise.all([eO(),eL(),eJ()])},[]),(0,a.useEffect)(()=>{ek()},[]),(0,d.jsxs)(en,{children:[(0,d.jsxs)(et,{children:[(0,d.jsx)("h3",{children:L}),(0,d.jsx)(f.default,{variant:"contained",onClick:()=>{ea(!0)},endIcon:(0,d.jsx)(u.AiFillFileAdd,{}),children:"evaluation"})]}),(0,d.jsx)(S.default,{sx:{mt:"25px"},children:(0,d.jsx)(x.Card,{sx:{width:280,...(0,s.extrasmall)({width:"100%"})},children:(0,d.jsxs)(x.CardContent,{children:[null!==U?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(I.default,{sx:{fontSize:20,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Attended the lesson : ",(0,d.jsxs)("span",{style:{color:"#56cb5a"},children:[" ",(U/P).toFixed()]})]}),(0,d.jsxs)(I.default,{sx:{fontSize:20,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Score for attendance : ",U]})]}):"",(0,d.jsxs)(I.default,{sx:{fontSize:20,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Rating : ",ey&&parseFloat(ey.toFixed(3))||0]})]})})}),ef?(0,d.jsx)(S.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:(0,d.jsxs)(f.default,{variant:"outlined",color:"primary",startIcon:(0,d.jsx)(u.AiFillUnlock,{}),children:["Grades can be changed until ",h()(ef).format("DD.MM.YYYY")]})}):(0,d.jsxs)(S.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:[(0,d.jsx)(A.default,{title:"The time to change the assessment has passed.",children:(0,d.jsx)(f.default,{variant:"contained",color:"inherit",onClick:eB,size:"small",children:"Access to changes"})}),(0,d.jsx)(A.default,{title:"Points can be changed within 3 days!",children:(0,d.jsx)(b.default,{size:"medium",color:"warning",children:(0,d.jsx)(Y.IoIosWarning,{})})})]}),(0,d.jsxs)(ee,{children:[(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,d.jsx)("h5",{children:"Description"})}),(0,d.jsx)("th",{children:(0,d.jsx)("h5",{children:"Score"})}),(0,d.jsx)("th",{children:(0,d.jsx)("h5",{children:"Date"})}),(0,d.jsx)("th",{children:(0,d.jsx)("h5",{children:"Actions"})})]})}),(0,d.jsx)("tbody",{children:eg.map((e,t)=>{var n,l;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(null==e?void 0:e.retakes.length)===0?e.description||"-":(null==e?void 0:null===(n=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===n?void 0:n.description)||"-"}),(0,d.jsx)("td",{className:"score",onClick:()=>eK(e),children:(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(l=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===l?void 0:l.grade}),(0,d.jsx)("td",{children:h()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")}),(0,d.jsx)("td",{children:(0,d.jsxs)(x.Stack,{direction:"row",spacing:2,justifyContent:"center",children:[(0,d.jsx)(b.default,{"aria-label":"change",color:"success",onClick:()=>eq(e),children:(0,d.jsx)(g.HiPencilAlt,{})}),(0,d.jsx)(b.default,{disabled:!(ef?(null==e?void 0:e.time)<=ef:eQ(null==e?void 0:e.time)),"aria-label":"delete",color:"error",onClick:()=>e_(null==e?void 0:e.id),children:(0,d.jsx)(u.AiFillDelete,{})})]})})]},t)})})]}),0===eg.length&&(0,d.jsx)(D.default,{w:200,h:180})]}),(0,d.jsxs)(x.Dialog,{open:ed,onClose:eN,"aria-labelledby":"responsive-dialog-title",PaperProps:{style:{overflowY:"visible"}},children:[(0,d.jsxs)(x.DialogTitle,{id:"responsive-dialog-title",children:["Evaluate"," ",eI&&"(retake)"]}),(0,d.jsxs)("form",{onSubmit:(null==ep?void 0:ep.id)==null?eU:eI?eW:eP,children:[(0,d.jsx)(x.DialogContent,{sx:{pt:0},children:(0,d.jsxs)($,{children:[(null==ep?void 0:ep.id)!==null&&(0,d.jsx)(X,{style:{display:"flex",justifyContent:"end"},children:(0,d.jsx)(T.default,{control:(0,d.jsx)(F.default,{disabled:eF,checked:eI,onChange:()=>{ek(e=>!e)},color:"primary"}),label:"Retake",labelPlacement:"end"})}),(0,d.jsx)(X,{children:(0,d.jsxs)(S.default,{sx:{display:"grid",gridTemplateColumns:"1fr 62px",alignContent:"stretch"},children:[(0,d.jsxs)(_.default,{fullWidth:!0,children:[(0,d.jsx)(R.default,{id:"theme-label",children:"Theme"}),(0,d.jsx)(N.default,{labelId:"theme-label",open:eE,onOpen:()=>eH(!0),onClose:()=>eH(!1),value:ep.themeId,onChange:e=>em(t=>({...t,themeId:e.target.value})),id:"theme",label:"Theme",sx:{borderRadius:"4px 0 0 4px"},fullWidth:!0,children:null==l?void 0:l.map((e,t)=>(0,d.jsx)(E.default,{value:null==e?void 0:e.id,children:(0,d.jsxs)(S.default,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"5px"},children:[(0,d.jsx)(x.ListItemText,{primary:"".concat(null==e?void 0:e.name,", max grade:").concat(null==e?void 0:e.maxGrade)}),eE&&(0,d.jsx)(b.default,{onClick:()=>eZ(e),size:"small",children:(0,d.jsx)(G.HiMiniPencilSquare,{})})]})},t))})]}),(0,d.jsx)(A.default,{title:"Add a new theme",arrow:!0,children:(0,d.jsx)(f.default,{onClick:()=>r(!0),sx:{width:35,height:"100%",borderRadius:" 0 4px 4px 0"},variant:"outlined",children:(0,d.jsx)(H.MdOutlineAdd,{size:20})})})]})}),(0,d.jsx)(X,{children:(0,d.jsx)(m.default,{fullWidth:!0,type:"number",value:ep.grade,onChange:e=>eV(e),label:"Grade"})})]})}),(0,d.jsxs)(x.DialogActions,{children:[(0,d.jsx)(f.default,{variant:"outlined",type:"reset",onClick:eN,children:"cancel"}),(0,d.jsx)(f.default,{disabled:eS,variant:"contained",type:"submit",children:(null==ep?void 0:ep.id)===null?"save":"update"})]})]})]}),(0,d.jsx)(C.default,{open:ei,onClose:eR,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(S.default,{sx:V,component:J,children:[(0,d.jsxs)(Z,{children:[(0,d.jsx)("h5",{children:"Delete"}),(0,d.jsxs)(Q,{onClick:eR,children:[" ",(0,d.jsx)(w.IoClose,{size:22})]})]}),(0,d.jsxs)(S.default,{children:[(0,d.jsx)(x.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,d.jsx)(I.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,d.jsxs)(x.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,d.jsx)(f.default,{variant:"outlined",onClick:eR,children:"Cancel"}),(0,d.jsx)(f.default,{variant:"contained",color:"error",onClick:()=>{ec&&y.default.delete("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/delete/").concat(ec),{headers:ej}).then(e=>{eO(),eR(),n(),eL(),k.toast.success("Grade was deleted successfully")}).catch(e=>{var t,n;k.toast.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)})},children:"Ok"})]})]})]})}),(0,d.jsx)(C.default,{open:eo,onClose:ez,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(S.default,{sx:V,component:J,children:[(0,d.jsxs)(Z,{children:[(0,d.jsx)("h5",{children:"Access to changes"}),(0,d.jsxs)(Q,{onClick:ez,children:[" ",(0,d.jsx)(w.IoClose,{size:22})]})]}),(0,d.jsxs)(S.default,{children:[(0,d.jsx)(x.Stack,{sx:{height:"150px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,d.jsxs)(I.default,{variant:"h6",color:"black",children:["You can only change today's points within 3 days. ",(0,d.jsx)("br",{}),"Approval of the Department of Education is required for grade changes."]})}),(0,d.jsxs)(x.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,d.jsx)(f.default,{variant:"outlined",onClick:ez,children:"Cancel"}),(0,d.jsx)(f.default,{onClick:()=>{let e={groupId:O,status:"AT_PROCESS",subjectId:c,teacherId:q,educationYearId:null==el?void 0:el.id};y.default.post(o.BASE_URL+"/permissionForTeacherGrading/createPermissionForTeacherGrading",e,{headers:ej}).then(e=>{k.toast.success("Successfully sent"),es(!1)}).catch(e=>{k.toast.error("Error")})},variant:"contained",children:"gain access"})]})]})]})}),(0,d.jsx)(M.default,{data:eY,open:eD,handleClose:()=>{eA(!1)}})]})})},3591:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948");var d=n("85893"),a=n("67294"),i=n("7104"),r=n("52861"),o=n("94718"),s=n("71893"),u=n("26178"),c=n("19237"),h=n("50533"),f=n("72132"),x=n("27233"),v=n("16393");function p(){let e=(0,l._)(["\n\n"]);return p=function(){return e},e}function m(){let e=(0,l._)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return m=function(){return e},e}let j=s.default.div(p()),g=s.default.div(m());t.default=(0,a.memo)(e=>{let{setTodayGrade:t,openEvaluateToday:n,setOpenEvaluateToday:l,oneSciencesScore:s}=e,p=(0,u.useTheme)(),m=(0,c.default)(p.breakpoints.down("sm")),b=(0,h.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear}),[y,C]=(0,a.useState)(!1),S={studentId:null==s?void 0:s.studentId,subjectId:null==s?void 0:s.subjectId,educationYearId:null==b?void 0:b.id,grade:null,time:null,description:null},[w,I]=(0,a.useState)(S),k=()=>{l(!1)},{headers:D}=(0,v.getHeaders)(),A=async e=>{e.preventDefault();let n={...w,time:new Date};n.grade>=0&&n.grade<=6&&null!=n.grade&&""!==n.grade.trim()?(t(e=>({...e,id:null==s?void 0:s.studentId,grade:null==w?void 0:w.grade})),await x.default.post("".concat(v.BASE_URL,"/gradeOfStudentByTeacher/create"),n,{headers:D}).then(e=>{f.toast.success("Successfully"),l(!1),I(S)}).catch(e=>{f.toast.error("Error evaluation")})):f.toast.error("min:0 max:6")},Y=e=>{let t=e.target.value;parseInt((null==s?void 0:s.sumGrade)||0)+parseInt(t)<=30?(C(!1),I(e=>({...e,grade:t}))):C(!0)};return(0,a.useEffect)(()=>{I({studentId:null==s?void 0:s.studentId,subjectId:null==s?void 0:s.subjectId,educationYearId:null==b?void 0:b.id,grade:null,time:null,description:null})},[s]),(0,d.jsxs)(i.Dialog,{fullScreen:m,open:n,onClose:k,"aria-labelledby":"responsive-dialog-title",children:[(0,d.jsx)(i.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,d.jsxs)("form",{onSubmit:A,children:[(0,d.jsx)(i.DialogContent,{children:(0,d.jsxs)(g,{children:[(0,d.jsx)(j,{children:(0,d.jsx)(r.default,{sx:{width:"300px"},type:"number",value:w.grade,onChange:e=>Y(e),label:"Score"})}),(0,d.jsx)(j,{children:(0,d.jsx)(r.default,{value:w.description,onChange:e=>I(t=>({...t,description:e.target.value})),id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,d.jsxs)(i.DialogActions,{children:[(0,d.jsx)(o.default,{variant:"outlined",type:"reset",onClick:k,children:"cancel"}),(0,d.jsx)(o.default,{disabled:y,variant:"contained",type:"submit",children:"save"})]})]})]})})},21518:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),d=n("67294"),a=n("36493"),i=n("50533"),r=n("27233"),o=n("16393");t.default=(0,d.memo)(e=>{let{educationYear:t,content:n,groupName:s,subjectName:u}=e,c=(0,i.useSelector)(e=>e.teacher.teacher),{headers:h}=(0,o.getHeaders)(),[f,x]=(0,d.useState)(null);return(0,d.useEffect)(()=>{r.default.get("".concat(o.BASE_URL,"/teacher/getDataOfLeaders/").concat(null==c?void 0:c.id,"/").concat(s," "),{headers:h}).then(e=>{x(e.data.obj)}).catch(e=>{})},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.default,{dataOfLeaders:f,teacherData:c,educationYear:t,content:n,groupName:s,subjectName:u})})})},84259:function(e,t,n){"use strict";n.r(t),n("33948"),n("64211"),n("41874"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var l=n("85893"),d=n("67294"),a=n.n(d),i=n("7104"),r=n("94718"),o=n("42154"),s=n("32392"),u=n("44025"),c=n("61261"),h=n("27233"),f=n("16393"),x=n("55693"),v=n("52861"),p=n("44118"),m=n("72132");let j=a().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"up",ref:t,...e})});t.default=(0,d.memo)(e=>{let{lessons:t,eduType:n,eduId:g,userId:b}=e,[y,C]=a().useState(!1),{headers:S}=(0,f.getHeaders)(),[w,I]=(0,d.useState)([]),[k,D]=(0,d.useState)(""),[A,Y]=(0,d.useState)([]),[T,F]=(0,d.useState)(""),[M,E]=(0,d.useState)(""),H=()=>{Y([]),D(""),F(""),E("")},G=(e,t,n,l,d)=>{var a;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&h.default.get("".concat(f.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(n,"?educationId=").concat(d,"&subjectId=").concat(null==t?void 0:null===(a=t.find(t=>(null==t?void 0:t.name)===e))||void 0===a?void 0:a.id,"&eduType=").concat(l)).then(e=>{var t;I(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{I([])})},N=()=>{C(!1),H()};return(0,d.useEffect)(()=>{G(k,t,b,n,g)},[k]),(0,l.jsxs)(a().Fragment,{children:[(0,l.jsx)(r.default,{variant:"outlined",onClick:()=>{C(!0)},children:"Grade for attendance"}),(0,l.jsxs)(i.Dialog,{open:y,TransitionComponent:j,keepMounted:!0,onClose:N,children:[(0,l.jsx)(i.DialogTitle,{children:" Grade for attendance"}),(0,l.jsx)(i.DialogContent,{children:(0,l.jsxs)(x.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:340,mt:.8},children:[(0,l.jsxs)(o.default,{fullWidth:!0,size:"small",children:[(0,l.jsx)(s.default,{id:"fanselect",children:"Subject"}),(0,l.jsx)(u.default,{labelId:"fanselect",id:"demo-simple-select2",value:k,label:"Subject",onChange:e=>{D(e.target.value),Y([])},children:null==t?void 0:t.map((e,t)=>(0,l.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]}),(0,l.jsx)(p.default,{size:"small",multiple:!0,limitTags:2,id:"multiple-limit-tags",value:A,options:w,getOptionLabel:e=>(null==e?void 0:e.name)||"",onChange:(e,t)=>{Y(t)},renderInput:e=>(0,l.jsx)(v.default,{...e,label:"Groups",placeholder:"Favorites"})}),(0,l.jsx)(v.default,{value:T,onChange:e=>F(e.target.value),size:"small",label:"Grade",type:"number"}),(0,l.jsx)(v.default,{value:M,onChange:e=>E(e.target.value),size:"small",label:"Credit",type:"number"})]})}),(0,l.jsxs)(i.DialogActions,{children:[(0,l.jsx)(r.default,{variant:"contained",onClick:N,children:"cancel"}),(0,l.jsx)(r.default,{variant:"outlined",onClick:()=>{var e;let n={educationYearId:g,lessonId:(null==t?void 0:null===(e=t.find(e=>(null==e?void 0:e.name)===k))||void 0===e?void 0:e.id)||"",groupsIds:A.map(e=>e.id),grade:T,credit:M};""!==n.lessonId&&0!==n.groupsIds.length&&""!==n.grade&&""!==n.credit?10>=parseInt(n.grade)?h.default.post("".concat(f.BASE_URL,"/gradeForAttendance/create"),n,{headers:S}).then(e=>{m.toast.success(e.data.message),N()}).catch(e=>{m.toast.error("Error")}):m.toast.warning("maximum 10 points"):m.toast.warning("Empty fields")},children:"save"})]})]})]})})},39007:function(e,t,n){"use strict";n.r(t);var l=n("58865"),d=n("85893"),a=n("67294"),i=n.n(a),r=n("71893"),o=n("50533"),s=n("84110"),u=n("72132");function c(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    padding: 0 5px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    outline: none;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    text-align: center;\n    color: ",";\n    -moz-appearance: textfield;\n\n    &::-webkit-inner-spin-button,\n    &::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]);return c=function(){return e},e}let h=r.default.input(c(),e=>e.color?e.color:"#000");t.default=i().memo(e=>{let{data:t}=e,n=(0,o.useDispatch)(),l=(0,o.useSelector)(e=>e.dataScoreMultipart),i=(0,a.useCallback)(e=>{let d=e.target.value,a=""===d.trim()?null:+d;!(a>=0&&a<=((null==l?void 0:l.maxGrade)||6))&&u.toast.warning("Grade must be between 0 and ".concat((null==l?void 0:l.maxGrade)||6)),n((0,s.changeScoreStudent)({...l,educationId:t.educationId,groupId:t.groupId,subjectId:t.subjectId,studentId:t.studentId,time:new Date().getTime(),grade:a})),e.currentTarget.blur()},[l,t]);return(0,d.jsx)(h,{type:"number",max:6,min:0,maxLength:1,onChange:i})})},76464:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("15581"),n("34514"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n("71893"),r=n("55693");function o(){let e=(0,l._)(["\n    margin: 0 auto;\n    cursor: pointer;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #fff;\n    background-color: ",";\n\n    &:hover {\n        transition: 0.3s;\n        opacity: 0.8;\n    }\n"]);return o=function(){return e},e}let s=i.default.div(o(),e=>e.color);t.default=(0,a.memo)(e=>{let{data:t}=e,[n,l]=(0,a.useState)(!1),i={};t.forEach(e=>{e.forEach(e=>{var t;(0===e.statistics.length||(null===(t=e.statistics.find(e=>"DYNAMIC"===e.type))||void 0===t?void 0:t.isCome)===!1)&&(i[e.section]?i[e.section]++:i[e.section]=1)})});let o=Object.entries(i).map(e=>{let[t,n]=e;return{section:parseInt(t),attendance:n}}),u=o.map(e=>({...e,attendance:t.length-e.attendance}));return(0,d.jsx)(r.default,{sx:{display:"flex",alignItems:"center"},children:n?u.map((e,t)=>(0,d.jsx)(s,{onClick:()=>l(e=>!e),color:n?"green":"red",children:e.attendance},t)):o.map((e,t)=>(0,d.jsx)(s,{onClick:()=>l(e=>!e),color:n?"green":"red",children:e.attendance},t))})})},66508:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n("7104"),r=n("94718"),o=n("16393"),s=n("71893"),u=n("30381"),c=n.n(u);function h(){let e=(0,l._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n    color: #000;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 5px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 8px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return h=function(){return e},e}let f=s.default.div(h(),o.mainColor);t.default=(0,a.memo)(e=>{let{data:t,open:n,handleClose:l}=e;return(0,d.jsxs)(i.Dialog,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,d.jsx)(i.DialogTitle,{id:"alert-dialog-title",children:"Retake history"}),(0,d.jsx)(i.DialogContent,{children:(0,d.jsx)(i.DialogContentText,{id:"alert-dialog-description",children:(0,d.jsx)(f,{children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u2116"}),(0,d.jsx)("th",{children:"Description"}),(0,d.jsx)("th",{children:"Score"}),(0,d.jsx)("th",{children:"Date"})]})}),(0,d.jsx)("tbody",{children:null==t?void 0:t.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t+1}),(0,d.jsx)("td",{children:(null==e?void 0:e.description)||"-"}),(0,d.jsx)("td",{children:null==e?void 0:e.grade}),(0,d.jsx)("td",{children:c()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")})]},t))})]})})})}),(0,d.jsx)(i.DialogActions,{children:(0,d.jsx)(r.default,{onClick:l,children:"close"})})]})})},19092:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924"),n("31672"),n("59461"),n("2490"),n("88449"),n("19894");var l=n("85893");n("67294");var d=n("30381"),a=n.n(d),i=n("3506"),r=n("50533"),o=n("89583"),s=n("55693");t.default=function(e){var t;let{data:n,day:d,time:u,setDataForAttendance:c,openModal:h}=e,f=a()(),{subjects:x}=n,v=(0,r.useSelector)(e=>e.hourSection);(0,r.useSelector)(e=>{var t,n;return null===(n=e.AllNbStudentForTeacher)||void 0===n?void 0:null===(t=n.dataAttendance)||void 0===t?void 0:t.attendances});let p=null==x?void 0:x.map(e=>{let t=a()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=v.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:a()(n).format("HH:mm")}}).filter(e=>a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(f)).sort((e,t)=>{let n=a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return a()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)}),m=null==p?void 0:p.map(e=>a()(new Date(u.getFullYear(),u.getMonth(),d)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?e:"").filter(e=>"object"==typeof e),j=e=>{c(e),h()};return(0,l.jsx)(l.Fragment,{children:0!==m.length?(0,l.jsx)(i.default,{title:m.map((e,t)=>(0,l.jsxs)(s.default,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,l.jsxs)("p",{children:[e.section,"-section"]}),(0,l.jsx)("p",{style:{marginTop:"3px"},children:function(e){let t=null==e?void 0:e.find(e=>(null==e?void 0:e.type)==="DYNAMIC");return(null==e?void 0:e.length)===0?(0,l.jsx)(o.FaWindowClose,{color:"#ff5c5c"}):t?(null==t?void 0:t.isCome)?(0,l.jsx)(o.FaCheckSquare,{color:"#67fd59"}):(0,l.jsx)(o.FaWindowClose,{color:"#f85e5e"}):(0,l.jsx)(o.FaCheckSquare,{color:"#67fd59"})}(null==e?void 0:e.statistics)})]},t)),arrow:!0,children:(0,l.jsx)("td",{onClick:()=>j(m),style:{textAlign:"center",cursor:"pointer"},children:null==m?void 0:null===(t=m.filter(e=>{var t,n,l;return(null==e?void 0:null===(t=e.statistics)||void 0===t?void 0:t.length)===0||(null==e?void 0:null===(l=e.statistics)||void 0===l?void 0:null===(n=l.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===n?void 0:n.isCome)===!1}))||void 0===t?void 0:t.length})}):(0,l.jsx)("td",{})})}},45201:function(e,t,n){"use strict";n.r(t),n("10072"),n("23042"),n("99137"),n("71957"),n("96306"),n("103"),n("74592"),n("58276"),n("35082"),n("12813"),n("18222"),n("38563"),n("50336"),n("7512"),n("33948"),n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("31672"),n("59461"),n("25387"),n("72608"),n("57658");var l=n("30381"),d=n.n(l);t.default=function(e){var t;let{data:n,day:l,time:a}=e,i=d()(),{firstName:r,lastName:o,subjects:s}=n,u=new Date,c=new Map,h=[{number:1,hour:"9:00 - 9:50",start:u.setHours(9,0,0),end:u.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:u.setHours(10,0,0),end:u.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:u.setHours(11,0,0),end:u.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:u.setHours(12,0,0),end:u.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:u.setHours(13,0,0),end:u.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:u.setHours(14,0,0),end:u.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:u.setHours(15,0,0),end:u.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:u.setHours(16,0,0),end:u.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:u.setHours(17,0,0),end:u.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:u.setHours(18,0,0),end:u.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:u.setHours(19,0,0),end:u.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:u.setHours(20,0,0),end:u.setHours(20,50,0)}],f=null==s?void 0:null===(t=s.filter(e=>(null==e?void 0:e.statistics.length)===0))||void 0===t?void 0:t.map(e=>{let t=d()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=h.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:d()(n).format("HH:mm")}}).filter(e=>d()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(i));return(null==f?void 0:f.reduce((e,t)=>{let n=t.date+t.hourStart;return!c.has(n)&&(c.set(n,!0),e.push(t)),e},[]).sort((e,t)=>{let n=d()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return d()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)})).map(e=>d()(new Date(a.getFullYear(),a.getMonth(),l)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?null==e?void 0:e.section:"").filter(e=>""!==e)}},46468:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("64211"),n("41874"),n("57640"),n("9924"),n("88449"),n("19894");var d=n("85893"),a=n("67294"),i=n.n(a),r=n("71893"),o=n("55693"),s=n("32392"),u=n("61261"),c=n("42154"),h=n("44025"),f=n("57024"),x=n("97367"),v=n("79352"),p=n("16393"),m=n("90122"),j=n("50533"),g=n("92120"),b=n("27120"),y=n("27233"),C=n("30381"),S=n.n(C),w=n("78258"),I=n("8193"),k=n("64425"),D=n("8033"),A=n("53701"),Y=n("94718"),T=n("47516"),F=n("3591"),M=n("78951"),E=n("74113"),H=n("89583"),G=n("7104"),N=n("63750"),_=n("3506"),R=n("60023"),z=n("92037"),B=n("69923"),O=n("21518"),L=n("84259"),U=n("49018"),P=n("48653"),W=n("69376"),q=n("76302"),K=n("39007"),V=n("90425"),J=n("33426"),Q=n("84110"),Z=n("76464"),X=n("29118"),$=n("79321");function ee(){let e=(0,l._)(["\n    margin-top: 15px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return ee=function(){return e},e}function et(){let e=(0,l._)(["\n    margin-left: 15px;\n    color: black;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 20px;\n"]);return et=function(){return e},e}function en(){let e=(0,l._)(["\n    ","\n"]);return en=function(){return e},e}function el(){let e=(0,l._)(["\n    ","\n"]);return el=function(){return e},e}function ed(){let e=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n    cursor: pointer;\n"]);return ed=function(){return e},e}function ea(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return ea=function(){return e},e}function ei(){let e=(0,l._)(["\n    background-color: #ffffff;\n    margin-top: 15px;\n    border-radius: 5px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    padding: 25px;\n\n    ","\n    .maxScoreForAtt {\n        display: flex;\n        gap: 10px;\n        flex-wrap: wrap;\n\n        .Mui-disabled {\n            color: #000000;\n        }\n    }\n"]);return ei=function(){return e},e}function er(){let e=(0,l._)(["\n    padding: 15px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    ","\n"]);return er=function(){return e},e}function eo(){let e=(0,l._)(["\n    padding: 10px;\n"]);return eo=function(){return e},e}let es=r.default.div(ee(),p.mainColor),eu=r.default.div(et()),ec={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},eh=r.default.div(en(),(0,f.extrasmall)({width:"97% !important"})),ef={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"97%",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24,p:2},ex={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"45%",height:"98vh",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},ev=r.default.div(el(),(0,f.extrasmall)({width:"98% !important"})),ep=r.default.button(ed(),p.mainColor),em=r.default.div(ea(),e=>e.color?e.color:"#000"),ej=r.default.div(ei(),(0,f.extrasmall)({padding:"10px"})),eg=r.default.div(er(),(0,f.extrasmall)({justifyContent:"center"})),eb=r.default.div(eo());t.default=()=>{var e,t;let n=["ALL","KUNDUZGI_KECHKI","SIRTQI","MAGISTRATURE"],[l,r]=(0,a.useState)(n[0]),[f,C]=(0,a.useState)(""),[ee,et]=(0,a.useState)(""),[en,el]=(0,a.useState)(!1),[ed,ea]=(0,a.useState)(!1),[ei,er]=(0,a.useState)(!1),[eo,ey]=(0,a.useState)(!1),[eC,eS]=(0,a.useState)({}),[ew,eI]=(0,a.useState)([]),[ek,eD]=(0,a.useState)({id:null,grade:null}),{headers:eA}=(0,p.getHeaders)(),[eY,eT]=(0,a.useState)([]),[eF,eM]=(0,a.useState)([]),[eE,eH]=(0,a.useState)([]),eG=(0,j.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.user})||null,eN=(0,j.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear})||null,e_=(0,j.useDispatch)(),[eR,ez]=(0,a.useState)([]),[eB,eO]=(0,a.useState)(!1),[eL,eU]=(0,a.useState)(!1),[eP,eW]=(0,a.useState)(null),[eq,eK]=(0,a.useState)(!1),[eV,eJ]=(0,a.useState)(!1),[eQ,eZ]=(0,a.useState)(!1),[eX,e$]=(0,a.useState)(!1),[e0,e1]=(0,a.useState)(!1),[e5,e3]=(0,a.useState)(!1),[e2,e9]=(0,a.useState)(!1),[e4,e8]=(0,a.useState)("fullNames"),[e6,e7]=(0,a.useState)(!1),[te,tt]=i().useState(null),tn=!!te,[tl,td]=(0,a.useState)(null),[ta,ti]=(0,a.useState)(null),[tr,to]=(0,a.useState)(!1),[ts,tu]=i().useState(null),tc=(0,j.useSelector)(e=>e.hourSection),[th,tf]=(0,a.useState)([]),[tx,tv]=(0,a.useState)(!1),tp=e=>{tu(e.currentTarget)},tm=()=>to(!0),tj=()=>{y.default.get(p.BASE_URL+"/education/educationYearsForSelected",{headers:eA}).then(e=>{var t,n,l;eH(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj),e_((0,g.fetchEducationYear)(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(n=l.obj)||void 0===n?void 0:n[0]))}).catch(e=>{})};(0,a.useEffect)(()=>{tj()},[]);let tg=async()=>{eN&&await y.default.get("".concat(p.BASE_URL,"/groupConnect/subjectsOfTeacher/").concat(null==eG?void 0:eG.id,"?educationId=").concat(null==eN?void 0:eN.id)).then(e=>{var t,n;eT(null===(t=e.data)||void 0===t?void 0:t.obj),C(null===(n=e.data)||void 0===n?void 0:n.obj[0].name)}).catch(e=>{})},tb=async(e,t,n)=>{if(""!==ee){var l,d;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&await y.default.get("".concat(p.BASE_URL,"/themeOfSubjectForGrading/getThemes/").concat(null==t?void 0:null===(l=t.find(t=>(null==t?void 0:t.name)===e))||void 0===l?void 0:l.id,"/").concat(null==eF?void 0:null===(d=eF.find(e=>(null==e?void 0:e.name)===ee))||void 0===d?void 0:d.id,"?educationYearId=").concat(n),{headers:eA}).then(e=>{tf(e.data.obj)}).catch(e=>{})}},ty=(e,t,n,l,d)=>{var a;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&y.default.get("".concat(p.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(n,"?educationId=").concat(d,"&subjectId=").concat(null==t?void 0:null===(a=t.find(t=>(null==t?void 0:t.name)===e))||void 0===a?void 0:a.id,"&eduType=").concat(l)).then(e=>{var t;eM(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})};(0,a.useEffect)(()=>{et(""),ty(f,eY,null==eG?void 0:eG.id,l,null==eN?void 0:eN.id)},[f,l]);let tC=()=>{if(e_((0,q.resetData)()),e_((0,Q.resetDataScore)()),""!==ee){var e,t,n,l;e6?(eU(!0),y.default.get("".concat(p.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==eN?void 0:eN.id,"/").concat(null==eF?void 0:null===(n=eF.find(e=>(null==e?void 0:e.name)===ee))||void 0===n?void 0:n.id,"?subjectId=").concat(null==eY?void 0:null===(l=eY.find(e=>(null==e?void 0:e.name)===f))||void 0===l?void 0:l.id),{headers:eA}).then(e=>{var t,n,l,d,a;ez(null===(t=e.data[0][0])||void 0===t?void 0:t.students.map(e=>{var t;let n=null==e?void 0:null===(t=e.subjects.filter(e=>{var t;return(null==e?void 0:e.statistics.length)===0||(null===(t=e.statistics)||void 0===t?void 0:t.some(e=>(null==e?void 0:e.isCome)===!1))}))||void 0===t?void 0:t.map(e=>{let t=S()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=tc.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:S()(n).format("HH:mm")}}).filter(e=>S()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(S()(),"minute")).length;return{...e,subjectNb:n}})),td([null===(l=e.data)||void 0===l?void 0:null===(n=l[0][0].students[0])||void 0===n?void 0:n.maxGradeForAttendance,null===(a=e.data)||void 0===a?void 0:null===(d=a[0][0].students[0])||void 0===d?void 0:d.gradeForAttendance]),eU(!1)}).catch(e=>{eU(!1)})):(eO(!0),y.default.get("".concat(p.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacherForTodayWithMax/").concat(null==eN?void 0:eN.id,"/").concat(null==eF?void 0:null===(e=eF.find(e=>(null==e?void 0:e.name)===ee))||void 0===e?void 0:e.id,"?subjectId=").concat(null==eY?void 0:null===(t=eY.find(e=>(null==e?void 0:e.name)===f))||void 0===t?void 0:t.id,"&year=").concat(S()(new Date).year(),"&week=").concat(S()(new Date).week(),"&day=").concat(S()(new Date).day()),{headers:eA}).then(e=>{var t,n,l,d,a;ez(null===(t=e.data)||void 0===t?void 0:t[0][0].students),td([null===(l=e.data)||void 0===l?void 0:null===(n=l[0][0].students[0])||void 0===n?void 0:n.maxGradeForAttendance,null===(a=e.data)||void 0===a?void 0:null===(d=a[0][0].students[0])||void 0===d?void 0:d.gradeForAttendance]),eO(!1)}).catch(e=>{eO(!1)}))}};(0,a.useEffect)(()=>{tC(),tb(f,eY,null==eN?void 0:eN.id)},[ee,eV,e6]),(0,a.useEffect)(()=>{tg()},[eN]);let tS=e=>{eS(e),el(!0)},tw=()=>ea(!1),tI=()=>er(!1),tk=()=>ey(!1),tD=e=>{er(!0),eW(e)},tA=e=>{eK(!0),eI(e)},tY=e=>{eI(e)};(0,a.useEffect)(()=>{null!==ew&&eV&&e$(!0)},[ew]),(0,a.useEffect)(()=>{eX||eI(null)},[eX]),(0,a.useEffect)(()=>{eJ(eV),e7(e6)},[]);let tT=()=>el(!1),tF=(e,t)=>{if("fullNames"===e4){if(e0){if(e0)return e.fullName<t.fullName?1:e.fullName>t.fullName?-1:0}else return e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0}if("attendance"===e4){if(e2){if(e2)return e.subjectNb<t.subjectNb?1:e.subjectNb>t.subjectNb?-1:0}else return e.subjectNb>t.subjectNb?1:e.subjectNb<t.subjectNb?-1:0}if("score"===e4){if(e5){if(e5)return e.middleGrade<t.middleGrade?1:e.middleGrade>t.middleGrade?-1:0}else return e.middleGrade>t.middleGrade?1:e.middleGrade<t.middleGrade?-1:0}if("evaluate"===e4){if(e5){if(e5)return e.todayGrade<t.todayGrade?1:e.todayGrade>t.todayGrade?-1:0}else return e.todayGrade>t.todayGrade?1:e.todayGrade<t.todayGrade?-1:0}};return(0,a.useEffect)(()=>{(null==ek?void 0:ek.id)&&(null==ek?void 0:ek.grade)&&ez([...null==eR?void 0:eR.filter(e=>(null==e?void 0:e.studentId)!==(null==ek?void 0:ek.id)),{...null==eR?void 0:eR.find(e=>(null==e?void 0:e.studentId)===(null==ek?void 0:ek.id)),todayGrade:null==ek?void 0:ek.grade}])},[ek]),(0,d.jsxs)(eb,{children:[eq&&(0,d.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},children:(0,d.jsx)(Y.default,{onClick:()=>eK(!1),variant:"outlined",startIcon:(0,d.jsx)(T.BiArrowBack,{}),children:"Back"})}),(0,d.jsx)(o.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"30px"},children:(0,d.jsxs)(eg,{children:[(0,d.jsx)(o.default,{sx:{minWidth:180,background:"#fff"},children:(0,d.jsxs)(c.default,{fullWidth:!0,children:[(0,d.jsx)(s.default,{htmlFor:"semestr",children:"Academic year"}),(0,d.jsx)(h.default,{labelId:"semestr",id:"demo-simple-select",value:null==eN?void 0:eN.name,onChange:e=>{e.target.value!==(null==eN?void 0:eN.name)&&e_((0,b.educationYearStatisticsFetching)()),e_((0,g.fetchEducationYear)(null==eE?void 0:eE.find(t=>(null==t?void 0:t.name)===e.target.value)))},label:"Academic year",disabled:eq,children:null==eE?void 0:eE.map((e,t)=>(0,d.jsx)(u.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,d.jsx)(o.default,{sx:{width:200},children:(0,d.jsxs)(c.default,{fullWidth:!0,children:[(0,d.jsx)(s.default,{id:"fanselect",children:"Subject"}),(0,d.jsx)(h.default,{labelId:"fanselect",id:"demo-simple-select2",value:f,label:"Subject",onChange:e=>{C(e.target.value)},disabled:eq,children:null==eY?void 0:eY.map((e,t)=>(0,d.jsx)(u.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,d.jsx)(o.default,{sx:{width:200},children:(0,d.jsxs)(c.default,{fullWidth:!0,children:[(0,d.jsx)(s.default,{id:"demo-simple-select-label",children:"Education type"}),(0,d.jsx)(h.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:"Education type",onChange:e=>r(e.target.value),disabled:eq,children:null==n?void 0:n.map((e,t)=>(0,d.jsx)(u.default,{value:e,children:e},t))})]})}),(0,d.jsx)(o.default,{sx:{width:200},children:(0,d.jsxs)(c.default,{fullWidth:!0,children:[(0,d.jsx)(s.default,{id:"demo-simple-select-label1",children:"Group"}),(0,d.jsx)(h.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:ee,label:"Group",onChange:e=>{et(e.target.value),e7(!1)},disabled:eq,children:null==eF?void 0:eF.map((e,t)=>(0,d.jsx)(u.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})})]})}),(0,d.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},children:(0,d.jsx)(L.default,{lessons:eY,userId:null==eG?void 0:eG.id,eduType:"ALL",eduId:null==eN?void 0:eN.id})}),eq?(0,d.jsx)(ej,{children:(0,d.jsx)(m.default,{oneSciencesScore:ew,fetchCoreDataStudents:tC,allThemeData:th,setThemeModal:tv})}):(0,d.jsxs)(ej,{children:[(0,d.jsxs)(eu,{children:[(0,d.jsxs)("h4",{children:["Group: ",ee]}),(0,d.jsx)(_.default,{title:"Settings",children:(0,d.jsx)(E.default,{onClick:e=>{tt(e.currentTarget)},size:"medium",sx:{ml:2},"aria-controls":tn?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":tn?"true":void 0,children:(0,d.jsx)(N.BsThreeDotsVertical,{})})})]}),(0,d.jsxs)(o.default,{className:"maxScoreForAtt",children:[(0,d.jsxs)(Y.default,{disabled:!0,variant:"contained",size:"small",children:["maximum score for attendance : ",tl&&tl[0]||0]}),(0,d.jsxs)(Y.default,{disabled:!0,variant:"contained",size:"small",children:["admission to each lesson earns: ",tl&&tl[1]||0," points"]})]}),(0,d.jsxs)(es,{children:[(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u2116"}),(0,d.jsx)("th",{children:(0,d.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)("p",{children:"Full name"}),(0,d.jsx)(E.default,{size:"small",onClick:()=>{e1(e=>!e),e8("fullNames")},children:e0?(0,d.jsx)(H.FaSortUp,{}):(0,d.jsx)(H.FaSortDown,{})})]})}),(0,d.jsx)("th",{children:(0,d.jsxs)(o.default,{sx:{display:"flex",gap:1,alignItems:"center",justifyContent:"center"},children:["Attendance",(0,d.jsx)(E.default,{onClick:tm,children:(0,d.jsx)(N.BsThreeDotsVertical,{})})]})}),e6&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("th",{children:(0,d.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)("p",{children:" All attendance"}),(0,d.jsx)(E.default,{size:"small",onClick:()=>{e9(e=>!e),e8("attendance")},children:e2?(0,d.jsx)(H.FaSortUp,{}):(0,d.jsx)(H.FaSortDown,{})})]})})}),(0,d.jsx)("th",{children:eV?(0,d.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)("p",{children:"Evaluate"}),(0,d.jsx)(E.default,{size:"small",onClick:()=>{e3(e=>!e),e8("evaluate")},children:e5?(0,d.jsx)(H.FaSortUp,{}):(0,d.jsx)(H.FaSortDown,{})})]}):(0,d.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)("p",{children:"Score"}),(0,d.jsx)(E.default,{size:"small",onClick:()=>{e3(e=>!e),e8("score")},children:e5?(0,d.jsx)(H.FaSortUp,{}):(0,d.jsx)(H.FaSortDown,{})})]})}),eQ&&(0,d.jsx)("th",{style:{backgroundColor:"#fff"},children:(0,d.jsx)(V.default,{allThemeData:th,setThemeModal:tv})}),!eQ&&(0,d.jsx)("th",{children:"Info"})]})}),(0,d.jsxs)("tbody",{children:[!eB&&(null==eR?void 0:eR.sort(tF).map((e,t)=>{var n;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,d.jsx)("td",{children:null==e?void 0:e.fullName}),(0,d.jsx)("td",{children:(0,d.jsx)(D.default,{handleOpenDynamicAttendance:tm,data:null==e?void 0:e.subjects,data2:e,handleMenuAttClick:tp,setDataForChangeAttendance:ti})}),e6&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("td",{children:eL?(0,d.jsx)(G.Skeleton,{sx:{margin:"0 auto"},width:100,height:50}):(0,d.jsx)(em,{onClick:()=>tS(e),children:null==e?void 0:e.subjectNb})})}),eV?(0,d.jsx)("td",{children:(0,d.jsx)(em,{onClick:()=>tY(e),children:(null==e?void 0:e.todayGrade)!==null?parseFloat(null==e?void 0:null===(n=e.todayGrade)||void 0===n?void 0:n.toFixed(3)):0})}):(0,d.jsx)("td",{children:(0,d.jsx)($.default,{item:e,handleOpen2:()=>tA(e)})}),eQ&&(0,d.jsx)("td",{children:(0,d.jsx)(K.default,{data:e})}),!eQ&&(0,d.jsx)("td",{children:(0,d.jsx)(em,{onClick:()=>tD(e),children:(0,d.jsx)(I.AiFillInfoCircle,{})})})]},t)})),!eB&&(null==eR?void 0:eR.length)>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{}),(0,d.jsx)("td",{children:(0,d.jsx)("b",{children:"ATTENDANCE"})}),(0,d.jsx)("td",{children:(0,d.jsx)(Z.default,{data:null==eR?void 0:eR.map(e=>null==e?void 0:e.subjects)})}),e6&&(0,d.jsx)("td",{}),eQ&&(0,d.jsx)("td",{}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{})]})]})]}),(0,d.jsx)(W.default,{fetchCoreDataStudents:tC}),(0,d.jsx)(J.default,{fetchCoreDataStudents:tC,setBtnToggle2:eZ}),eB&&(0,d.jsx)(o.default,{sx:{width:"100%",marginTop:"20px"},children:(0,d.jsx)(w.default,{})}),0===eR.length&&(0,d.jsx)(M.default,{w:200,h:180})]})]}),(0,d.jsx)(P.default,{open:!!ts,anchorEl:ts,data:ta,handleClose:()=>{tu(null)}}),(0,d.jsxs)(G.Menu,{anchorEl:te,id:"account-menu",open:tn,onClose:()=>{tt(null)},PaperProps:{elevation:0,sx:{p:1,width:"225px",overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,d.jsxs)(G.FormGroup,{children:[(0,d.jsx)(z.default,{control:(0,d.jsx)(R.default,{checked:eV,onChange:e=>{eJ(e.target.checked)}}),label:"Evaluate"}),(0,d.jsx)(z.default,{control:(0,d.jsx)(R.default,{checked:eQ,onChange:e=>{eZ(e.target.checked)}}),label:"Evaluate multipart"}),(0,d.jsx)(z.default,{control:(0,d.jsx)(R.default,{checked:e6,onChange:e=>{e7(e.target.checked)}}),label:"Attendance"})]}),eR.length>0&&(0,d.jsxs)(o.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",gap:"10px",mt:"10px"},children:[(0,d.jsx)(Y.default,{onClick:()=>{ey(!0)},sx:{width:"100%"},variant:"outlined",children:"all attendance "}),(0,d.jsx)(O.default,{educationYear:eN,content:eR,groupName:ee,subjectName:f})]})]}),(0,d.jsx)(x.default,{open:en,onClose:tT,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(o.default,{sx:ec,component:eh,children:[(0,d.jsx)(ep,{onClick:tT,children:(0,d.jsx)(v.RiCloseLine,{})}),(0,d.jsx)(k.default,{data:eC})]})}),(0,d.jsx)(x.default,{open:ed,onClose:tw,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(o.default,{sx:ex,component:ev,children:[(0,d.jsx)(ep,{onClick:tw,children:(0,d.jsx)(v.RiCloseLine,{})}),(0,d.jsx)(m.default,{oneSciencesScore:ew,setOpen2:ea})]})}),(0,d.jsx)(F.default,{setTodayGrade:eD,openEvaluateToday:eX,setOpenEvaluateToday:e$,oneSciencesScore:ew}),(0,d.jsx)(x.default,{open:ei,onClose:tI,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(o.default,{sx:ec,component:eh,children:[(0,d.jsx)(ep,{onClick:tI,children:(0,d.jsx)(v.RiCloseLine,{})}),(0,d.jsx)(A.default,{studentData:eP})]})}),(0,d.jsx)(x.default,{open:eo,onClose:tk,children:(0,d.jsxs)(o.default,{sx:ef,component:eh,children:[(0,d.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},onClick:tk,children:(0,d.jsx)(E.default,{children:(0,d.jsx)(v.RiCloseLine,{})})}),(0,d.jsx)(B.default,{groups:eF,lessons:eY,groupSelect:ee,scien:f})]})}),(0,d.jsx)(U.default,{open:tr,handleClose:()=>to(!1),data3:null==eR?void 0:eR.sort(tF)}),(0,d.jsx)(X.default,{getThemeAll:()=>tb(f,eY,null==eN?void 0:eN.id),groupId:null==eF?void 0:null===(e=eF.find(e=>(null==e?void 0:e.name)===ee))||void 0===e?void 0:e.id,subjectId:null==eY?void 0:null===(t=eY.find(e=>(null==e?void 0:e.name)===f))||void 0===t?void 0:t.id,educationYearId:null==eN?void 0:eN.id,open:tx,setThemeModal:tv})]})}},84493:function(e,t,n){"use strict";n.r(t),n("88449"),n("19894"),n("2490"),n("57658"),n("33948"),n("15581"),n("34514");var l=n("85893");n("67294");var d=n("50533"),a=n("55693"),i=n("94718"),r=n("27233"),o=n("16393"),s=n("72132"),u=n("92690"),c=n("14599");t.default=e=>{let{exportToExcel:t,confData:n,dataStudents:h}=e,f=(0,d.useSelector)(e=>{var t,n;return null===(n=e.AllNbStudentForTeacher)||void 0===n?void 0:null===(t=n.dataAttendance)||void 0===t?void 0:t.attendances})||[],x=(0,d.useDispatch)(),v=()=>{x((0,c.resetAttendance)()),x((0,u.getAllStudentData)(n))};return(0,l.jsx)(a.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,l.jsxs)(a.default,{sx:{display:"flex",gap:2},children:[f.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{variant:"contained",color:"error",onClick:v,children:"Don't Save"}),(0,l.jsx)(i.default,{variant:"contained",onClick:()=>{let e=f.filter(e=>null===e.id),t=f.filter(e=>null!==e.id),l=[];e.length>0&&l.push(r.default.post("".concat(o.BASE_URL,"/dynamicAttendance/createMultiDynamicAttendance3"),e,n.headers)),t.length>0&&l.push(r.default.put("".concat(o.BASE_URL,"/dynamicAttendance/updateMultiDynamicAttendance3"),t,n.headers)),l.length>0&&Promise.all(l).then(e=>{e.forEach(e=>{}),s.toast.success("Success"),v()}).catch(e=>{s.toast.error("Error saving")})},children:"Save"})]}),(null==h?void 0:h.length)>0&&(0,l.jsx)(i.default,{onClick:t,variant:"outlined",children:"Export"})]})})}},79321:function(e,t,n){"use strict";n.r(t);var l=n("58865"),d=n("85893"),a=n("67294"),i=n("55693"),r=n("71893"),o=n("3506");function s(){let e=(0,l._)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color:#ffffff;\n\n    &:hover {\n       opacity: 0.8;\n    }\n\n"]);return s=function(){return e},e}let u=r.default.div(s(),e=>e.bgColor);t.default=(0,a.memo)(e=>{var t;let{item:n,handleOpen2:l}=e,a=parseFloat(null===(t=((null==n?void 0:n.allSumGrade)||0)+((null==n?void 0:n.allGradesForAttendance)||0))||void 0===t?void 0:t.toFixed(3));return(0,d.jsx)(i.default,{sx:{display:"flex",justifyContent:"center"},children:(0,d.jsx)(o.default,{title:"max:30",arrow:!0,children:(0,d.jsx)(u,{bgColor:(e=>{let t=parseFloat((10*e/3).toFixed(3));if(t>=0&&t<=59)return"#FF0000";if(t>=60&&t<=84)return"rgb(215,215,0)";if(t>=85)return"#00bd00"})(a),onClick:()=>l(n),children:a})})})})},8033:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("33948"),n("31672"),n("59461");var d=n("85893"),a=n("67294"),i=n("71893"),r=n("8193"),o=n("30381"),s=n.n(o),u=n("7104"),c=n("3506"),h=n("55693"),f=n("50533");function x(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return x=function(){return e},e}let v=i.default.div(x(),e=>e.color?e.color:"#000");t.default=(0,a.memo)(e=>{var t;let{data:n,data2:l,setDataForChangeAttendance:a,handleOpenDynamicAttendance:i,handleMenuAttClick:o}=e,x=(0,f.useSelector)(e=>e.attendanceForJournal),p=null===(t=n.filter(e=>e.day===s()().day()&&e.week===s()().week()&&e.year===s()().year()))||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.section)<(null==t?void 0:t.section)?-1:(null==e?void 0:e.section)>(null==t?void 0:t.section)?1:0),m=(e,t,n)=>{let l=x.attendances.find(e=>e.studentId===t&&e.section===n);if(l)return l.isCome;{if((null==e?void 0:e.length)===0)return!1;let t=e.find(e=>"DYNAMIC"===e.type);return!t||t.isCome}},j=(e,t)=>{if(e){var n,l;let e=null==t?void 0:null===(n=t.statistics)||void 0===n?void 0:n.find(e=>"DYNAMIC"===e.type);return e?(0,d.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,d.jsxs)("p",{children:["section-",null==e?void 0:e.section]}),(0,d.jsx)("p",{children:null==t?void 0:t.room}),(0,d.jsx)("p",{children:s()(e.time).format("HH:mm")})]}):(0,d.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,d.jsxs)("p",{children:["section-",null===(l=t.statistics[0])||void 0===l?void 0:l.section]}),(0,d.jsx)("p",{children:null==t?void 0:t.room}),(0,d.jsx)("p",{children:s()(function(e){let t=e.filter(e=>e.hasOwnProperty("time"));return 0===t.length?null:Math.min(...t.map(e=>e.time))}(null==t?void 0:t.statistics)).format("HH:mm")})]})}return""},g=(e,t,n)=>{var d,i;o(e),a({id:(null==t?void 0:null===(i=t.statistics)||void 0===i?void 0:null===(d=i.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===d?void 0:d.nameId)||null,year:t.year,week:t.week,day:t.day,studentId:t.studentId,subjectId:l.subjectId,educationId:l.educationId,groupId:l.groupId,room:t.room,section:t.section,isComeData:n})};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(h.default,{sx:{display:"flex",alignItems:"center"},children:null==p?void 0:p.map((e,t)=>(0,d.jsx)(c.default,{TransitionComponent:u.Zoom,title:j(m(null==e?void 0:e.statistics),e),arrow:!0,placement:"right",children:(0,d.jsx)(v,{onClick:t=>g(t,e,m(null==e?void 0:e.statistics)),color:m(null==e?void 0:e.statistics,e.studentId,e.section)?"green":"red",children:m(null==e?void 0:e.statistics,e.studentId,e.section)?(0,d.jsx)(r.AiFillCheckCircle,{}):(0,d.jsx)(r.AiFillCloseCircle,{})})},t))})})})},64425:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("88449"),n("19894"),n("2490"),n("64211"),n("41874"),n("57640"),n("9924"),n("31672"),n("59461");var d=n("85893");n("67294");var a=n("71893"),i=n("16393"),r=n("30381"),o=n.n(r),s=n("50533");function u(){let e=(0,l._)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"]);return u=function(){return e},e}function c(){let e=(0,l._)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return c=function(){return e},e}function h(){let e=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return h=function(){return e},e}function f(){let e=(0,l._)(["\n"]);return f=function(){return e},e}let x=a.default.div(u(),e=>e.jsc,e=>e.bg),v=a.default.div(c()),p=a.default.div(h(),i.mainColor),m=a.default.div(f());t.default=e=>{var t;let{data:n}=e,{subjects:l,fullName:a}=n,i=(0,s.useSelector)(e=>e.hourSection),r=null==l?void 0:null===(t=l.filter(e=>{var t;return(null==e?void 0:e.statistics.length)===0||(null===(t=e.statistics)||void 0===t?void 0:t.some(e=>(null==e?void 0:e.isCome)===!1))}))||void 0===t?void 0:t.map(e=>{let t=o()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=i.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:o()(n).format("HH:mm")}}).filter(e=>o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(o()(),"minute")),u=null==r?void 0:r.sort((e,t)=>{let n=o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return o()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)});return(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{children:a}),(0,d.jsx)(v,{children:(null==u?void 0:u.length)>0?null==u?void 0:u.map((e,t)=>(0,d.jsxs)(x,{bg:"red",jsc:"space-between",children:[(0,d.jsx)("p",{children:e.date}),(0,d.jsxs)("p",{children:[e.section," - section"]})]},t)):(0,d.jsx)(x,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})}},53701:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n("85466"),r=n("87980"),o=n("43927"),s=n("89589"),u=n("23508"),c=n("71893"),h=n("16393"),f=n("30381"),x=n.n(f),v=n("78951"),p=n("27233");function m(){let e=(0,l._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return m=function(){return e},e}function j(){let e=(0,l._)(["\n  text-align: center;\n  border: 1px solid silver;\n  padding: 5px;\n"]);return j=function(){return e},e}function g(){let e=(0,l._)(["\n  margin-top: 50px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return g=function(){return e},e}function b(){let e=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return b=function(){return e},e}function y(){let e=(0,l._)(["\n"]);return y=function(){return e},e}let C=c.default.div(m()),S=c.default.div(j()),w=c.default.div(g()),I=c.default.div(b(),h.mainColor),k=c.default.div(y());t.default=e=>{var t,n;let{studentData:l}=e,{fullName:c,studentId:f,subjectId:m,groupId:j,educationId:g}=l,[b,y]=(0,a.useState)([]),[D,A]=(0,a.useState)(!1),Y=e=>(t,n)=>{A(!!n&&e)},{headers:T}=(0,h.getHeaders)(),F=async()=>{await p.default.get("".concat(h.BASE_URL,"/downloadCounter/getDownloadCountOfOneStudent/").concat(g,"?groupId=").concat(j,"&subjectId=").concat(m,"&studentId=").concat(f),{headers:T}).then(e=>{var t;y(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})};return(0,a.useEffect)(()=>{F()},[]),(0,d.jsxs)(k,{children:[(0,d.jsx)(I,{children:c}),(0,d.jsx)(w,{children:null===(n=b[0])||void 0===n?void 0:null===(t=n.lines)||void 0===t?void 0:t.map((e,t)=>(0,d.jsxs)(i.default,{expanded:D===t,onChange:Y(t),children:[(0,d.jsx)(o.default,{expandIcon:(0,d.jsx)(u.default,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,d.jsx)(s.default,{sx:{color:"".concat(h.mainColor),fontWeight:"bold"},children:e.queue+"-Mavzu: "+e.themeName})}),(0,d.jsxs)(r.default,{children:[(0,d.jsxs)(C,{children:[(0,d.jsx)(S,{children:(0,d.jsx)("b",{children:"File name "})}),(0,d.jsx)(S,{children:(0,d.jsx)("b",{children:"Number of downloads"})}),(0,d.jsx)(S,{children:(0,d.jsx)("b",{children:"last download time "})})]}),e.counter.length>0?e.counter.map((e,t)=>(0,d.jsxs)(C,{children:[(0,d.jsx)(S,{children:(0,d.jsxs)("p",{children:[" ",e.fileName.substring(0,e.fileName.indexOf("_"))]})}),(0,d.jsx)(S,{children:(0,d.jsxs)("p",{children:[e.count," "]})}),(0,d.jsx)(S,{children:(0,d.jsxs)("p",{children:[x()(e.lastDownloadTime).format("DD.MM.YYYY HH:MM")," "]})})]},t)):(0,d.jsx)(v.default,{w:"140",h:"120"})]})]},t))})]})}},36493:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("15306"),n("57640"),n("9924");var d=n("85893"),a=n("67294"),i=n("89258"),r=n("71893"),o=n("94718"),s=n("7701"),u=n("5434"),c=n("49492");function h(){let e=(0,l._)(["\n    width: 700px;\n    margin: 0 auto;\n    font-size: 14px;\n    padding: 10px;\n    color: black;\n    line-height: 1.7;\n\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    table, td, th {\n        border: 1px solid;\n        padding: 6px;\n    }\n\n    th {\n        text-align: center;\n    }\n"]);return h=function(){return e},e}let f=r.default.div(h());t.default=(0,a.memo)(e=>{var t,n;let{educationYear:l,teacherData:r,dataOfLeaders:h,content:x,groupName:v,subjectName:p}=e,m=(0,a.useRef)(null),[j,g]=(0,a.useState)(!1),b=null==l?void 0:null===(t=l.name)||void 0===t?void 0:t.match(/\d{4}-\d{4}/),y=b?b[0].replace("-","/"):null,C=null==l?void 0:null===(n=l.name)||void 0===n?void 0:n.match(/\d+-sem/),S=C?C[0].split("-")[0]:null,w=null==h?void 0:h.direction.match(/\)([^)]+)$/),I=w?w[1].trim():null;function k(e){return e?parseFloat(Math.ceil((e.AllSumGrade||0)+(e.gradeForAttendance||0))):0}let D=async()=>{g(!0);let e=m.current,t={margin:10,filename:"statement-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await (0,c.default)().set(t).from(e).save(),g(!1)};return(0,d.jsxs)(d.Fragment,{children:[j?(0,d.jsx)(o.default,{size:"small",variant:"outlined",endIcon:(0,d.jsx)(s.default,{size:18}),children:"download"}):(0,d.jsx)(o.default,{size:"small",variant:"contained",endIcon:(0,d.jsx)(u.MdOutlineFileDownload,{size:22}),onClick:D,children:"statement pdf"}),(0,d.jsx)("div",{style:{display:"none"},children:(0,d.jsxs)(f,{ref:m,children:[(0,d.jsxs)("div",{className:"header",children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{width:130,src:i,alt:"logo"})}),(0,d.jsx)("div",{children:(0,d.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,d.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]})})]}),(0,d.jsxs)("div",{style:{textAlign:"center",margin:"10px 0"},children:[(0,d.jsxs)("b",{children:[" ","<<",I,">>"," ",(0,d.jsx)("br",{}),y," ACADEMIC YEAR ",(0,d.jsx)("br",{})]}),(0,d.jsxs)("b",{children:[" STATEMENT OF RATING \u2116 ",(0,d.jsx)("span",{style:{width:80,borderBottom:"1px solid #000"},children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"})]})]}),(0,d.jsx)("div",{style:{margin:"10px 0"},children:(0,d.jsxs)("p",{children:["Discipline: ",(0,d.jsx)("b",{children:p})]})}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[(0,d.jsxs)("p",{children:["Course: ",(0,d.jsx)("b",{children:null==h?void 0:h.course})]}),(0,d.jsxs)("p",{children:["Semester:",(0,d.jsx)("b",{children:S})]}),(0,d.jsxs)("p",{children:["Group: ",(0,d.jsx)("b",{children:v})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"10px 0"},children:[(0,d.jsxs)("p",{children:["Number of credits: ",(0,d.jsx)("b",{children:"2"})]}),(0,d.jsxs)("p",{children:["Hours: ",(0,d.jsx)("b",{})]})]}),(0,d.jsxs)("table",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u2116"}),(0,d.jsx)("th",{children:"STUDENTS NAMES"}),(0,d.jsx)("th",{children:"ID number"}),(0,d.jsx)("th",{children:"CC"})]}),null==x?void 0:x.slice(0,18).map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)("p",{children:t+1})}),(0,d.jsx)("td",{children:(0,d.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)("p",{children:null==e?void 0:e.userId})}),(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)("p",{children:k(e)})})]},t))]}),(0,d.jsx)("br",{}),(0,d.jsx)("table",{children:null==x?void 0:x.slice(18).map((e,t)=>{var n;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)("p",{children:t+(null==x?void 0:null===(n=x.slice(0,18))||void 0===n?void 0:n.length)+1})}),(0,d.jsx)("td",{children:(0,d.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)("p",{children:null==e?void 0:e.userId})}),(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)("p",{children:k(e)})})]},t)})}),(0,d.jsx)("p",{children:"CC-Current Control"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,d.jsx)("b",{children:"Teacher:"}),(0,d.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,d.jsx)("b",{children:r.fullName})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,d.jsx)("b",{children:"Head of Department:"}),(0,d.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,d.jsx)("b",{children:null==h?void 0:h.headOfDepartment})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,d.jsx)("b",{children:"Course Leader:"}),(0,d.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,d.jsx)("b",{children:null==h?void 0:h.courseLeader})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,d.jsx)("b",{children:"Head of Academic Affairs      Department:"}),(0,d.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,d.jsx)("b",{children:null==h?void 0:h.headOfAcademicAffair})]})]})})]})})}}]);