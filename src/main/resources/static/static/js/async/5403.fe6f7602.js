/*! For license information please see 5403.fe6f7602.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5403"],{74999:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var a=n("7409"),r=n("99282"),l=n("38956"),i=n("58865");n("92222"),n("21249"),n("57640"),n("9924"),n("17727"),n("88674"),n("41539");var o=n("85893"),c=n("67294"),u=n("71893"),d=n("89583"),s=n("7104"),f=n("16356"),h=n("28685"),p=n("55693"),x=n("94718"),g=n("74113"),m=n("53854"),b=n("97367"),v=n("60155"),j=n("89589"),C=n("71632"),_=n("27233"),y=n("72132"),S=n("10493"),k=n("53071"),w=n("9330"),N=n("50132"),F=n("60134");function T(){var e=(0,i._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  h4 {\n    color: black;\n  }\n\n  h5 {\n    color: red;\n  }\n\n"]);return T=function(){return e},e}function I(){var e=(0,i._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  border-radius: 50%;\n  border: none;\n  background-color: ",";\n  color: white;\n  font-size: 12px;\n"]);return I=function(){return e},e}function D(){var e=(0,i._)(["\n  ","\n"]);return D=function(){return e},e}function W(){var e=(0,i._)(["\n  display: flex;\n  align-items: center;\n  color: #ff5c5c;\n  gap: 5px;\n\n  h1 {\n    margin: 0;\n    font-size: 30px;\n    font-weight: bold;\n\n  }\n"]);return W=function(){return e},e}function U(){var e=(0,i._)(["\n  width: 100%;\n  padding: 1rem;\n\n  .MuiDataGrid-columnHeaderTitleContainer {\n    justify-content: center;\n  }\n"]);return U=function(){return e},e}var E=u.default.div(T()),z=u.default.button(I(),h.mainColor),A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},R=u.default.div(D(),(0,C.extrasmall)({width:"95% !important"})),L=u.default.div(W()),B=u.default.div(U()),P=function(){var e=F.MONITORING_STUDENT_FAIL_FILE,t=(0,l._)((0,c.useState)(1e3),2),n=t[0],i=t[1],u=(0,l._)((0,c.useState)(null),2),C=u[0],T=u[1],I=(0,h.getHeaders)().headers,D=(0,l._)((0,c.useState)([]),2),W=D[0],U=D[1],P=(0,l._)((0,c.useState)(!1),2),M=P[0],G=P[1],H=(0,l._)((0,c.useState)(!1),2),Y=H[0],q=H[1],K=(0,l._)((0,c.useState)(null),2),V=K[0],J=K[1],Q=(0,l._)((0,c.useState)(!1),2),X=Q[0],Z=Q[1],$=(0,l._)((0,c.useState)({page:0,pageSize:30}),2),ee=$[0],et=$[1],en=function(e){T({id:e.id,studentId:e.studentId,year:e.year,semester:e.semester,subject:e.subject,credit:e.credit,currents:e.currents,finals:e.finals,totals:e.totals,penalty:e.penalty,retakeN:e.retakeN,retakeData:e.retakeData,note:e.note}),Z(!0)},ea=function(){G(!0),_.default.get("".concat(h.BASE_URL,"/workOtherService/getFails?page=").concat(ee.page+1,"&size=").concat(ee.pageSize)).then(function(e){var t,n,l,o;i(null===(t=e.data.obj)||void 0===t?void 0:t.totalElements),U(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(l=o.obj)||void 0===l?void 0:null===(n=l.content)||void 0===n?void 0:n.map(function(e,t){return(0,r._)((0,a._)({},e),{count:t+1})}))}).catch(function(e){}).finally(function(){return G(!1)})};(0,c.useEffect)(function(){ea()},[ee]);var er=function(){J(null),q(!1)},el=function(){Z(!1),T(null)};return(0,o.jsxs)(B,{children:[(0,o.jsx)(S.default,{titleFile:"MONITORING_STUDENT_FAIL_FILE",fetchData:ea,saveFileUrl:"/workOtherService/updateFails",urlBase:e}),(0,o.jsxs)(L,{children:[(0,o.jsx)(d.FaClipboardList,{size:25}),(0,o.jsx)("h1",{children:"Fails"})]}),(0,o.jsx)(s.Card,{children:(0,o.jsxs)(s.CardContent,{children:[(0,o.jsx)(p.default,{display:"flex",justifyContent:"space-between",mb:2,children:(0,o.jsx)(k.default,{setData:U,searchUrl:"/otherService/studentsFails2/",pagination:ee,fetchData:ea})}),(0,o.jsx)(f.DataGrid,{rowCount:n,columns:[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:90,flex:.4,field:"year",headerName:"Year",sortable:!0,align:"center",justifyContent:"center"},{minWidth:90,flex:.4,field:"studentId",headerName:"Student Id",sortable:!0,align:"center",justifyContent:"center"},{minWidth:90,flex:.3,field:"semester",headerName:"Semester",sortable:!0,align:"center"},{minWidth:150,flex:1,field:"subject",headerName:"Subject",editable:!1,sortable:!1,align:"center"},{minWidth:70,flex:.2,field:"credit",headerName:"Credit",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.4,field:"currents",headerName:"Score",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.4,field:"finals",headerName:"Final Score",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.4,field:"totals",headerName:"Total Score",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.5,field:"penalty",headerName:"Penalty",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.5,field:"retakeN",headerName:"Contract",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.5,field:"retakeData",headerName:"Contract Date",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.5,field:"note",headerName:"Note",editable:!1,sortable:!1,align:"center"},{minWidth:100,flex:.4,field:"receipt",headerName:"Receipt",editable:!1,sortable:!1,align:"center",renderCell:function(e){var t,n=null===(t=e.row.penalty)||void 0===t?void 0:t.substring(0,1),a=e.row.penalty,r=e.row.subject,l=e.row.studentId;return(0,o.jsx)(N.default,{penaltyIf:n,penalty:a,subject:r,studentId:l})}},{flex:.4,field:"action",headerName:"Action",editable:!1,sortable:!1,align:"center",renderCell:function(e){return(0,o.jsx)(s.Stack,{direction:"row",spacing:2,justifyContent:"center",children:(0,o.jsx)(g.default,{"aria-label":"change",color:"success",onClick:function(){return en(e.row)},children:(0,o.jsx)(m.HiPencilAlt,{})})})}}],rows:W||[],loading:M,components:{Toolbar:f.GridToolbar},pageSize:ee.pageSize,page:ee.page,rowsPerPageOptions:[10,30,50,70,100],paginationMode:"server",onPageChange:function(e){et(function(t){return(0,r._)((0,a._)({},t),{page:e})})},onPageSizeChange:function(e){et(function(t){return(0,r._)((0,a._)({},t),{pageSize:e})})},autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1,currents:!1,finals:!1,retakeN:!1}}}})]})}),(0,o.jsx)(b.default,{open:Y,onClose:er,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(p.default,{sx:O,component:R,children:[(0,o.jsxs)(E,{children:[(0,o.jsx)("h5",{children:"Delete"}),(0,o.jsxs)(z,{onClick:er,children:[" ",(0,o.jsx)(v.IoClose,{size:22})]})]}),(0,o.jsxs)(p.default,{children:[(0,o.jsx)(s.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,o.jsx)(j.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,o.jsxs)(s.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,o.jsx)(x.default,{variant:"outlined",onClick:er,children:"Cancel"}),(0,o.jsx)(x.default,{variant:"contained",color:"error",onClick:function(){V&&_.default.delete("".concat(h.BASE_URL,"/example/").concat(V),{headers:I}).then(function(e){er(),y.toast.success("Delete item")}).catch(function(e){y.toast.error("Error deleting")})},children:"Ok"})]})]})]})}),(0,o.jsx)(b.default,{open:X,onClose:el,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(p.default,{sx:A,component:R,children:[(0,o.jsxs)(E,{children:[(0,o.jsx)("h3",{children:C?"Update":"Create"}),(0,o.jsxs)(z,{onClick:el,children:[" ",(0,o.jsx)(v.IoClose,{size:22})]})]}),(0,o.jsx)(p.default,{children:(0,o.jsx)(w.default,{closeBtnFn:el,fetchData:ea,putData:C})})]})})]})}},10493:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n("38956"),r=n("58865");n("17727"),n("88674"),n("41539"),n("75505"),n("87714"),n("82801"),n("1174"),n("82472"),n("48675"),n("92990"),n("18927"),n("33105"),n("35035"),n("74345"),n("7174"),n("63408"),n("14590"),n("32846"),n("44731"),n("77209"),n("96319"),n("58867"),n("37789"),n("33739"),n("29368"),n("14483"),n("12056"),n("3462"),n("30678"),n("27462"),n("33824"),n("12974"),n("1439"),n("87585"),n("15016"),n("55315"),n("66992"),n("23252"),n("6461"),n("32372"),n("8922"),n("5835"),n("8970"),n("84444"),n("60285"),n("41637"),n("46229"),n("17330"),n("62062"),n("33948"),n("78783"),n("92222");var l=n("85893"),i=n("67294"),o=n("55693"),c=n("94718"),u=n("8193"),d=n("15729"),s=n("27233"),f=n("28685"),h=n("71893"),p=n("72132"),x=n("7701"),g=n("7104");function m(){var e=(0,r._)(["\n  position: relative;\n  width: 95%;\n  height: 30px;\n  //background-color: #ccc;\n  border-radius: 7px;\n  overflow: hidden;\n\n  .progress-bar {\n    background-color: ",";\n    color: #fff;\n    text-align: center;\n    line-height: 30px;\n    width: 0;\n    position: absolute;\n    transition: width 0.1s;\n  }\n"]);return m=function(){return e},e}var b=h.default.div(m(),f.mainColor),v=function(e){var t=e.saveFileUrl,n=e.urlBase,r=e.fetchData,h=e.titleFile,m=(0,a._)((0,i.useState)(!1),2),v=m[0],j=m[1],C=(0,a._)((0,i.useState)(0),2),_=(C[0],C[1]);return(0,l.jsxs)(o.default,{display:"flex",justifyContent:"end",children:[(0,l.jsxs)(g.Stack,{direction:"row",spacing:2,children:[(0,l.jsxs)(c.default,{startIcon:(0,l.jsx)(u.AiOutlineCloudUpload,{}),variant:"contained",component:"label",onChange:function(e){j(!0);var n=e.target.files[0],a=f.BASE_URL+t,l=localStorage.getItem(f.TOKEN),i={headers:{"Content-Type":"multipart/form-data",Authorization:f.TokenType+l,"Access-Control-Allow-Origin":"*"},onUploadProgress:function(e){_(Math.round(100*e.loaded/e.total))}},o=new FormData;o.append("file",n),s.default.put(a,o,i).then(function(e){p.toast.success("Uploaded file successfully"),r()}).catch(function(e){p.toast.error("Upload failed")}).finally(function(){return j(!1)}),e.target.value=null},children:["import file",(0,l.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",type:"file",hidden:!0})]}),(0,l.jsx)(c.default,{variant:"contained",onClick:function(){for(var e=atob(n),t=new Uint8Array(e.length),a=0;a<e.length;++a)t[a]=e.charCodeAt(a);var r=new Blob([t],{type:"application/xlsx"}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download="".concat(h,".xlsx"),document.body.appendChild(l),l.click(),document.body.removeChild(l)},children:"example file"})]}),(0,l.jsx)(d.default,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:v,children:(0,l.jsx)(b,{children:(0,l.jsx)(o.default,{display:"flex",justifyContent:"center",children:(0,l.jsx)(x.default,{color:"inherit"})})})})]})}},9330:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n("7409"),r=n("99282"),l=n("38956"),i=n("58865");n("91058");var o=n("85893"),c=n("67294"),u=n("71893"),d=n("7104"),s=n("94718"),f=n("27233"),h=n("28685"),p=n("72132"),x=n("71632");function g(){var e=(0,i._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n  margin-bottom: 20px;\n  ","\n"]);return g=function(){return e},e}function m(){var e=(0,i._)(["\n  margin: 20px 0;\n\n"]);return m=function(){return e},e}var b=u.default.div(g(),(0,x.extrasmall)({gridTemplateColumns:"1fr"})),v=u.default.div(m()),j=(0,c.memo)(function(e){var t=e.closeBtnFn,n=e.fetchData,i=e.putData,u=i||{studentId:"",year:"",semester:"",subject:"",credit:"",currents:"",finals:"",totals:"",penalty:"",retakeN:"",retakeData:"",note:""},x=(0,l._)((0,c.useState)(u),2),g=x[0],m=x[1],j=function(e){f.default.post(h.BASE_URL+"/workOtherService/saveSingleFail",e).then(function(e){n(),p.toast.success("Successfully saved"),t()}).catch(function(e){p.toast.error("Error saving")})},C=function(e){f.default.put(h.BASE_URL+"/workOtherService/updateSingleFail",e).then(function(e){p.toast.success("Successfully updated"),n(),t()}).catch(function(e){p.toast.error("Error updated")})};return(0,o.jsxs)(v,{children:[(0,o.jsxs)(b,{children:[(0,o.jsx)(d.TextField,{fullWidth:!0,disabled:!0,label:"StudentId",value:g.studentId,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{studentId:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Year",value:g.year,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{year:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Semester",value:g.semester,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{semester:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Subject",value:g.subject,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{subject:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Credit",type:"number",value:g.credit,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{credit:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Currents",value:g.currents,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{currents:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Finals",value:g.finals,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{finals:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Totals",value:g.totals,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{totals:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Penalty",value:g.penalty,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{penalty:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Contract N",value:g.retakeN,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{retakeN:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Contract date",value:g.retakeData,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{retakeData:e.target.value})})}}),(0,o.jsx)(d.TextField,{fullWidth:!0,label:"Note",value:g.note,onChange:function(e){return m(function(t){return(0,r._)((0,a._)({},t),{note:e.target.value})})}})]}),(0,o.jsxs)(d.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,o.jsx)(s.default,{variant:"outlined",onClick:t,children:"Cancel"}),(0,o.jsx)(s.default,{variant:"contained",onClick:function(){var e=!0;for(var t in g)if(""===g[t]){e=!1;break}if(e){var n=parseInt(g.credit,10);if(isNaN(n))p.toast.error("Please enter a valid number for Credit.");else{var l=(0,r._)((0,a._)({},g),{credit:n});i?C(l):j(l)}}else p.toast.error("Please fill in all the fields")},children:"save"})]})]})})},53071:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n("7409"),r=n("99282"),l=n("38956");n("92222"),n("21249"),n("57640"),n("9924");var i=n("85893"),o=n("67294"),c=n("79623"),u=n("7104"),d=n("63750"),s=n("27233"),f=n("28685"),h=(0,o.memo)(function(e){var t=e.setData,n=e.searchUrl,h=e.fetchData,p=e.pagination,x=(0,o.useRef)(null),g=(0,l._)((0,o.useState)(""),2),m=g[0],b=g[1],v=(0,f.getHeaders)().headers,j=function(e){b(e),x.current&&x.current.cancel("Operation canceled due to new request.");var l=s.default.CancelToken.source();x.current=l;var i=setTimeout(function(){e.length>=2?s.default.get("".concat(f.BASE_URL).concat(n).concat(e),{headers:v,cancelToken:l.token}).then(function(e){t(e.data.obj.obj.map(function(e,t){return(0,r._)((0,a._)({},e),{count:t+1})}))}).catch(function(e){s.default.isCancel(e)}):h()},300);return function(){l&&l.cancel("Operation canceled due to component unmount."),clearTimeout(i)}};return(0,o.useEffect)(function(){b("")},[p]),(0,i.jsx)(u.TextField,{placeholder:"Search by ID card",size:"small",value:m,onChange:function(e){return j(e.target.value)},id:"idCard",sx:{width:"300px"},InputProps:{startAdornment:(0,i.jsx)(c.default,{position:"start",children:(0,i.jsx)(d.BsSearch,{size:20})})}})})}}]);