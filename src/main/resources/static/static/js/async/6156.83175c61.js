/*! For license information please see 6156.83175c61.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6156"],{1252:function(n,e,t){"use strict";t.r(e);var a=t("58865");t("33948"),t("57640"),t("9924");var r=t("85893"),l=t("67294"),i=t("71893"),o=t("16393"),u=t("27233"),d=t("72132"),s=t("57024"),c=t("3506"),p=t("89583"),f=t("7104"),h=t("94718"),x=t("55693"),m=t("78951"),g=t("94017");function _(){let n=(0,a._)(["\n  width: ",";\n  height: 100%;\n  background-color: ",";\n"]);return _=function(){return n},n}function j(){let n=(0,a._)(["\n  display: flex;\n  width: 100%;\n  overflow: hidden;\n  height: 8.5px;\n  border-radius: 5px;\n"]);return j=function(){return n},n}function C(){let n=(0,a._)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: ",";\n"]);return C=function(){return n},n}function T(){let n=(0,a._)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return T=function(){return n},n}function E(){let n=(0,a._)(["\n  font-size: 14px;\n"]);return E=function(){return n},n}function w(){let n=(0,a._)(["\n  width: 100%;\n"]);return w=function(){return n},n}function b(){let n=(0,a._)(["\n  width: 100%;\n  padding: 12px;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  gap: 10px;\n  border-radius: 5px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  cursor: pointer;\n  transition: 0.06s;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]);return b=function(){return n},n}function v(){let n=(0,a._)(["\n  width: 100%;\n  min-width: 300px;\n  display: grid;\n  grid-template-columns: auto auto auto;\n  gap: 40px;\n  ","\n  ","\n"]);return v=function(){return n},n}function S(){let n=(0,a._)(["\n  margin-bottom: 15px;\n  width: 235px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return S=function(){return n},n}function y(){let n=(0,a._)(["\n  color: ",";\n  cursor: pointer;\n\n\n"]);return y=function(){return n},n}function D(){let n=(0,a._)(["\n  width: 150px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n"]);return D=function(){return n},n}function A(){let n=(0,a._)(["\n  width: 250px;\n  height: 50px;\n  background: white;\n  font-size: 14px;\n  border-radius: 7px;\n  padding: 5px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  box-shadow: rgba(149, 157, 165, 0.2) 0 8px 24px;\n\n  &:focus {\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n\n  ","\n"]);return A=function(){return n},n}function L(){let n=(0,a._)(["\n  ","\n"]);return L=function(){return n},n}function U(){let n=(0,a._)(["\n  width: 200px;\n  height: 45px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 14px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-bottom: 10px;\n\n  &:focus {\n    transform: scale(0.95);\n  }\n"]);return U=function(){return n},n}function N(){let n=(0,a._)(["\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 30px;\n  display: grid;\n  grid-template-columns:repeat(3, 1fr);\n  gap: 30px;\n  justify-items: center;\n  align-items: center;\n  ","\n  ","\n  ","\n"]);return N=function(){return n},n}function k(){let n=(0,a._)(["\n    padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n"]);return k=function(){return n},n}function Y(){let n=(0,a._)(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 50px !important;\n"]);return Y=function(){return n},n}let F=i.default.div(_(),n=>n.width,n=>n.bgcolor),M=i.default.div(j()),I=i.default.h6(C(),n=>n.color),R=i.default.div(T()),B=i.default.h6(E()),G=i.default.div(w()),V=i.default.div(b()),z=i.default.div(v(),(0,s.small)({gridTemplateColumns:"auto auto"}),(0,s.extrasmall)({gridTemplateColumns:"auto"}));i.default.div(S()),i.default.label(y(),o.mainColor),i.default.input.attrs({type:"date"})(D(),o.mainColor,o.mainColor);let O=i.default.select(A(),o.mainColor,o.mainColor,(0,s.extrasmall)({width:"80%"})),P=i.default.div(L(),(0,s.extrasmall)({width:"80% !important"}));i.default.button(U(),o.mainColor,o.mainColor);let H=i.default.div(N(),(0,s.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,s.small)({gridTemplateColumns:"repeat(1,1fr)"}),(0,s.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"})),q=i.default.div(k()),K=i.default.div(Y());e.default=n=>{let[e,t]=(0,l.useState)(1),[a,i]=(0,l.useState)([]),[s,_]=(0,l.useState)(""),[j,C]=(0,l.useState)(""),[T,E]=(0,l.useState)(!1),[w,b]=(0,l.useState)(!1),[v,S]=(0,l.useState)(),[y,D]=(0,l.useState)({startTime:"",endTime:""}),[A,L]=(0,l.useState)(""),[U,N]=(0,l.useState)(""),[k,Y]=(0,l.useState)([]),W=n=>{var e=new Date(n),t=""+(e.getMonth()+1),a=""+e.getDate(),r=e.getFullYear();let l="00",i="00";t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),l.length<2&&(l="0"+l),i.length<2&&(i="0"+i);let o=[r,t,a].join("-");return y.startTime=[o,"T",l,":",i].join(""),[o,"T",l,":",i].join("")},J=n=>{var e=new Date(n),t=""+(e.getMonth()+1),a=""+e.getDate(),r=e.getFullYear();let l=new Date,i="",o="";return n.getDate()===l.getDate()&&n.getMonth()===l.getMonth()&&n.getFullYear()===l.getFullYear()?(i=""+l.getHours(),o=""+l.getMinutes()):(a=""+e.getDate(),i="23",o="59"),t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),[[r,t,a].join("-"),"T",i,":",o].join("")},Q=n=>{t(n)};(0,l.useEffect)(()=>{b(!0),""!==e&&u.default.get(o.BASE_URL+o.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+e).then(n=>{i(n.data.obj),_(n.data.obj[0]),b(!1)}).catch(n=>{b(!1)})},[e]);let X=n=>{""===n?(E(()=>!1),d.toast.warning("Please,Choose Type Of Time.")):"duration"===n?(C(n),E(!0)):(C(n),S(new Date),E(!1))};function Z(n,e){return n&&e?Math.ceil(100*e/n):0}return(0,l.useEffect)(()=>{"day"===j?(b(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_FACULTY_NAME+"?facultyName="+s+"&level="+e+"&timeInterval=0").then(n=>{Y(n.data.obj),b(!1)}).catch(n=>{b(!1)})):"week"===j&&(b(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+s+"&level="+e+"&timeInterval=-7").then(n=>{Y(n.data.obj),b(!1)}).catch(n=>{b(!1)}))},[j,s,e]),(0,l.useEffect)(()=>{b(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+1).then(n=>{i(n.data.obj),b(!1)}).catch(n=>{b(!1)}),C("day")},[]),(0,l.useEffect)(()=>{b(!0),u.default.get(o.BASE_URL+o.STUDENT.GET_STUDENTS_BY_TIME_INTERVAL_AND_LEVEL_AND_FACULTY_NAME+"?facultyName="+a[0]+"&level=1&timeInterval=0").then(n=>{Y(n.data.obj),b(!1)}).catch(n=>{b(!1)})},[]),(0,r.jsxs)(q,{children:[(0,r.jsxs)(H,{children:[(0,r.jsxs)(O,{onChange:n=>Q(n.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Course"}),(0,r.jsx)("option",{value:"1",children:"Course - 1"}),(0,r.jsx)("option",{value:"2",children:"Course - 2"}),(0,r.jsx)("option",{value:"3",children:"Course - 3"}),(0,r.jsx)("option",{value:"4",children:"Course - 4"})]}),(0,r.jsx)(O,{value:s,onChange:n=>_(n.target.value),children:a&&a.map(n=>(0,r.jsx)("option",{value:n,children:n},n))}),(0,r.jsxs)(O,{onChange:n=>X(n.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select Type Of Time"}),(0,r.jsx)("option",{value:"day",children:"DAY"}),(0,r.jsx)("option",{value:"week",children:"WEEK"}),(0,r.jsx)("option",{value:"duration",children:"DURATION"})]}),T&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.TextField,{component:P,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"Start date",type:"date",id:"start",size:"medium",onChange:n=>L(new Date(n.target.value))}),(0,r.jsx)(f.TextField,{component:P,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"End date",type:"date",id:"end",size:"medium",onChange:n=>N(new Date(n.target.value))}),(0,r.jsx)(h.default,{component:P,sx:{width:"250px"},variant:"contained",endIcon:(0,r.jsx)(p.FaFilter,{}),onClick:()=>{if(b(!0),"duration"===j){let n=J(U),t=W(A);u.default.post(o.BASE_URL+o.STUDENT.GET_GROUPS_STATISTIC_BY_FACULTY_NAME_AND_GROUP_LEVEL+"?endTime="+n+"&facultyName="+s+"&level="+e+"&startTime="+t).then(n=>{Y(n.data.obj),b(!1)}).catch(n=>{b(!1)})}},size:"large",children:"Filter"})]})]}),(0,r.jsxs)(K,{children:[(0,r.jsxs)(z,{children:[w&&Array.from({length:5}).map((n,e)=>(0,r.jsx)(V,{children:(0,r.jsxs)(x.default,{sx:{width:"100%"},children:[(0,r.jsx)(f.Skeleton,{}),(0,r.jsx)(f.Skeleton,{animation:"wave"}),(0,r.jsx)(f.Skeleton,{animation:!1})]})},e)),!w&&k.map((n,e)=>(0,r.jsx)(V,{children:(0,r.jsxs)(G,{children:[(0,r.jsxs)(B,{children:[(0,r.jsx)(p.FaLayerGroup,{})," ",n.name]}),(0,r.jsxs)(R,{children:[(0,r.jsx)(I,{color:"#9cd365",children:n.allCount}),(0,r.jsxs)(I,{color:o.mainColor,children:[Z(n.allCount,n.comeCount),"%"]})]}),(0,r.jsxs)(M,{children:[(0,r.jsx)(c.default,{title:"kelgan:".concat(n.comeCount),children:(0,r.jsx)(F,{bgcolor:o.mainColor,width:"".concat(Z(n.allCount,n.comeCount),"%")})}),(0,r.jsx)(c.default,{title:"kelmagan:".concat(n.allCount-n.comeCount),children:(0,r.jsx)(F,{bgcolor:"red",width:"".concat(100-Z(n.allCount,n.comeCount),"%")})})]})]})},e))]}),(null==k?void 0:k.length)>0&&(0,r.jsx)(x.default,{display:"flex",justifyContent:"end",sx:{width:"100%",mt:3},children:(0,r.jsx)(g.default,{direction:s,dataToExcel:k})}),!w&&0===k.length&&(0,r.jsx)(x.default,{sx:{width:"100%"},children:(0,r.jsx)(f.Card,{children:(0,r.jsx)(f.CardContent,{children:(0,r.jsx)(m.default,{w:200,h:180})})})})]})]})}},94017:function(n,e,t){"use strict";t.r(e),t("57640"),t("9924"),t("33948");var a=t("85893"),r=t("67294"),l=t("30381"),i=t.n(l),o=t("37595"),u=t("94718");e.default=(0,r.memo)(n=>{let{dataToExcel:e,direction:t}=n,r=n=>{if(!n||0===n.length)return;let e=n.sort((n,e)=>n.name.toUpperCase().localeCompare(e.name.toUpperCase())),a=[["\u2116","Groups","All Students","Students Came","Percent","".concat(i()().format("DD.MM.YYYY HH:mm"))],...e.map((n,e)=>{var t,a;return[e+1,n.name,n.allCount,n.comeCount||0,(t=n.allCount,a=n.comeCount||0,t&&a?Math.ceil(100*a/t):0)]})],r=o.utils.book_new(),l=o.utils.aoa_to_sheet(a);o.utils.book_append_sheet(r,l,"GroupData");o.writeFile(r,"".concat(t,"_data.xlsx"))};return(0,a.jsx)(u.default,{variant:"contained",onClick:()=>r(e),children:"export to excel"})})}}]);