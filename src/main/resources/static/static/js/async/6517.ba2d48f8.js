/*! For license information please see 6517.ba2d48f8.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6517"],{26972:function(e,t,a){"use strict";a.r(t);var l=a("58865");a("33948"),a("88449"),a("19894"),a("2490"),a("31672"),a("59461"),a("57640"),a("9924");var n=a("85893"),i=a("67294"),r=a("97367"),d=a("55693"),o=a("60155"),s=a("44118"),u=a("7104"),c=a("94718"),f=a("71893"),h=a("57024"),m=a("16393"),x=a("44025"),p=a("42154"),j=a("32392"),g=a("61261"),b=a("15352"),v=a("27233"),C=a("73871"),D=a("96413"),y=a("1190"),S=a("50533"),k=a("72132");function N(){let e=(0,l._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  h4 {\n    color: black;\n  }\n\n  h5 {\n    color: red;\n  }\n\n"]);return N=function(){return e},e}function w(){let e=(0,l._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  border-radius: 50%;\n  border: none;\n  background-color: ",";\n  color: white;\n  font-size: 12px;\n"]);return w=function(){return e},e}function F(){let e=(0,l._)(["\n  ","\n"]);return F=function(){return e},e}let I=f.default.div(N()),Y=f.default.button(w(),m.mainColor),A=f.default.div(F(),(0,h.extrasmall)({width:"97% !important"})),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"};t.default=(0,i.memo)(e=>{let{modalCreate:t,handleCloseModalCreate:a,getNoticeFOrDean:l,putData:f}=e,h=["SIRTQI"],N=(0,S.useSelector)(e=>e.dekanat.dekanat.id),[w,F]=(0,i.useState)(""),[W,O]=(0,i.useState)(h[0]),[_,L]=(0,i.useState)([]),[M,R]=(0,i.useState)([]),[T,P]=(0,i.useState)([]),[B,U]=(0,i.useState)([]),[z,G]=(0,i.useState)([]),[H,q]=(0,i.useState)({fromDate:"",toDate:""}),[V,$]=(0,i.useState)(""),{headers:Q}=(0,m.getHeaders)(),J=()=>{F(""),R([]),U([]),$(""),q({fromDate:"",toDate:""})},K=()=>{a(),J()},X=()=>{if(f){if(f.course&&F(f.course),f.facultyNames&&R(_.filter(e=>f.facultyNames.includes(e.name))),f.educationYear&&z){var e;$(((e=z.find(e=>e.name===f.educationYear))===null||void 0===e?void 0:e.id)||"")}f.fromDate&&f.toDate&&q({fromDate:f.fromDate,toDate:f.toDate})}},Z=e=>{F(e),R([]),U([])},ee=async()=>{await v.default.get(m.BASE_URL+"/education/educationYearsForSelected",{headers:Q}).then(e=>{G(e.data.obj)}).catch(e=>{})},et=()=>{v.default.get(m.BASE_URL+"/faculty/allFacultiesWithShortName").then(e=>{L(e.data.obj)}).catch(e=>{L([])})},ea=(e,t,a)=>{""!==e&&""!==t&&0!==a.length&&v.default.get(m.BASE_URL+"/group/getGroupsByFacultiesIds?course=".concat(e,"&educationType=").concat(t,"&facultiesIds=").concat(a.map(e=>e.id))).then(e=>{P(e.data.obj),(null==f?void 0:f.groupNames)&&U(e.data.obj.filter(e=>f.groupNames.includes(e.name)))}).catch(e=>{P([])})};return(0,i.useEffect)(()=>{et(),ee()},[]),(0,i.useEffect)(()=>{ea(w,W,M)},[w,W,M]),(0,i.useEffect)(()=>{X()},[f]),(0,n.jsx)(r.default,{open:t,onClose:K,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,n.jsxs)(d.default,{sx:E,component:A,children:[(0,n.jsxs)(I,{children:[(0,n.jsx)("h4",{children:" Notice"}),(0,n.jsxs)(Y,{onClick:K,children:[" ",(0,n.jsx)(o.IoClose,{size:22})]})]}),(0,n.jsxs)(d.default,{children:[(0,n.jsxs)(d.default,{sx:{overflowY:"scroll",marginY:3,height:"70vh",display:"flex",flexDirection:"column",gap:3},children:[(0,n.jsxs)(p.default,{fullWidth:!0,sx:{mt:1},children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Years of education"}),(0,n.jsx)(x.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:V,label:"Years of education",onChange:e=>$(e.target.value),children:z.map(e=>(0,n.jsx)(g.default,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},null==e?void 0:e.id))})]}),(0,n.jsxs)(d.default,{display:"flex",gap:3,children:[(0,n.jsxs)(p.default,{fullWidth:!0,children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Course"}),(0,n.jsx)(x.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Course",onChange:e=>Z(e.target.value),children:[1,2,3,4].map(e=>(0,n.jsx)(g.default,{value:e,children:e},e))})]}),(0,n.jsxs)(p.default,{fullWidth:!0,children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Edu type"}),(0,n.jsx)(x.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:W,label:"Edu type",disabled:!0,onChange:e=>O(e.target.value),children:h.map(e=>(0,n.jsx)(g.default,{value:e,children:e},e))})]})]}),(0,n.jsxs)(d.default,{display:"flex",gap:3,children:[(0,n.jsx)(C.LocalizationProvider,{dateAdapter:D.AdapterMoment,children:(0,n.jsx)(y.DatePicker,{label:"Start date",value:H.fromDate,onChange:e=>q(t=>({...t,fromDate:e.$d})),renderInput:e=>(0,n.jsx)(u.TextField,{...e}),shouldDisableDate:e=>e<=new Date})}),(0,n.jsx)(C.LocalizationProvider,{dateAdapter:D.AdapterMoment,children:(0,n.jsx)(y.DatePicker,{label:"End date",value:H.toDate,onChange:e=>q(t=>({...t,toDate:e.$d})),renderInput:e=>(0,n.jsx)(u.TextField,{...e}),shouldDisableDate:e=>e<=new Date})})]}),(0,n.jsx)(s.default,{multiple:!0,id:"faculties-autocomplete",options:_||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.name)||"",renderOption:(e,t,a)=>{let{selected:l}=a;return(0,n.jsxs)("li",{...e,children:[(0,n.jsx)(b.default,{style:{marginRight:8},checked:l}),null==t?void 0:t.name]})},value:M,onChange:(e,t)=>R(t),renderInput:e=>(0,n.jsx)(u.TextField,{...e,label:"Faculties",placeholder:"Select Faculties"})}),(0,n.jsx)(s.default,{multiple:!0,id:"faculties-autocomplete654",options:T||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.name)||"",renderOption:(e,t,a)=>{let{selected:l}=a;return(0,n.jsxs)("li",{...e,children:[(0,n.jsx)(b.default,{style:{marginRight:8},checked:l}),null==t?void 0:t.name]})},value:B,onChange:(e,t)=>U(t),renderInput:e=>(0,n.jsx)(u.TextField,{...e,label:"Groups",placeholder:"Select Faculties"})})]}),(0,n.jsxs)(u.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,n.jsx)(c.default,{variant:"outlined",onClick:K,children:"Cancel"}),(0,n.jsx)(c.default,{variant:"contained",onClick:()=>{if(!w||!W||!M.length||!B.length||!H.fromDate||!H.toDate){k.toast.error("Validation failed. Please fill in all the required fields.");return}let e={dekanatId:N,course:w,educationId:V,facultiesId:M.map(e=>e.id),groupsId:B.map(e=>e.id),fromDate:H.fromDate,toDate:H.toDate};if(f){let t={...e,id:f.id};v.default.put(m.BASE_URL+"/notificationOuter/update",t,{headers:Q}).then(e=>{k.toast.success("Update success"),K(),l()}).catch(e=>{k.toast.error(" Update error")})}else v.default.post(m.BASE_URL+"/notificationOuter/save",e,{headers:Q}).then(e=>{k.toast.success("Success"),K(),l()}).catch(e=>{k.toast.error("Error")})},children:f?"update":"save"})]})]})]})})})},98493:function(e,t,a){"use strict";a.r(t);var l=a("85893");a("67294");var n=a("7104"),i=a("16356"),r=a("30381"),d=a.n(r),o=a("74113"),s=a("63750");t.default=e=>{let{data:t,isLoading:a,setPutData:r,setModalCreate:u}=e,c=e=>{r(e),u(!0)};return(0,l.jsx)(n.Card,{sx:{mt:2},children:(0,l.jsx)(n.CardContent,{children:(0,l.jsx)(i.DataGrid,{columns:[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:.4,field:"educationYear",headerName:"Year",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"dekanat",headerName:"Dean",sortable:!0,align:"center",justifyContent:"center"},{minWidth:80,flex:.3,field:"course",headerName:"Course",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"fromDate",headerName:"From date",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)("p",{children:d()(e.row.fromDate).format("DD.MM.YYYY")})},{minWidth:100,flex:.5,field:"toDate",headerName:"To date",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)("p",{children:d()(e.row.toDate).format("DD.MM.YYYY")})},{minWidth:100,flex:.5,field:"facultyNames",headerName:"Faculty names",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"groupNames",headerName:"Group names",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)(o.default,{onClick:()=>c(e.row),children:(0,l.jsx)(s.BsPencilSquare,{size:20,color:"green"})})}],rows:t||[],loading:a,components:{Toolbar:i.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})})}},45276:function(e,t,a){"use strict";a.r(t);var l=a("58865");a("33948"),a("57640"),a("9924"),a("17727");var n=a("85893"),i=a("67294"),r=a("71893"),d=a("94718"),o=a("26972"),s=a("55693"),u=a("98493"),c=a("27233"),f=a("16393"),h=a("50533"),m=a("7104"),x=a("89589"),p=a("89583"),j=a("39711"),g=a("5434");function b(){let e=(0,l._)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return b=function(){return e},e}let v=r.default.div(b());t.default=()=>{let e="Sirtqi ta'lim"===(0,h.useSelector)(e=>{var t;return(t=e.dekanat.dekanat)===null||void 0===t?void 0:t.name}),[t,a]=(0,i.useState)([]),[l,r]=(0,i.useState)(!1),[b,C]=(0,i.useState)(!1),[D,y]=(0,i.useState)(null),S=(0,j.useNavigate)(),k=()=>{r(!0),c.default.get(f.BASE_URL+"/notificationOuter/getAllOuterNotifications ").then(e=>{var t;a((t=e.data.obj)===null||void 0===t?void 0:t.map((e,t)=>({...e,count:t+1})))}).catch(e=>{}).finally(()=>{r(!1)})};return(0,i.useEffect)(()=>{k()},[]),(0,n.jsxs)(v,{children:[e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.default,{mt:3,display:"flex",justifyContent:"end",gap:5,children:[(0,n.jsx)(d.default,{variant:"contained",endIcon:(0,n.jsx)(g.MdCreateNewFolder,{}),onClick:()=>C(!0),children:"create"}),(0,n.jsx)(d.default,{variant:"contained",color:"inherit",endIcon:(0,n.jsx)(p.FaFileAlt,{}),onClick:()=>S("history"),children:"History"})]}),(0,n.jsx)(u.default,{data:t,isLoading:l,setPutData:y,setModalCreate:C})]}):(0,n.jsx)(m.Card,{sx:{mt:3},children:(0,n.jsx)(m.CardContent,{children:(0,n.jsx)(x.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})}),(0,n.jsx)(o.default,{modalCreate:b,getNoticeFOrDean:k,handleCloseModalCreate:()=>{C(!1),y(null)},putData:D})]})}}}]);