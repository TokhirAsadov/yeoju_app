/*! For license information please see 5213.dbc1a54b.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5213"],{29118:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),a=n("67294"),d=n("97367"),i=n("55693"),r=n("89589"),o=n("52861"),s=n("94718"),c=n("27233"),u=n("16393"),h=n("72132"),x=n("50533");let f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:330,bgcolor:"background.paper",border:"none",outline:"none",borderRadius:"5px",p:2};t.default=e=>{let{open:t,setThemeModal:n,educationYearId:v,groupId:m,subjectId:p,getThemeAll:j}=e,{headers:g}=(0,u.getHeaders)(),b=(0,x.useSelector)(e=>e.dataForUpdateThemeGrade.data),y={name:"",maxGrade:""},[C,S]=(0,a.useState)(y),I=()=>{n(!1),S(y)};return(0,a.useEffect)(()=>{b&&S(b)},[b]),(0,l.jsx)(d.default,{open:t,onClose:I,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(i.default,{sx:f,children:[(0,l.jsx)(r.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add a new theme"}),(0,l.jsxs)(i.default,{children:[(0,l.jsx)(o.default,{value:C.name,required:!0,onChange:e=>S(t=>({...t,name:e.target.value})),sx:{margin:"15px 0"},fullWidth:!0,type:"text",label:"Theme",inputProps:{minLength:4}}),(0,l.jsx)(o.default,{value:C.maxGrade,onChange:e=>S(t=>({...t,maxGrade:e.target.value})),sx:{marginBottom:"15px"},fullWidth:!0,type:"number",label:"Max grade",InputProps:{inputProps:{min:0}}})]}),(0,l.jsxs)(i.default,{sx:{display:"flex",justifyContent:"end",gap:"15px"},children:[(0,l.jsx)(s.default,{variant:"outlined",onClick:I,children:"Cancel"}),(0,l.jsx)(s.default,{type:"submit",onClick:()=>{var e;let t={...C,maxGrade:parseFloat(C.maxGrade),educationYearId:v,groupId:m,subjectId:p};if((null===(e=t.name)||void 0===e?void 0:e.trim())===""||t.maxGrade<=0||""===t.maxGrade||isNaN(t.maxGrade))return h.toast.error("Error");(null==t?void 0:t.id)?c.default.put("".concat(u.BASE_URL,"/themeOfSubjectForGrading/updateTheme"),t,{headers:g}).then(e=>{h.toast.success(e.data.message),j(),I()}).catch(e=>{let t=e.response.data.message;h.toast.error(t)}):c.default.post("".concat(u.BASE_URL,"/themeOfSubjectForGrading/createTheme"),t,{headers:g}).then(e=>{h.toast.success(e.data.message),j(),I()}).catch(e=>{let t=e.response.data.message;h.toast.error(t)})},variant:"contained",children:(null==C?void 0:C.id)?"Update":"Save"})]})]})})}},62750:function(e,t,n){"use strict";n.r(t),n("33948"),n("57640"),n("9924"),n("33792"),n("31672"),n("59461"),n("2490"),n("88449"),n("19894"),n("25387"),n("72608");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("51649"),o=n("27233"),s=n("30381"),c=n.n(s),u=n("16393"),h=n("26178"),x=n("79352"),f=n("28449");let v=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"up",ref:t,...e})}),m=(0,h.createTheme)({components:{MuiTableCell:{styleOverrides:{root:{justifyContent:"center",alignItems:"center",textAlign:"center",border:"1px solid #ccc",padding:"10px"}}}}});t.default=(0,a.memo)(e=>{var t;let{allScoreStudentsModal:n,setAllScoreStudentsModal:d,educationYearId:s,lessonId:p,groupId:j,groupName:g,allStudentData:b}=e,{headers:y}=(0,u.getHeaders)(),[C,S]=(0,a.useState)([]),I=()=>{d(!1)},w=async()=>{if(s&&p&&j)try{let e=await o.default.get("".concat(u.BASE_URL,"/themeOfSubjectForGrading/getTableOfGroup/").concat(s,"/").concat(p,"?groupId=").concat(j),{headers:y});S(e.data.obj)}catch(e){}};(0,a.useEffect)(()=>{n&&w()},[n]);let k=e=>{var t;return parseFloat(null===(t=e||0)||void 0===t?void 0:t.toFixed(3))},D=(e,t)=>{var n,l;let a=null===(n=e.map(e=>e.students))||void 0===n?void 0:n.flat(),d=null===(l=b.find(e=>e.studentId===t))||void 0===l?void 0:l.allGradesForAttendance;return parseFloat((a.filter(e=>e.studentId===t).reduce((e,t)=>e+(Number(t.grade)||0),0)+parseFloat(null==d?void 0:d.toFixed(3))).toFixed(3))||0};return(0,l.jsxs)(i.Dialog,{fullScreen:!0,open:n,onClose:I,TransitionComponent:v,children:[(0,l.jsx)(i.AppBar,{sx:{position:"relative"},children:(0,l.jsxs)(i.Toolbar,{children:[(0,l.jsx)(i.IconButton,{edge:"start",color:"inherit",onClick:I,"aria-label":"close",children:(0,l.jsx)(r.IoMdClose,{})}),(0,l.jsxs)(i.Typography,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Group: ",g||""]}),(0,l.jsx)(f.default,{allStudentsData:b,dataAllScore:C,groupName:g})]})}),(0,l.jsx)(i.Box,{sx:{p:1},children:(0,l.jsx)(h.ThemeProvider,{theme:m,children:(0,l.jsx)(i.TableContainer,{component:i.Paper,children:(0,l.jsxs)(i.Table,{sx:{minWidth:650},"aria-label":"all score",children:[(0,l.jsx)(i.TableHead,{children:(0,l.jsxs)(i.TableRow,{children:[(0,l.jsx)(i.TableCell,{children:(0,l.jsx)("b",{children:"\u2116"})}),(0,l.jsx)(i.TableCell,{children:(0,l.jsx)("b",{children:"FULL NAME "})}),C.map((e,t)=>(0,l.jsx)(i.Tooltip,{title:"max score: ".concat(e.maxGrade),arrow:!0,children:(0,l.jsx)(i.TableCell,{children:(0,l.jsx)("b",{children:e.themeName})})},t)),(0,l.jsx)(i.Tooltip,{title:"max score: ".concat((null===(t=b[0])||void 0===t?void 0:t.maxGradeForAttendance)||0),arrow:!0,children:(0,l.jsxs)(i.TableCell,{sx:{background:"rgba(0,0,0,0.02)"},children:[(0,l.jsx)("b",{children:"ATTENDANCE"})," "]})}),(0,l.jsxs)(i.TableCell,{sx:{background:"rgba(0,0,0,0.08)"},children:[(0,l.jsx)("b",{children:"TOTAL"})," "]})]})}),(0,l.jsx)(i.TableBody,{children:b.map((e,t)=>(0,l.jsxs)(i.TableRow,{children:[(0,l.jsx)(i.TableCell,{component:"th",scope:"row",children:t+1}),(0,l.jsx)(i.TableCell,{sx:{textAlign:"start"},children:e.fullName}),C.map((t,n)=>{let a=t.students.find(t=>t.studentId===e.studentId);return(0,l.jsx)(i.Tooltip,{title:a&&"".concat(c()(a.time).format("DD.MM.YYYY HH:mm")),arrow:!0,children:(0,l.jsx)(i.TableCell,{children:a?k(a.grade):(0,l.jsx)(x.RiCloseCircleFill,{color:"red",size:17})})},n)}),(0,l.jsx)(i.TableCell,{sx:{background:"rgba(0,0,0,0.02)"},children:(null==e?void 0:e.allGradesForAttendance)||0}),(0,l.jsx)(i.TableCell,{sx:{background:"rgba(0,0,0,0.08)"},children:D(C,null==e?void 0:e.studentId)})]},t))})]})})})})]})})},28449:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924"),n("33792"),n("31672"),n("59461"),n("2490"),n("88449"),n("19894"),n("25387"),n("72608"),n("33948"),n("15581"),n("34514"),n("57658");var l=n("85893");n("67294");var a=n("94718"),d=n("37595");t.default=e=>{let{allStudentsData:t,dataAllScore:n,groupName:i}=e,r=e=>{var t;return parseFloat(null===(t=e||0)||void 0===t?void 0:t.toFixed(3))},o=(e,n)=>{var l,a;let d=null===(l=e.map(e=>e.students))||void 0===l?void 0:l.flat(),i=null===(a=t.find(e=>e.studentId===n))||void 0===a?void 0:a.allGradesForAttendance;return parseFloat((d.filter(e=>e.studentId===n).reduce((e,t)=>e+(Number(t.grade)||0),0)+parseFloat(null==i?void 0:i.toFixed(3))).toFixed(3))},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(i,".xlsx"),l=["\u2116","Full name",...e.map(e=>e.themeName),"ATTENDANCE","Total"],a=[[i],l,...t.map((t,n)=>{let l=[n+1,t.fullName];return e.forEach(e=>{let n=e.students.find(e=>e.studentId===t.studentId);l.push(n?r(n.grade):"N/A")}),l.push((null==t?void 0:t.allGradesForAttendance)?r(null==t?void 0:t.allGradesForAttendance):0),l.push(o(e,t.studentId)),l})],s=d.utils.aoa_to_sheet(a),c=d.utils.book_new();d.utils.book_append_sheet(c,s,"Scores"),d.writeFile(c,n)};return(0,l.jsx)(a.default,{variant:"outlined",color:"inherit",onClick:()=>s(n,t),children:"export"})}},69923:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("57658"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("55693"),r=n("94718"),o=n("45155"),s=n("30381"),c=n.n(s),u=n("71893"),h=n("16393"),x=n("37595"),f=n("50533"),v=n("19092"),m=n("78258"),p=n("45201"),j=n("60141"),g=n("92690"),b=n("84493");function y(){let e=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow: scroll;\n    height: 64vh;\n\n    table {\n        min-width: 1500px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return y=function(){return e},e}let C=u.default.div(y(),h.mainColor),S={border:"none",outline:"none",background:"transparent"},I={width:"40px!important",height:"40px!important",fontSize:"24px"};t.default=(0,d.memo)(function(e){var t,n;let{groups:l,lessons:s,groupSelect:u,scien:y}=e,{headers:w}=(0,h.getHeaders)(),[k,D]=(0,d.useState)(new Date),[A,T]=(0,d.useState)([]),F=(0,f.useDispatch)(),[Y,M]=(0,d.useState)(!1),E=(0,f.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear})||null,G=(0,f.useSelector)(e=>e.AllNbStudentForTeacher.data),N=(0,f.useSelector)(e=>e.AllNbStudentForTeacher.isLoading);(0,f.useSelector)(e=>e.AllNbStudentForTeacher.isError);let[H,_]=(0,d.useState)(null),z=null==s?void 0:null===(t=s.find(e=>(null==e?void 0:e.name)===y))||void 0===t?void 0:t.id,R=null==l?void 0:null===(n=l.find(e=>(null==e?void 0:e.name)===u))||void 0===n?void 0:n.id,B=(0,f.useSelector)(e=>e.hourSection),O={eduId:null==E?void 0:E.id,groupId:R,subjectId:z,hours:B,headers:(0,h.getHeaders)()},L=()=>{M(!0)};return(0,d.useEffect)(()=>{T(()=>Array.from(Array(c()(k).daysInMonth()).keys()).map(e=>e+1))},[k]),(0,d.useEffect)(()=>{F((0,g.getAllStudentData)(O))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{sx:{display:"flex",justifyContent:"center"},children:(0,a.jsxs)(r.default,{sx:{display:"flex",justifyContent:"center",gap:1,alignItems:"center",backgroundColor:"#fcfafa"},children:[(0,a.jsx)("div",{style:I,onClick:()=>{D(new Date(k.getFullYear(),k.getMonth()-1))},children:(0,a.jsx)(o.GrFormPrevious,{})}),(0,a.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:c()(k).format("YYYY-MM"),onChange:e=>D(new Date(e.target.value)),style:S,lang:"en"}),(0,a.jsx)("div",{style:I,onClick:()=>{D(new Date(k.getFullYear(),k.getMonth()+1))},children:(0,a.jsx)(o.GrFormNext,{})})]})}),(0,a.jsxs)(C,{children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:(0,a.jsx)("p",{children:"Full name"})}),A.map(e=>(0,a.jsx)("th",{children:e},e)),(0,a.jsx)("th",{children:"\u2211"})]})}),(0,a.jsx)("tbody",{children:!N&&(null==G?void 0:G.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,a.jsx)("td",{children:null==e?void 0:e.fullName}),A.map((t,n)=>new Date(k.getFullYear(),k.getMonth(),t)<=new Date?(0,a.jsx)(v.default,{openModal:L,setDataForAttendance:_,data:e,day:t,time:k},n):(0,a.jsx)("td",{},n)),(0,a.jsx)("td",{children:null==e?void 0:e.subjectNb})]},t)))})]}),N&&(0,a.jsx)(i.default,{sx:{width:"100%",marginTop:"20px"},children:(0,a.jsx)(m.default,{})})]}),(0,a.jsx)(b.default,{exportToExcel:()=>{let e=[],t=["\u2116","Full name",...A,"total"];e.push(t),G.map((t,n)=>{let l=[n+1,t.fullName,...A.map(e=>{var n;return new Date(k.getFullYear(),k.getMonth(),e)<=new Date?Array.isArray(n=(0,p.default)({data:t,day:e,time:k}))?n.join(","):"":""}),null==t?void 0:t.subjectNb];e.push(l)});let n=x.utils.book_new(),l=x.utils.aoa_to_sheet(e);x.utils.book_append_sheet(n,l,"StudentsData"),x.writeFile(n,"students_data.xlsx")},confData:O,dataStudents:G}),(0,a.jsx)(j.default,{open:Y,handleCloseModal:()=>{M(!1),_(null)},dataForAttendance:H,eduId:null==E?void 0:E.id,subjectId:z,groupId:R})]})})},77929:function(e,t,n){"use strict";n.r(t),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n("7104"),i=n("30381"),r=n.n(i),o=n("26178"),s=n("51649"),c=n("53432");let u=(0,o.createTheme)({components:{MuiTableCell:{styleOverrides:{root:{justifyContent:"center",alignItems:"center",textAlign:"center",border:"1px solid #ccc",padding:"8px"}}}}});t.default=(0,a.memo)(e=>{let{data:t,load:n}=e,a=(e,t,n)=>r()().year(e).isoWeek(t).day(n),i=(e,t)=>{if(r()(t).valueOf()>r()().valueOf())return"";if(0===e.length)return(0,l.jsx)(s.IoIosCloseCircle,{size:23,color:"#ff0000"});{let t=e.find(e=>"DYNAMIC"===e.type);return t?t.isCome?(0,l.jsx)(s.IoIosCheckmarkCircle,{size:23,color:"#caca00"}):(0,l.jsx)(s.IoIosCloseCircle,{size:23,color:"#caca00"}):(0,l.jsx)(s.IoIosCheckmarkCircle,{size:23,color:"#008000"})}};return(0,l.jsx)(o.ThemeProvider,{theme:u,children:(0,l.jsxs)(d.TableContainer,{component:d.Paper,sx:{maxHeight:300},children:[(0,l.jsxs)(d.Table,{stickyHeader:!0,sx:{minWidth:300},children:[(0,l.jsx)(d.TableHead,{children:(0,l.jsxs)(d.TableRow,{children:[(0,l.jsx)(d.TableCell,{children:(0,l.jsx)("b",{children:"\u2116"})}),(0,l.jsx)(d.TableCell,{children:(0,l.jsx)("b",{children:"Date "})}),(0,l.jsx)(d.TableCell,{children:(0,l.jsx)("b",{children:"Section "})}),(0,l.jsx)(d.TableCell,{children:(0,l.jsx)("b",{children:"Room"})}),(0,l.jsx)(d.TableCell,{children:(0,l.jsx)("b",{children:"Attendance"})})]})}),(0,l.jsx)(d.TableBody,{children:!n&&(null==t?void 0:t.length)!==0&&t.map((e,t)=>(0,l.jsxs)(d.TableRow,{children:[(0,l.jsx)(d.TableCell,{children:t+1}),(0,l.jsx)(d.TableCell,{children:a(e.year,e.week,e.day).format("DD.MM.YYYY")}),(0,l.jsx)(d.TableCell,{children:null==e?void 0:e.section}),(0,l.jsx)(d.TableCell,{children:null==e?void 0:e.room}),(0,l.jsx)(d.TableCell,{children:i(null==e?void 0:e.statistics,a(e.year,e.week,e.day))})]},t))})]}),n&&(0,l.jsx)(c.default,{})]})})})},48653:function(e,t,n){"use strict";n.r(t),n("33948"),n("31672"),n("59461"),n("2490");var l=n("85893"),a=n("67294"),d=n("7104"),i=n("55693"),r=n("94718"),o=n("51649"),s=n("70231"),c=n("50533"),u=n("76302");t.default=(0,a.memo)(function(e){let{anchorEl:t,open:n,handleClose:h,data:x}=e,[f,v]=(0,a.useState)(null),m=(0,c.useSelector)(e=>e.attendanceForJournal),p=(0,c.useDispatch)(),j=()=>{h(),v(null)},g=()=>{let e=null==m?void 0:m.attendances.find(e=>(null==e?void 0:e.studentId)===(null==x?void 0:x.studentId)&&(null==e?void 0:e.section)===(null==x?void 0:x.section));return e?e.isCome:null};return(0,a.useEffect)(()=>{v(g)},[x,m]),(0,l.jsx)(d.Menu,{anchorEl:t,id:"account-menu",open:n,onClose:j,onClick:j,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:40,height:40},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:75,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"},children:(0,l.jsxs)(i.default,{sx:{display:"flex",gap:2,justifyContent:"center",p:1},children:[(0,l.jsx)(r.default,{disabled:!(null==x?void 0:x.isComeData),size:"small",onClick:()=>{v(e=>"boolean"==typeof e?(p((0,u.changeAttendance)({...x,isCome:null})),null):(p((0,u.changeAttendance)({...x,isCome:!1})),!1))},variant:null==f?"outlined":f?"outlined":"contained",color:"error",children:(0,l.jsx)(o.IoMdClose,{size:20})}),(0,l.jsx)(r.default,{disabled:null==x?void 0:x.isComeData,size:"small",onClick:()=>{v(e=>"boolean"==typeof e?(p((0,u.changeAttendance)({...x,isCome:null})),null):(p((0,u.changeAttendance)({...x,isCome:!0})),!1))},variant:null==f?"outlined":f?"contained":"outlined",color:"success",children:(0,l.jsx)(s.FaCheck,{size:20})})]})})})},78214:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("33948"),n("31672"),n("59461");var a=n("85893"),d=n("67294"),i=n("71893"),r=n("55693"),o=n("3506"),s=n("8193"),c=n("30381"),u=n.n(c),h=n("7104"),x=n("50533");function f(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]);return f=function(){return e},e}let v=i.default.div(f(),e=>e.color?e.color:"#000");t.default=(0,d.memo)(e=>{let{data:t,loadForCalendar:n,handleMenuAttClick:l,setDataForChangeAttendance:d,data2:i}=e,c=(0,x.useSelector)(e=>e.attendanceForJournal),f=(e,t,n)=>{let l=c.attendances.find(e=>e.studentId===t&&e.section===n);if(l)return l.isCome;{if((null==e?void 0:e.length)===0)return!1;let t=e.find(e=>"DYNAMIC"===e.type);return!t||t.isCome}},m=(e,t)=>{if(e){var n,l;let e=null==t?void 0:null===(n=t.statistics)||void 0===n?void 0:n.find(e=>"DYNAMIC"===e.type);return e?(0,a.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,a.jsxs)("p",{children:["section-",null==e?void 0:e.section]}),(0,a.jsx)("p",{children:null==t?void 0:t.room}),(0,a.jsx)("p",{children:u()(e.time).format("HH:mm")})]}):(0,a.jsxs)(r.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,a.jsxs)("p",{children:["section-",null===(l=t.statistics[0])||void 0===l?void 0:l.section]}),(0,a.jsx)("p",{children:null==t?void 0:t.room}),(0,a.jsx)("p",{children:u()(function(e){let t=e.filter(e=>e.hasOwnProperty("time"));return 0===t.length?null:Math.min(...t.map(e=>e.time))}(null==t?void 0:t.statistics)).format("HH:mm")})]})}return""},p=(e,t,n)=>{var a,r;l(e),d({id:(null==t?void 0:null===(r=t.statistics)||void 0===r?void 0:null===(a=r.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===a?void 0:a.nameId)||null,year:t.year,week:t.week,day:t.day,studentId:t.studentId,subjectId:i.subjectId,educationId:i.educationId,groupId:i.groupId,room:t.room,section:t.section,isComeData:n})};return(0,a.jsx)(r.default,{sx:{display:"flex",alignItems:"center"},children:n?(0,a.jsx)(h.Skeleton,{width:60,height:50,sx:{margin:"0 auto"}}):null==t?void 0:t.map((e,t)=>(0,a.jsx)(o.default,{TransitionComponent:h.Zoom,title:m(f(null==e?void 0:e.statistics),e),arrow:!0,placement:"right",children:(0,a.jsx)(v,{onClick:t=>p(t,e,f(null==e?void 0:e.statistics)),color:f(null==e?void 0:e.statistics,e.studentId,e.section)?"green":"red",children:f(null==e?void 0:e.statistics,e.studentId,e.section)?(0,a.jsx)(s.AiFillCheckCircle,{size:22}):(0,a.jsx)(s.AiFillCloseCircle,{size:22})})},t))})})},69376:function(e,t,n){"use strict";n.r(t),n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("21703"),n("33948");var l=n("85893"),a=n("55693"),d=n("94718"),i=n("50533"),r=n("76302"),o=n("84110"),s=n("27233"),c=n("16393"),u=n("72132");t.default=e=>{let{fetchCoreDataStudents:t,handleCloseCalendarHeader:n}=e,{headers:h}=(0,c.getHeaders)(),x=(0,i.useSelector)(e=>e.attendanceForJournal),f=(0,i.useDispatch)();return x.attendances.length>0&&(0,l.jsx)(a.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,l.jsxs)(a.default,{sx:{display:"flex",gap:2},children:[(0,l.jsx)(d.default,{variant:"contained",color:"error",onClick:()=>{f((0,r.resetData)()),f((0,o.resetDataScore)())},children:"Don't Save"}),(0,l.jsx)(d.default,{variant:"contained",onClick:()=>{var e,l;let a={...x,attendances:null==x?void 0:x.attendances.filter(e=>null===e.id)},d=null==x?void 0:null===(l=x.attendances)||void 0===l?void 0:null===(e=l.filter(e=>(null==e?void 0:e.id)!==null))||void 0===e?void 0:e.map(e=>({id:null==e?void 0:e.id,isCome:null==e?void 0:e.isCome})),i="",r="",o=a.attendances.length>0?s.default.post("".concat(c.BASE_URL,"/dynamicAttendance/createMultiDynamicAttendance2"),a,{headers:h}).then(e=>{200===e.status&&(i+="Attendance created successfully. ")}).catch(e=>{throw Error("Failed to create attendance.")}):Promise.resolve();Promise.all([o,(null==d?void 0:d.length)>0?s.default.put("".concat(c.BASE_URL,"/dynamicAttendance/updateMultiDynamicAttendance"),d,{headers:h}).then(e=>{200===e.status&&(r+="Attendance updated successfully. ")}).catch(e=>{throw Error("Failed to update attendance.")}):Promise.resolve()]).then(()=>{u.toast.success("Successfully"),t(),n()}).catch(e=>{u.toast.error(e.message)})},children:"Save"})]})})}},33426:function(e,t,n){"use strict";n.r(t),n("68216"),n("79433"),n("2490"),n("88449"),n("19894"),n("57640"),n("9924"),n("57658"),n("33948");var l=n("85893"),a=n("67294"),d=n("50533"),i=n("55693"),r=n("94718"),o=n("84110"),s=n("72132"),c=n("27233"),u=n("16393");t.default=(0,a.memo)(e=>{let{setBtnToggle2:t,fetchCoreDataStudents:n}=e,{headers:a}=(0,u.getHeaders)(),h=(0,d.useSelector)(e=>e.dataScoreMultipart),x=(0,d.useDispatch)(),f=()=>{t(!1),x((0,o.resetDataScore)())};return h.grades.length>0&&(0,l.jsx)(i.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,l.jsxs)(i.default,{sx:{display:"flex",gap:2},children:[(0,l.jsx)(r.default,{variant:"contained",color:"error",onClick:f,children:"Don't Save"}),(0,l.jsx)(r.default,{variant:"contained",onClick:()=>{let{themeId:e,maxGrade:t,grades:l}=h;if(null!==e&&null!==t){if(l.every(e=>e.grade>=0&&e.grade<=t)){let e={...h,time:new Date().getTime(),grades:l.filter(e=>null===e.gradeId)},t=l.filter(e=>null!==e.gradeId).map(e=>({id:e.gradeId,grade:e.grade})),d=[];e.grades.length>0&&d.push(c.default.post("".concat(u.BASE_URL,"/themeOfSubjectForGrading/createThemeWithGrade"),e,{headers:a})),t.length>0&&d.push(c.default.put("".concat(u.BASE_URL,"/gradeOfStudentByTeacher/multipleUpdate"),t,{headers:a})),Promise.all(d).then(e=>{s.toast.success("Saved successfully"),n(),f()}).catch(e=>{var t,n;s.toast.error((null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"An error occurred")})}else s.toast.warning("Grade must be between 0 and ".concat(t||6))}else s.toast.warning("Error description field")},children:"Save Points"})]})})})},90425:function(e,t,n){"use strict";n.r(t),n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n("50533"),i=n("84110"),r=n("42154"),o=n("32392"),s=n("44025"),c=n("61261"),u=n("55693"),h=n("7104"),x=n("74113"),f=n("69274"),v=n("39045"),m=n("3506"),p=n("94718"),j=n("5434"),g=n("16393"),b=n("27233"),y=n("72132");t.default=(0,a.memo)(e=>{let{setThemeModal:t,allThemeData:n,getThemeAll:C,educationId:S,subjectId:I,groupId:w}=e,[k,D]=(0,a.useState)(""),[A,T]=(0,a.useState)(!1),F=(0,d.useDispatch)();(0,d.useSelector)(e=>e.dataScoreMultipart),(0,a.useEffect)(()=>{if(n.length>0){let e=n[0];D(e.id),Y(e.id,e.maxGrade)}},[n]);let Y=(e,t)=>{b.default.get("".concat(g.BASE_URL,"/themeOfSubjectForGrading/getGradesByThemeId/").concat(e),(0,g.getHeaders)()).then(n=>{F((0,i.changeThemeStudent)({id:e,maxGrade:t,gradesTheme:n.data.obj,educationId:S,subjectId:I,groupId:w}))}).catch(e=>{var t,n;y.toast.error((null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Error")})},M=e=>{F((0,v.saveData)(e)),t(!0)},E=e=>{b.default.delete("".concat(g.BASE_URL,"/themeOfSubjectForGrading/deleteTheme/").concat(e.id),(0,g.getHeaders)()).then(e=>{y.toast.warning("Deleted"),C()}).catch(e=>{var t,n;y.toast.error((null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Error")})};return(0,l.jsxs)(u.default,{sx:{display:"grid",gridTemplateColumns:"1fr 62px",width:290,margin:"0 auto"},children:[(0,l.jsxs)(r.default,{fullWidth:!0,size:"small",children:[(0,l.jsx)(o.default,{id:"theme-label",children:"Theme"}),(0,l.jsx)(s.default,{labelId:"theme-label",open:A,onOpen:()=>T(!0),onClose:()=>T(!1),value:k,onChange:e=>{let t=e.target.value;D(t);let l=n.find(e=>e.id===t);l&&Y(t,l.maxGrade)},label:"Theme",sx:{borderRadius:"4px 0 0 4px"},children:n.map((e,t)=>(0,l.jsx)(c.default,{value:e.id,children:(0,l.jsxs)(u.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"5px"},children:[(0,l.jsx)(h.ListItemText,{primary:"".concat(e.name,", max grade: ").concat(e.maxGrade)}),A&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.default,{onClick:()=>M(e),size:"small",children:(0,l.jsx)(f.HiMiniPencilSquare,{})}),(0,l.jsx)(x.default,{onClick:()=>E(e),size:"small",children:(0,l.jsx)(j.MdDelete,{})})]})]})},t))})]}),(0,l.jsx)(m.default,{title:"Add a new theme",arrow:!0,children:(0,l.jsx)(p.default,{onClick:()=>t(!0),sx:{width:35,height:"100%",borderRadius:"0 4px 4px 0"},variant:"outlined",children:(0,l.jsx)(j.MdOutlineAdd,{size:20})})})]})})},49018:function(e,t,n){"use strict";n.r(t),n("33948"),n("33792"),n("88449"),n("19894"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("94718"),o=n("55693"),s=n("51649"),c=n("70231"),u=n("30381"),h=n.n(u),x=n("27233"),f=n("16393"),v=n("42154"),m=n("32392"),p=n("44025"),j=n("61261"),g=n("50533"),b=n("76302");let y=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"down",ref:t,...e})});t.default=(0,a.memo)(e=>{let{open:t,handleClose:n,data3:d}=e,[u,C]=(0,a.useState)(null),[S,I]=(0,a.useState)([]),[w,k]=(0,a.useState)(""),{headers:D}=(0,f.getHeaders)(),A=h()(),T=(0,g.useDispatch)(),F=(e,t,n,l,a,d)=>{x.default.get("".concat(f.BASE_URL,"/groupConnect/getSectionsAndRooms/").concat(e,"/").concat(t,"?subjectId=").concat(n,"&year=").concat(l,"&week=").concat(a,"&day=").concat(d),{headers:D}).then(e=>{var t,n;I(e.data[0]),k("".concat(null===(t=e.data[0][0])||void 0===t?void 0:t.room,";").concat(null===(n=e.data[0][0])||void 0===n?void 0:n.section))}).catch(e=>{I([])})},Y=()=>{n(),C(null)},M=(e,t,n,l)=>l?e.flat().filter(e=>{var a,d;return e.section===+t&&e.room===n&&(0===e.statistics.length||(null===(d=e.statistics)||void 0===d?void 0:null===(a=d.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===a?void 0:a.isCome)!==l)}).map(e=>{var t;return{id:(null===(t=e.statistics.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===t?void 0:t.nameId)||null,studentId:e.studentId,room:e.room,section:e.section,isCome:l}}):e.flat().filter(e=>{var a,d;return e.section===+t&&e.room===n&&e.statistics.length>0&&(null===(d=e.statistics)||void 0===d?void 0:null===(a=d.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===a?void 0:a.isCome)!==l}).map(e=>{var t;return{id:(null===(t=e.statistics.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===t?void 0:t.nameId)||null,studentId:e.studentId,room:e.room,section:e.section,isCome:l}});return(0,a.useEffect)(()=>{var e,t,n;d.length>0&&F(null===(e=d[0])||void 0===e?void 0:e.educationId,null===(t=d[0])||void 0===t?void 0:t.groupId,null===(n=d[0])||void 0===n?void 0:n.subjectId,A.year(),A.week(),A.day())},[d]),(0,l.jsxs)(i.Dialog,{open:t,TransitionComponent:y,keepMounted:!0,onClose:Y,children:[(0,l.jsx)(i.DialogTitle,{sx:{pb:0},children:"All"}),(0,l.jsxs)(i.DialogContent,{sx:{width:320},children:[(0,l.jsxs)(v.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,l.jsx)(m.default,{id:"demo-simple-select-label",children:"Section"}),(0,l.jsx)(p.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Section",onChange:e=>k(e.target.value),children:null==S?void 0:S.map((e,t)=>(0,l.jsxs)(j.default,{value:(null==e?void 0:e.room)+";"+(null==e?void 0:e.section),children:[null==e?void 0:e.room,"; ",null==e?void 0:e.section,"-section"]},t))})]}),(0,l.jsxs)(o.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:3},children:[(0,l.jsx)(r.default,{onClick:()=>{let[e,t]=w.split(";");C(()=>{let n={year:null==A?void 0:A.year(),week:null==A?void 0:A.week(),weekday:null==A?void 0:A.day(),groupId:d[0].groupId,subjectId:d[0].subjectId,attData:M(null==d?void 0:d.map(e=>e.subjects),t,e,!1)};return T((0,b.changeAttendanceAll)({...n})),!1}),Y()},variant:null==u?"outlined":u?"outlined":"contained",color:"error",children:(0,l.jsx)(s.IoMdClose,{size:25})}),(0,l.jsx)(r.default,{onClick:()=>{let[e,t]=w.split(";");C(()=>{let n={year:null==A?void 0:A.year(),week:null==A?void 0:A.week(),weekday:null==A?void 0:A.day(),groupId:d[0].groupId,subjectId:d[0].subjectId,attData:M(null==d?void 0:d.map(e=>e.subjects),t,e,!0)};return T((0,b.changeAttendanceAll)({...n})),!0}),Y()},variant:null==u?"outlined":u?"contained":"outlined",color:"success",children:(0,l.jsx)(c.FaCheck,{size:25})}),(0,l.jsx)(r.default,{onClick:()=>{T((0,b.resetData)()),Y()},variant:"contained",children:"reset"})]})]})]})})},60141:function(e,t,n){"use strict";n.r(t),n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("42154"),o=n("32392"),s=n("44025"),c=n("61261"),u=n("55693"),h=n("94718"),x=n("51649"),f=n("70231"),v=n("16393"),m=n("30381"),p=n.n(m),j=n("27233"),g=n("50533"),b=n("14599");let y=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"down",ref:t,...e})});t.default=(0,a.memo)(e=>{let{dataForAttendance:t,groupId:n,subjectId:d,eduId:m,open:C,handleCloseModal:S}=e,[I,w]=(0,a.useState)(null),[k,D]=(0,a.useState)([]),[A,T]=(0,a.useState)(""),{headers:F}=(0,v.getHeaders)(),Y=(0,g.useDispatch)(),[M,E]=(0,a.useState)(!1),[G,N]=(0,a.useState)(null),H=(0,g.useSelector)(e=>{var t,n;return null===(n=e.AllNbStudentForTeacher)||void 0===n?void 0:null===(t=n.dataAttendance)||void 0===t?void 0:t.attendances})||[],_=(0,g.useSelector)(e=>{var t;return null===(t=e.AllNbStudentForTeacher)||void 0===t?void 0:t.data})||[],z=()=>{w(null),S()},R=(e,n,l,a,d,i)=>{j.default.get("".concat(v.BASE_URL,"/groupConnect/getSectionsAndRooms/").concat(e,"/").concat(n,"?subjectId=").concat(l,"&year=").concat(a,"&week=").concat(d,"&day=").concat(i),{headers:F}).then(e=>{var n,l;D(e.data[0]),T((null===(n=t[0])||void 0===n?void 0:n.room)+";"+(null===(l=t[0])||void 0===l?void 0:l.section))}).catch(e=>{D([])})},B=e=>{if(e&&t&&t.length>0){var n,l,a,d,i;let r=null==t?void 0:null===(n=t.find(t=>(null==t?void 0:t.section)===+e))||void 0===n?void 0:n.statistics,o=null==_?void 0:null===(d=_.find(e=>{var n;return(null==e?void 0:e.studentId)===(null===(n=t[0])||void 0===n?void 0:n.studentId)}))||void 0===d?void 0:null===(a=d.subjects)||void 0===a?void 0:null===(l=a.find(n=>{var l,a,d;return(null==n?void 0:n.day)===(null===(l=t[0])||void 0===l?void 0:l.day)&&(null==n?void 0:n.week)===(null===(a=t[0])||void 0===a?void 0:a.week)&&(null==n?void 0:n.year)===(null===(d=t[0])||void 0===d?void 0:d.year)&&(null==n?void 0:n.section)===+e}))||void 0===l?void 0:l.statistics;N((null==r?void 0:null===(i=r.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===i?void 0:i.nameId)||null),E(()=>{var e;let t=null==o?void 0:null===(e=o.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===e?void 0:e.isCome;if(t)return!0;if(null===t)return null;if(void 0===t)return!!((null==o?void 0:o.length)>0)||!1}),w(()=>{var n;let l=null==H?void 0:null===(n=H.find(n=>{var l;return(null==n?void 0:n.studentId)===(null===(l=t[0])||void 0===l?void 0:l.studentId)&&(null==n?void 0:n.section)===+e}))||void 0===n?void 0:n.isCome;return"boolean"==typeof l?l:null})}};return(0,a.useEffect)(()=>{B(null==A?void 0:A.split(";")[1])},[A]),(0,a.useEffect)(()=>{var e,l,a;t&&R(m,n,d,null===(e=t[0])||void 0===e?void 0:e.year,null===(l=t[0])||void 0===l?void 0:l.week,null===(a=t[0])||void 0===a?void 0:a.day),B(null==A?void 0:A.split(";")[1])},[t]),(0,l.jsxs)(i.Dialog,{open:C,TransitionComponent:y,keepMounted:!0,onClose:z,children:[(0,l.jsxs)(i.DialogTitle,{sx:{pb:0},children:["Attendance ",t&&p()().day(t[0].day).week(t[0].week).year(t[0].year).format("DD.MM.YYYY")]}),(0,l.jsxs)(i.DialogContent,{sx:{width:320},children:[(0,l.jsxs)(r.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,l.jsx)(o.default,{id:"demo-simple-select-label",children:"Section"}),(0,l.jsx)(s.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,label:"Section",onChange:e=>{T(e.target.value),w(null)},children:null==k?void 0:k.map((e,t)=>(0,l.jsxs)(c.default,{value:(null==e?void 0:e.room)+";"+(null==e?void 0:e.section),children:[null==e?void 0:e.room,"; ",null==e?void 0:e.section,"-section"]},t))})]}),(0,l.jsxs)(u.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:3},children:[(0,l.jsx)(h.default,{onClick:()=>{var e,n,l,a,d,i,r,o;let[s,c]=A.split(";"),u=G?{id:G,type:"DYNAMIC",year:null===(e=t[0])||void 0===e?void 0:e.year,week:null===(n=t[0])||void 0===n?void 0:n.week,day:null===(l=t[0])||void 0===l?void 0:l.day,section:parseFloat(c),studentId:null===(a=t[0])||void 0===a?void 0:a.studentId,room:s}:{id:null,type:"DYNAMIC",year:null===(d=t[0])||void 0===d?void 0:d.year,week:null===(i=t[0])||void 0===i?void 0:i.week,day:null===(r=t[0])||void 0===r?void 0:r.day,section:parseFloat(c),studentId:null===(o=t[0])||void 0===o?void 0:o.studentId,room:s};w(e=>"boolean"==typeof e?(Y((0,b.changeAttendance2)({...u,isCome:null})),null):(Y((0,b.changeAttendance2)({...u,isCome:!1})),!1)),z()},variant:null==I?"outlined":I?"outlined":"contained",color:"error",children:(0,l.jsx)(x.IoMdClose,{size:25})}),(0,l.jsx)(h.default,{onClick:()=>{var e,n,l,a,d,i,r,o;let[s,c]=A.split(";"),u=G?{id:G,type:"DYNAMIC",year:null===(e=t[0])||void 0===e?void 0:e.year,week:null===(n=t[0])||void 0===n?void 0:n.week,day:null===(l=t[0])||void 0===l?void 0:l.day,section:parseFloat(c),studentId:null===(a=t[0])||void 0===a?void 0:a.studentId,room:s}:{id:null,type:"DYNAMIC",year:null===(d=t[0])||void 0===d?void 0:d.year,week:null===(i=t[0])||void 0===i?void 0:i.week,day:null===(r=t[0])||void 0===r?void 0:r.day,section:parseFloat(c),studentId:null===(o=t[0])||void 0===o?void 0:o.studentId,room:s};w(e=>"boolean"==typeof e?(Y((0,b.changeAttendance2)({...u,isCome:null})),null):(Y((0,b.changeAttendance2)({...u,isCome:!0})),!0)),z()},variant:null==I?"outlined":I?"contained":"outlined",color:"success",children:(0,l.jsx)(f.FaCheck,{size:25})})]})]}),(0,l.jsx)(i.DialogActions,{children:(0,l.jsx)(h.default,{variant:"outlined",onClick:z,children:"cancel"})})]})})},90122:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("88921"),n("96248"),n("13599"),n("27561"),n("11477"),n("64362"),n("15389"),n("90401"),n("3440"),n("45164"),n("66244"),n("91238"),n("89772"),n("54837"),n("88910"),n("87485"),n("56767"),n("76651"),n("61437"),n("35285"),n("63252"),n("39865"),n("17454"),n("57640"),n("9924"),n("88449"),n("19894");var a=n("85893"),d=n("67294"),i=n.n(d),r=n("71893"),o=n("16393"),s=n("57024"),c=n("8193"),u=n("30381"),h=n.n(u),x=n("94718"),f=n("7104"),v=n("52861"),m=n("50533"),p=n("53854"),j=n("74113"),g=n("27233"),b=n("97367"),y=n("55693"),C=n("60155"),S=n("89589"),I=n("72132"),w=n("3506"),k=n("51649"),D=n("92037"),A=n("60023"),T=n("66508"),F=n("61261"),Y=n("5434"),M=n("69274"),E=n("44025"),G=n("42154"),N=n("32392"),H=n("39045"),_=n("89583"),z=n("57273");function R(){let e=(0,l._)(["\n    ","\n"]);return R=function(){return e},e}function B(){let e=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return B=function(){return e},e}function O(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return O=function(){return e},e}function L(){let e=(0,l._)(["\n\n"]);return L=function(){return e},e}function U(){let e=(0,l._)(["\n    width: 400px;\n    margin-top: 10px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n    ","\n"]);return U=function(){return e},e}function P(){let e=(0,l._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 12px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .score {\n        &:hover {\n            opacity: 0.7;\n            cursor: pointer;\n        }\n    }\n"]);return P=function(){return e},e}function W(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 20px;\n\n    h4 {\n        font-size: 18px;\n        color: ",";\n        font-weight: bold;\n\n    }\n\n    ","\n"]);return W=function(){return e},e}function q(){let e=(0,l._)(["\n\n"]);return q=function(){return e},e}let V={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},K=r.default.div(R(),(0,s.extrasmall)({width:"95% !important"})),J=r.default.button(B(),o.mainColor),Z=r.default.div(O()),Q=r.default.div(L()),X=r.default.div(U(),(0,s.extrasmall)({width:"300px !important"})),$=r.default.div(P(),o.mainColor),ee=r.default.div(W(),o.mainColor,(0,s.extrasmall)({justifyContent:"center"})),et=r.default.div(q());t.default=(0,d.memo)(e=>{let{oneSciencesScore:t,fetchCoreDataStudents:n,allThemeData:l,setThemeModal:r,getThemeAll:s}=e,{subjectId:u,studentId:R,groupId:B,fullName:O,allGradesForAttendance:L,gradeForAttendance:U}=t,{id:P}=(0,m.useSelector)(e=>e.teacher.teacher),W=(0,m.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear}),[q,en]=i().useState(!1),[el,ea]=(0,d.useState)(!1),[ed,ei]=(0,d.useState)(!1),[er,eo]=(0,d.useState)(null),[es,ec]=(0,d.useState)(null),eu={id:null,studentId:R,subjectId:u,educationYearId:null==W?void 0:W.id,grade:null,time:null,themeId:null},[eh,ex]=(0,d.useState)(eu),{headers:ef}=(0,o.getHeaders)(),[ev,em]=(0,d.useState)([]),[ep,ej]=(0,d.useState)(null),[eg,eb]=(0,d.useState)(!1),[ey,eC]=(0,d.useState)(!1),[eS,eI]=(0,d.useState)(!1),[ew,ek]=(0,d.useState)([]),[eD,eA]=(0,d.useState)(!1),[eT,eF]=(0,d.useState)(!1),eY=(0,m.useDispatch)(),eM=()=>{ex(eu),en(!1),eC(!1)},eE=e=>{eo(e),ea(!0)},eG=()=>{eo(null),ea(!1)},eN=()=>{ei(!1)},eH=async()=>{await g.default.get("".concat(o.BASE_URL,"/permissionForTeacherGrading/checkExistsPermission/").concat(null==W?void 0:W.id,"?teacherId=").concat(P,"&subjectId=").concat(u,"&groupId=").concat(B,"&status=AT_PROCESS"),{headers:ef}).then(e=>{var t;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.success)?I.toast.warning("You already send a request. Please, wait response of education department.."):ei(!0)}).catch(e=>{})},e_=async()=>{await g.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getGradesOfStudent/").concat(null==W?void 0:W.id,"?studentId=").concat(R,"&subjectId=").concat(u),{headers:ef}).then(e=>{var t;em(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})},ez=async()=>{await g.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getMiddleGrade/").concat(null==W?void 0:W.id,"?studentId=").concat(R,"&subjectId=").concat(u,"&groupId=").concat(B),{headers:ef}).then(e=>{var t;ej((null===(t=e.data)||void 0===t?void 0:t.obj)||0)}).catch(e=>{})},eR=async e=>{var t;e.preventDefault();let a=null===(t=l.find(e=>e.id===eh.themeId))||void 0===t?void 0:t.maxGrade,d={...eh,time:new Date().getTime(),grade:+eh.grade};+d.grade>=0&&+d.grade<=a?await g.default.post("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/create"),d,{headers:ef}).then(e=>{en(!1),e_(),n(),ez(),I.toast.success("Grade was created successfully"),ex(eu)}).catch(e=>{I.toast.error("Error evaluation")}):I.toast.error("min:0  max:".concat(a||"empty"))},eB=async e=>{var t;e.preventDefault();let a=null===(t=l.find(e=>e.id===eh.themeId))||void 0===t?void 0:t.maxGrade,d={...eh,time:new Date().getTime()};parseFloat(d.grade)>=0&&parseFloat(d.grade)<=a?(null==eh?void 0:eh.id)&&(null==eh?void 0:eh.id)!==""&&await g.default.put("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/update"),d,{headers:ef}).then(e=>{en(!1),e_(),n(),ez(),I.toast.success("Grade was updated successfully"),ex(eu)}).catch(e=>{var t,n;I.toast.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)}):I.toast.error("min:0  max:".concat(a||"empty"))},eO=async e=>{var t;e.preventDefault();let a=null===(t=l.find(e=>e.id===eh.themeId))||void 0===t?void 0:t.maxGrade,{id:d,createdAt:i,...r}={...eh,time:new Date().getTime(),failGradeId:eh.id};parseFloat(r.grade)>=0&&parseFloat(r.grade)<=a?(null==eh?void 0:eh.id)&&(null==eh?void 0:eh.id)!==""&&await g.default.post("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/retake"),r,{headers:ef}).then(e=>{en(!1),eC(!1),e_(),n(),ez(),I.toast.success("Grade was updated successfully"),ex(eu)}).catch(e=>{I.toast.error("Error evaluation")}):I.toast.error("min:0  max:".concat(a||"empty"))},eL=e=>{var t;let n=(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(t=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===t?void 0:t.grade;ex(t=>({...t,...e,grade:n})),en(!0),eA(!(es?(null==e?void 0:e.time)<=es:eq(null==e?void 0:e.time))),eC(!(es?(null==e?void 0:e.time)<=es:eq(null==e?void 0:e.time)))},eU=e=>{ek(e),eI(!0)},eP=e=>{let t=e.target.value;parseFloat(ep)+parseFloat(t)<=30?(eb(!1),ex(e=>({...e,grade:t}))):eb(!0)},eW=async()=>{await g.default.get("".concat(o.BASE_URL,"/permissionForTeacherGrading/getConfirmPermission/").concat(null==W?void 0:W.id,"?teacherId=").concat(P,"&subjectId=").concat(u,"&groupId=").concat(B)).then(e=>{var t,n;ec((null===(n=e.data)||void 0===n?void 0:null===(t=n.obj)||void 0===t?void 0:t.deadline)||null)}).catch(e=>{})},eq=e=>{let t=h()(e),n=h()(),l=h()(e).add(2,"days");return t.isBefore(n)&&n.isBefore(l)},eV=e=>{eY((0,H.saveData)(e)),r(!0)},eK=e=>{g.default.delete("".concat(o.BASE_URL,"/themeOfSubjectForGrading/deleteTheme/").concat(null==e?void 0:e.id),(0,o.getHeaders)()).then(e=>{I.toast.warning("Deleted"),s()}).catch(e=>{I.toast.error(e.response.data.message||"Error")})},eJ=(e,t)=>{let n=parseFloat((100*e/t).toFixed(3));if(n>=0&&n<60)return"#FF0000";if(n>=60&&n<=84)return"rgb(215,215,0)";if(n>=85)return"#00bd00"};return(0,d.useEffect)(()=>{Promise.all([e_(),ez(),eW()])},[]),(0,d.useEffect)(()=>{eC()},[]),(0,a.jsxs)(et,{children:[(0,a.jsxs)(ee,{children:[(0,a.jsx)("h4",{children:O}),es?(0,a.jsx)(y.default,{sx:{display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:(0,a.jsxs)(x.default,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(c.AiFillUnlock,{}),children:["Grades can be changed until ",h()(es).format("DD.MM.YYYY")]})}):(0,a.jsxs)(y.default,{sx:{display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:[(0,a.jsx)(w.default,{title:"The time to change the assessment has passed.",children:(0,a.jsx)(x.default,{variant:"contained",color:"inherit",onClick:eH,size:"small",children:"Access to changes"})}),(0,a.jsx)(w.default,{title:"Points can be changed within 3 days!",children:(0,a.jsx)(j.default,{size:"medium",color:"warning",children:(0,a.jsx)(k.IoIosWarning,{})})})]})]}),(0,a.jsx)(y.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,a.jsx)(x.default,{color:"success",variant:"contained",onClick:()=>{en(!0)},endIcon:(0,a.jsx)(c.AiFillFileAdd,{}),children:"evaluation"})}),(0,a.jsx)($,{children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Theme"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Score"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Max score"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Date"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Actions"})})]})}),(0,a.jsxs)("tbody",{children:[ev.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:null==e?void 0:e.theme}),(0,a.jsx)("td",{style:{backgroundColor:eJ(null==e?void 0:e.grade,e.maxGrade||6),color:"#fff"},className:"score",onClick:()=>eU(e),children:null==e?void 0:e.grade}),(0,a.jsx)("td",{className:"score",onClick:()=>eU(e),children:e.maxGrade||6}),(0,a.jsx)("td",{children:h()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")}),(0,a.jsx)("td",{children:(0,a.jsxs)(f.Stack,{direction:"row",spacing:2,justifyContent:"center",children:[(0,a.jsx)(j.default,{"aria-label":"change",color:"success",onClick:()=>eL(e),children:(0,a.jsx)(p.HiPencilAlt,{})}),(0,a.jsx)(j.default,{"aria-label":"delete",color:"error",onClick:()=>eE(null==e?void 0:e.id),children:(0,a.jsx)(c.AiFillDelete,{})})]})})]},t)),(function(e,t){let n=new Set(t.map(e=>e.themeId));return e.filter(e=>!n.has(e.id))})(l,ev).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:null==e?void 0:e.name}),(0,a.jsx)(w.default,{title:"haven't marked",arrow:!0,placement:"left",children:(0,a.jsx)("td",{children:(0,a.jsx)(_.FaExclamationTriangle,{})})}),(0,a.jsx)("td",{children:null==e?void 0:e.maxGrade}),(0,a.jsx)("td",{}),(0,a.jsx)("td",{})]},t))]})]})}),(0,a.jsx)(z.default,{allGradesForAttendance:L,studentId:R,subjectId:u,groupId:B,gradeForAttendance:U,rating:ep,eduId:null==W?void 0:W.id}),(0,a.jsxs)(f.Dialog,{open:q,onClose:eM,"aria-labelledby":"responsive-dialog-title",PaperProps:{style:{overflowY:"visible"}},children:[(0,a.jsxs)(f.DialogTitle,{id:"responsive-dialog-title",children:["Evaluate"," ",ey&&"(retake)"]}),(0,a.jsxs)("form",{children:[(0,a.jsx)(f.DialogContent,{sx:{pt:0},children:(0,a.jsxs)(X,{children:[(null==eh?void 0:eh.id)!==null&&(0,a.jsx)(Q,{style:{display:"flex",justifyContent:"end"},children:(0,a.jsx)(D.default,{control:(0,a.jsx)(A.default,{checked:ey,onChange:()=>{eC(e=>!e)},color:"primary"}),label:"Retake",labelPlacement:"end"})}),(0,a.jsx)(Q,{children:(0,a.jsxs)(y.default,{sx:{display:"grid",gridTemplateColumns:"1fr 62px",alignContent:"stretch"},children:[(0,a.jsxs)(G.default,{fullWidth:!0,children:[(0,a.jsx)(N.default,{id:"theme-label",children:"Theme"}),(0,a.jsx)(E.default,{labelId:"theme-label",open:eT,onOpen:()=>eF(!0),onClose:()=>eF(!1),value:eh.themeId,onChange:e=>ex(t=>({...t,themeId:e.target.value})),id:"theme",label:"Theme",sx:{borderRadius:"4px 0 0 4px"},fullWidth:!0,children:null==l?void 0:l.map((e,t)=>(0,a.jsx)(F.default,{value:null==e?void 0:e.id,children:(0,a.jsxs)(y.default,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"5px"},children:[(0,a.jsx)(f.ListItemText,{primary:"".concat(null==e?void 0:e.name,", max grade:").concat(null==e?void 0:e.maxGrade)}),eT&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.default,{onClick:()=>eV(e),size:"small",children:(0,a.jsx)(M.HiMiniPencilSquare,{})}),(0,a.jsx)(j.default,{onClick:()=>eK(e),size:"small",children:(0,a.jsx)(Y.MdDelete,{})})]})]})},t))})]}),(0,a.jsx)(w.default,{title:"Add a new theme",arrow:!0,children:(0,a.jsx)(x.default,{onClick:()=>r(!0),sx:{width:35,height:"100%",borderRadius:" 0 4px 4px 0"},variant:"outlined",children:(0,a.jsx)(Y.MdOutlineAdd,{size:20})})})]})}),(0,a.jsx)(Q,{children:(0,a.jsx)(v.default,{fullWidth:!0,type:"number",value:eh.grade,onChange:e=>eP(e),label:"Grade"})})]})}),(0,a.jsxs)(f.DialogActions,{children:[(0,a.jsx)(x.default,{variant:"outlined",type:"reset",onClick:eM,children:"cancel"}),(0,a.jsx)(x.default,{disabled:eg,variant:"contained",onClick:(null==eh?void 0:eh.id)==null?eR:ey?eO:eB,type:"submit",children:(null==eh?void 0:eh.id)===null?"save":"update"})]})]})]}),(0,a.jsx)(b.default,{open:el,onClose:eG,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(y.default,{sx:V,component:K,children:[(0,a.jsxs)(Z,{children:[(0,a.jsx)("h5",{children:"Delete"}),(0,a.jsxs)(J,{onClick:eG,children:[" ",(0,a.jsx)(C.IoClose,{size:22})]})]}),(0,a.jsxs)(y.default,{children:[(0,a.jsx)(f.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(S.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,a.jsxs)(f.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,a.jsx)(x.default,{variant:"outlined",onClick:eG,children:"Cancel"}),(0,a.jsx)(x.default,{variant:"contained",color:"error",onClick:()=>{er&&g.default.delete("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/delete/").concat(er),{headers:ef}).then(e=>{e_(),eG(),n(),ez(),I.toast.warning("Grade was deleted successfully")}).catch(e=>{var t,n;I.toast.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)})},children:"Ok"})]})]})]})}),(0,a.jsx)(b.default,{open:ed,onClose:eN,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(y.default,{sx:V,component:K,children:[(0,a.jsxs)(Z,{children:[(0,a.jsx)("h5",{children:"Access to changes"}),(0,a.jsxs)(J,{onClick:eN,children:[" ",(0,a.jsx)(C.IoClose,{size:22})]})]}),(0,a.jsxs)(y.default,{children:[(0,a.jsx)(f.Stack,{sx:{height:"150px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,a.jsxs)(S.default,{variant:"h6",color:"black",children:["You can only change today's points within 3 days. ",(0,a.jsx)("br",{}),"Approval of the Department of Education is required for grade changes."]})}),(0,a.jsxs)(f.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,a.jsx)(x.default,{variant:"outlined",onClick:eN,children:"Cancel"}),(0,a.jsx)(x.default,{onClick:()=>{let e={groupId:B,status:"AT_PROCESS",subjectId:u,teacherId:P,educationYearId:null==W?void 0:W.id};g.default.post(o.BASE_URL+"/permissionForTeacherGrading/createPermissionForTeacherGrading",e,{headers:ef}).then(e=>{I.toast.success("Successfully sent"),ei(!1)}).catch(e=>{I.toast.error("Error")})},variant:"contained",children:"gain access"})]})]})]})}),(0,a.jsx)(T.default,{data:ew,open:eS,handleClose:()=>{eI(!1)}})]})})},3591:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("7104"),r=n("52861"),o=n("94718"),s=n("71893"),c=n("26178"),u=n("50533"),h=n("72132"),x=n("27233"),f=n("16393"),v=n("55693"),m=n("42154"),p=n("32392"),j=n("44025"),g=n("61261"),b=n("74113"),y=n("69274"),C=n("3506"),S=n("5434"),I=n("39045"),w=n("57024");function k(){let e=(0,l._)(["\n\n"]);return k=function(){return e},e}function D(){let e=(0,l._)(["\n    width: 400px;\n    margin-top: 10px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n    ","\n"]);return D=function(){return e},e}let A=s.default.div(k()),T=s.default.div(D(),(0,w.extrasmall)({width:"300px !important"}));t.default=(0,d.memo)(e=>{let{setTodayGrade:t,openEvaluateToday:n,setOpenEvaluateToday:l,oneSciencesScore:s,allThemeData:w,setThemeModal:k,getThemeAll:D}=e;(0,c.useTheme)();let F=(0,u.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear}),[Y,M]=(0,d.useState)(!1),E={studentId:null==s?void 0:s.studentId,subjectId:null==s?void 0:s.subjectId,educationYearId:null==F?void 0:F.id,grade:null,time:null,themeId:null},[G,N]=(0,d.useState)(E),[H,_]=(0,d.useState)(!1),z=()=>{l(!1)},{headers:R}=(0,f.getHeaders)(),B=(0,u.useDispatch)(),O=async e=>{var n;e.preventDefault();let a=null===(n=w.find(e=>e.id===G.themeId))||void 0===n?void 0:n.maxGrade,d={...G,time:new Date().getTime(),grade:+G.grade};+d.grade>=0&&+d.grade<=a?await x.default.post("".concat(f.BASE_URL,"/gradeOfStudentByTeacher/create"),d,{headers:R}).then(e=>{var n;t(e=>({...e,id:null==s?void 0:s.studentId,grade:+(null==G?void 0:G.grade)})),h.toast.success(null===(n=e.data)||void 0===n?void 0:n.message),l(!1),N(E)}).catch(e=>{h.toast.error("Error evaluation")}):h.toast.error("min:0  max:".concat(a||"empty"))},L=e=>{let t=e.target.value;parseFloat((null==s?void 0:s.sumGrade)||0)+parseFloat(t)<=30?(M(!1),N(e=>({...e,grade:t}))):M(!0)},U=e=>{B((0,I.saveData)(e)),k(!0)},P=e=>{x.default.delete("".concat(f.BASE_URL,"/themeOfSubjectForGrading/deleteTheme/").concat(null==e?void 0:e.id),(0,f.getHeaders)()).then(e=>{h.toast.warning("Deleted"),D()}).catch(e=>{h.toast.error(e.response.data.message||"Error")})};return(0,d.useEffect)(()=>{N({studentId:null==s?void 0:s.studentId,subjectId:null==s?void 0:s.subjectId,educationYearId:null==F?void 0:F.id,grade:null,time:null,themeId:null})},[s]),(0,a.jsxs)(i.Dialog,{open:n,onClose:z,"aria-labelledby":"responsive-dialog-title",children:[(0,a.jsx)(i.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,a.jsxs)("form",{children:[(0,a.jsx)(i.DialogContent,{children:(0,a.jsxs)(T,{children:[(0,a.jsx)(A,{children:(0,a.jsxs)(v.default,{sx:{display:"grid",gridTemplateColumns:"1fr 62px",alignContent:"stretch"},children:[(0,a.jsxs)(m.default,{fullWidth:!0,children:[(0,a.jsx)(p.default,{id:"theme-label",children:"Theme"}),(0,a.jsx)(j.default,{labelId:"theme-label",open:H,onOpen:()=>_(!0),onClose:()=>_(!1),value:G.themeId,onChange:e=>N(t=>({...t,themeId:e.target.value})),id:"theme",label:"Theme",sx:{borderRadius:"4px 0 0 4px"},fullWidth:!0,children:null==w?void 0:w.map((e,t)=>(0,a.jsx)(g.default,{value:null==e?void 0:e.id,children:(0,a.jsxs)(v.default,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"5px"},children:[(0,a.jsx)(i.ListItemText,{primary:"".concat(null==e?void 0:e.name,", max grade:").concat(null==e?void 0:e.maxGrade)}),H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.default,{onClick:()=>U(e),size:"small",children:(0,a.jsx)(y.HiMiniPencilSquare,{})}),(0,a.jsx)(b.default,{onClick:()=>P(e),size:"small",children:(0,a.jsx)(S.MdDelete,{})})]})]})},t))})]}),(0,a.jsx)(C.default,{title:"Add a new theme",arrow:!0,children:(0,a.jsx)(o.default,{onClick:()=>k(!0),sx:{width:35,height:"100%",borderRadius:" 0 4px 4px 0"},variant:"outlined",children:(0,a.jsx)(S.MdOutlineAdd,{size:20})})})]})}),(0,a.jsx)(A,{children:(0,a.jsx)(r.default,{fullWidth:!0,type:"number",value:G.grade,onChange:e=>L(e),label:"Grade"})})]})}),(0,a.jsxs)(i.DialogActions,{children:[(0,a.jsx)(o.default,{variant:"outlined",type:"reset",onClick:z,children:"cancel"}),(0,a.jsx)(o.default,{disabled:Y,onClick:O,variant:"contained",type:"submit",children:"save"})]})]})]})})},21518:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),a=n("67294"),d=n("36493"),i=n("50533"),r=n("27233"),o=n("16393");t.default=(0,a.memo)(e=>{let{educationYear:t,content:n,groupName:s,subjectName:c}=e,u=(0,i.useSelector)(e=>e.teacher.teacher),{headers:h}=(0,o.getHeaders)(),[x,f]=(0,a.useState)(null);return(0,a.useEffect)(()=>{r.default.get("".concat(o.BASE_URL,"/teacher/getDataOfLeaders/").concat(null==u?void 0:u.id,"/").concat(s," "),{headers:h}).then(e=>{f(e.data.obj)}).catch(e=>{})},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.default,{dataOfLeaders:x,teacherData:u,educationYear:t,content:null==n?void 0:n.sort((e,t)=>e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0),groupName:s,subjectName:c})})})},84259:function(e,t,n){"use strict";n.r(t),n("33948"),n("64211"),n("41874"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("94718"),o=n("42154"),s=n("32392"),c=n("44025"),u=n("61261"),h=n("27233"),x=n("16393"),f=n("55693"),v=n("52861"),m=n("44118"),p=n("72132");let j=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"up",ref:t,...e})});t.default=(0,a.memo)(e=>{let{lessons:t,eduType:n,eduId:g,userId:b}=e,[y,C]=d().useState(!1),{headers:S}=(0,x.getHeaders)(),[I,w]=(0,a.useState)([]),[k,D]=(0,a.useState)(""),[A,T]=(0,a.useState)([]),[F,Y]=(0,a.useState)(""),[M,E]=(0,a.useState)(""),G=()=>{T([]),D(""),Y(""),E("")},N=(e,t,n,l,a)=>{var d;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&h.default.get("".concat(x.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(n,"?educationId=").concat(a,"&subjectId=").concat(null==t?void 0:null===(d=t.find(t=>(null==t?void 0:t.name)===e))||void 0===d?void 0:d.id,"&eduType=").concat(l)).then(e=>{var t;w(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{w([])})},H=()=>{C(!1),G()};return(0,a.useEffect)(()=>{N(k,t,b,n,g)},[k]),(0,l.jsxs)(d().Fragment,{children:[(0,l.jsx)(r.default,{variant:"outlined",onClick:()=>{C(!0)},children:"Grade for attendance"}),(0,l.jsxs)(i.Dialog,{open:y,TransitionComponent:j,keepMounted:!0,onClose:H,children:[(0,l.jsx)(i.DialogTitle,{children:" Grade for attendance"}),(0,l.jsx)(i.DialogContent,{children:(0,l.jsxs)(f.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:340,mt:.8},children:[(0,l.jsxs)(o.default,{fullWidth:!0,size:"small",children:[(0,l.jsx)(s.default,{id:"fanselect",children:"Subject"}),(0,l.jsx)(c.default,{labelId:"fanselect",id:"demo-simple-select2",value:k,label:"Subject",onChange:e=>{D(e.target.value),T([])},children:null==t?void 0:t.map((e,t)=>(0,l.jsx)(u.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]}),(0,l.jsx)(m.default,{size:"small",multiple:!0,limitTags:2,id:"multiple-limit-tags",value:A,options:I,getOptionLabel:e=>(null==e?void 0:e.name)||"",onChange:(e,t)=>{T(t)},renderInput:e=>(0,l.jsx)(v.default,{...e,label:"Groups",placeholder:"Favorites"})}),(0,l.jsx)(v.default,{value:F,onChange:e=>Y(e.target.value),size:"small",label:"Grade",type:"number"}),(0,l.jsx)(v.default,{value:M,onChange:e=>E(e.target.value),size:"small",label:"Credit",type:"number"})]})}),(0,l.jsxs)(i.DialogActions,{children:[(0,l.jsx)(r.default,{variant:"contained",onClick:H,children:"cancel"}),(0,l.jsx)(r.default,{variant:"outlined",onClick:()=>{var e;let n={educationYearId:g,lessonId:(null==t?void 0:null===(e=t.find(e=>(null==e?void 0:e.name)===k))||void 0===e?void 0:e.id)||"",groupsIds:A.map(e=>e.id),grade:F,credit:M};""!==n.lessonId&&0!==n.groupsIds.length&&""!==n.grade&&""!==n.credit?10>=parseInt(n.grade)?h.default.post("".concat(x.BASE_URL,"/gradeForAttendance/create"),n,{headers:S}).then(e=>{p.toast.success(e.data.message),H()}).catch(e=>{p.toast.error("Error")}):p.toast.warning("maximum 10 points"):p.toast.warning("Empty fields")},children:"save"})]})]})]})})},39007:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("31672"),n("59461"),n("2490");var a=n("85893"),d=n("67294"),i=n.n(d),r=n("71893"),o=n("50533"),s=n("84110"),c=n("72132");function u(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    padding: 0 5px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    outline: none;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    text-align: center;\n    color: ",";\n    -moz-appearance: textfield;\n\n    &::-webkit-inner-spin-button,\n    &::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]);return u=function(){return e},e}let h=r.default.input(u(),e=>e.color?e.color:"#000");t.default=i().memo(e=>{var t;let{data:n}=e,l=(0,o.useDispatch)(),d=(0,o.useSelector)(e=>e.dataScoreMultipart),i=null==d?void 0:d.gradesTheme,r=null==d?void 0:d.grades,u=e=>null!==e?parseFloat(null==e?void 0:e.toFixed(3)):"",x=(e,t)=>{let l=e.find(e=>(null==e?void 0:e.studentId)===(null==n?void 0:n.studentId)),a=t.find(e=>(null==e?void 0:e.studentId)===(null==n?void 0:n.studentId)),d=(null==l?void 0:l.grade)!==void 0?null==l?void 0:l.grade:(null==a?void 0:a.grade)!==void 0?null==a?void 0:a.grade:null;return{id:(null==l?void 0:l.gradeId)||(null==a?void 0:a.gradeId)||null,score:u(d)}},f=(e,t)=>{var a;let i=+e.target.value;if(!(null===(a=i)||isNaN(a))&&void 0!==a&&(a=a.toString().trim(),/^-?\d*\.?\d+$/.test(a))){let e=parseFloat(i);!(e>=0&&e<=((null==d?void 0:d.maxGrade)||6))&&c.toast.warning("Grade must be between 0 and ".concat((null==d?void 0:d.maxGrade)||6)),l((0,s.changeScoreStudent)({...d,studentId:null==n?void 0:n.studentId,gradeId:t,grade:e}))}};return(0,a.jsx)(h,{type:"text",value:null===(t=x(r,i))||void 0===t?void 0:t.score,max:(null==d?void 0:d.maxGrade)||6,onFocus:e=>e.target.addEventListener("wheel",function(e){e.preventDefault()},{passive:!1}),maxLength:2,onChange:e=>f(e,x(r,i).id)})})},76464:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("15581"),n("34514"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("71893"),r=n("55693");function o(){let e=(0,l._)(["\n    margin: 0 auto;\n    cursor: pointer;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #fff;\n    background-color: ",";\n\n    &:hover {\n        transition: 0.3s;\n        opacity: 0.8;\n    }\n"]);return o=function(){return e},e}let s=i.default.div(o(),e=>e.color);t.default=(0,d.memo)(e=>{let{data:t}=e,[n,l]=(0,d.useState)(!1),i={};null==t||t.forEach(e=>{null==e||e.forEach(e=>{var t;(0===e.statistics.length||(null===(t=e.statistics.find(e=>"DYNAMIC"===e.type))||void 0===t?void 0:t.isCome)===!1)&&(i[e.section]?i[e.section]++:i[e.section]=1)})});let o=Object.entries(i).map(e=>{let[t,n]=e;return{section:parseInt(t),attendance:n}}),c=o.map(e=>({...e,attendance:t.length-e.attendance}));return(0,a.jsx)(r.default,{sx:{display:"flex",alignItems:"center"},children:n?c.map((e,t)=>(0,a.jsx)(s,{onClick:()=>l(e=>!e),color:n?"green":"red",children:e.attendance},t)):o.map((e,t)=>(0,a.jsx)(s,{onClick:()=>l(e=>!e),color:n?"green":"red",children:e.attendance},t))})})},66508:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("7104"),r=n("94718"),o=n("16393"),s=n("71893"),c=n("30381"),u=n.n(c),h=n("27233"),x=n("78951");function f(){let e=(0,l._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n    color: #000;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 5px;\n        }\n\n       \n\n        th {\n            padding: 8px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return f=function(){return e},e}let v=s.default.div(f(),o.mainColor);t.default=(0,d.memo)(e=>{var t;let{data:n,open:l,handleClose:s}=e,[c,f]=(0,d.useState)(null),m=e=>{l&&h.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getRetakesOfStudent/").concat(e),(0,o.getHeaders)()).then(e=>{f(e.data.obj)}).catch(e=>{})};if((0,d.useEffect)(()=>{m(null==n?void 0:n.failGradeId)},[l]),l)return(0,a.jsxs)(i.Dialog,{open:l,onClose:s,"aria-labelledby":"alert-dialog-title-retake-history","aria-describedby":"alert-dialog-description-retake-history",children:[(0,a.jsxs)(i.DialogTitle,{id:"alert-dialog-title-retake-history",children:["Retake (",null==n?void 0:n.theme,", max score: ",null==n?void 0:n.maxGrade,")"]}),(0,a.jsx)(i.DialogContent,{children:(0,a.jsx)(i.DialogContentText,{id:"alert-dialog-description-retake-history",children:(0,a.jsxs)(v,{children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:"Score"}),(0,a.jsx)("th",{children:"Date"})]})}),(null==n?void 0:n.failGradeId)&&(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"1"}),(0,a.jsx)("td",{children:null==c?void 0:c.grade}),(0,a.jsx)("td",{children:u()(new Date(null==c?void 0:c.time)).format("DD-MM-YYYY HH:mm")})]}),null==c?void 0:null===(t=c.retakes)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+2}),(0,a.jsx)("td",{children:null==e?void 0:e.grade}),(0,a.jsx)("td",{children:u()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")})]},t))]})]}),!(null==n?void 0:n.failGradeId)&&(0,a.jsx)(x.default,{w:180,h:160})]})})}),(0,a.jsx)(i.DialogActions,{children:(0,a.jsx)(r.default,{onClick:s,children:"close"})})]})})},57273:function(e,t,n){"use strict";n.r(t),n("33948"),n("17727"),n("88449"),n("19894"),n("2490"),n("31672"),n("59461");var l=n("85893"),a=n("67294"),d=n("55693"),i=n("7104"),r=n("89589"),o=n("16393"),s=n("77929"),c=n("27233");t.default=e=>{var t,n;let{allGradesForAttendance:u,gradeForAttendance:h,rating:x,eduId:f,groupId:v,subjectId:m,studentId:p}=e,[j,g]=(0,a.useState)([]),[b,y]=(0,a.useState)(!1),C=()=>{y(!0),c.default.get("".concat(o.BASE_URL,"/groupConnect/getStatisticsOfStudentForTeacher/").concat(f,"/").concat(v,"?subjectId=").concat(m,"&studentId=").concat(p),(0,o.getHeaders)()).then(e=>{var t;g(null===(t=e.data[0])||void 0===t?void 0:t.sort((e,t)=>e.year-t.year||e.week-t.week||e.day-t.day||e.section-t.section))}).catch(e=>{}).finally(()=>{y(!1)})};(0,a.useEffect)(()=>{C()},[]);return(0,l.jsxs)(d.default,{sx:{mt:"25px",display:"grid",gridTemplateColumns:"0.4fr 1fr",gap:2,"@media (max-width: 600px)":{gridTemplateColumns:"1fr"}},children:[(0,l.jsx)(i.Card,{children:(0,l.jsxs)(i.CardContent,{children:[null!==u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.default,{sx:{fontSize:18,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Attended : ",(0,l.jsxs)("span",{style:{color:"#56cb5a"},children:[" ",(u/h).toFixed()]})]}),(0,l.jsxs)(r.default,{sx:{fontSize:18,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Did not attend : ",(0,l.jsxs)("span",{style:{color:"#ff0000"},children:[" ",j&&(null===(n=j.filter(e=>{var t;return 0===e.statistics.length||(null===(t=e.statistics.find(e=>"DYNAMIC"===e.type))||void 0===t?void 0:t.isCome)===!1}))||void 0===n?void 0:n.length)]})]}),(0,l.jsxs)(r.default,{sx:{fontSize:18,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Score for attendance : ",(0,l.jsx)("span",{style:{color:"#56cb5a"},children:u})]})]}):"",(0,l.jsxs)(r.default,{sx:{fontSize:18,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Rating : ",(0,l.jsx)("span",{style:{color:"#56cb5a"},children:x&&parseFloat(x.toFixed(3))||0})]}),(0,l.jsx)(i.Divider,{sx:{my:2}}),(0,l.jsxs)(r.default,{sx:{fontSize:18,textAlign:"end",fontWeight:"bold"},color:o.mainColor,children:["Total: ",(0,l.jsx)("span",{style:{color:"#56cb5a"},children:parseFloat(null===(t=(x&&x||0)+(u&&u||0))||void 0===t?void 0:t.toFixed(3))||0})]})]})}),(0,l.jsx)(s.default,{data:j,load:b})]})}},19092:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924"),n("31672"),n("59461"),n("2490"),n("88449"),n("19894");var l=n("85893");n("67294");var a=n("30381"),d=n.n(a),i=n("3506"),r=n("50533"),o=n("89583"),s=n("55693");t.default=function(e){var t;let{data:n,day:a,time:c,setDataForAttendance:u,openModal:h}=e,x=d()(),{subjects:f}=n,v=(0,r.useSelector)(e=>e.hourSection);(0,r.useSelector)(e=>{var t,n;return null===(n=e.AllNbStudentForTeacher)||void 0===n?void 0:null===(t=n.dataAttendance)||void 0===t?void 0:t.attendances});let m=null==f?void 0:f.map(e=>{let t=d()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=v.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:d()(n).format("HH:mm")}}).filter(e=>d()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(x)).sort((e,t)=>{let n=d()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return d()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)}),p=null==m?void 0:m.map(e=>d()(new Date(c.getFullYear(),c.getMonth(),a)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?e:"").filter(e=>"object"==typeof e),j=e=>{u(e),h()};return(0,l.jsx)(l.Fragment,{children:0!==p.length?(0,l.jsx)(i.default,{title:p.map((e,t)=>(0,l.jsxs)(s.default,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,l.jsxs)("p",{children:[e.section,"-section"]}),(0,l.jsx)("p",{style:{marginTop:"3px"},children:function(e){let t=null==e?void 0:e.find(e=>(null==e?void 0:e.type)==="DYNAMIC");return(null==e?void 0:e.length)===0?(0,l.jsx)(o.FaWindowClose,{color:"#ff5c5c"}):t?(null==t?void 0:t.isCome)?(0,l.jsx)(o.FaCheckSquare,{color:"#67fd59"}):(0,l.jsx)(o.FaWindowClose,{color:"#f85e5e"}):(0,l.jsx)(o.FaCheckSquare,{color:"#67fd59"})}(null==e?void 0:e.statistics)})]},t)),arrow:!0,children:(0,l.jsx)("td",{onClick:()=>j(p),style:{textAlign:"center",cursor:"pointer"},children:null==p?void 0:null===(t=p.filter(e=>{var t,n,l;return(null==e?void 0:null===(t=e.statistics)||void 0===t?void 0:t.length)===0||(null==e?void 0:null===(l=e.statistics)||void 0===l?void 0:null===(n=l.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===n?void 0:n.isCome)===!1}))||void 0===t?void 0:t.length})}):(0,l.jsx)("td",{})})}},45201:function(e,t,n){"use strict";n.r(t),n("10072"),n("23042"),n("99137"),n("71957"),n("96306"),n("103"),n("74592"),n("58276"),n("35082"),n("12813"),n("18222"),n("38563"),n("50336"),n("7512"),n("33948"),n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("31672"),n("59461"),n("25387"),n("72608"),n("57658");var l=n("30381"),a=n.n(l);t.default=function(e){var t;let{data:n,day:l,time:d}=e,i=a()(),{firstName:r,lastName:o,subjects:s}=n,c=new Date,u=new Map,h=[{number:1,hour:"9:00 - 9:50",start:c.setHours(9,0,0),end:c.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:c.setHours(10,0,0),end:c.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:c.setHours(11,0,0),end:c.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:c.setHours(12,0,0),end:c.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:c.setHours(13,0,0),end:c.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:c.setHours(14,0,0),end:c.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:c.setHours(15,0,0),end:c.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:c.setHours(16,0,0),end:c.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:c.setHours(17,0,0),end:c.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:c.setHours(18,0,0),end:c.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:c.setHours(19,0,0),end:c.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:c.setHours(20,0,0),end:c.setHours(20,50,0)}],x=null==s?void 0:null===(t=s.filter(e=>(null==e?void 0:e.statistics.length)===0))||void 0===t?void 0:t.map(e=>{let t=a()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=h.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:a()(n).format("HH:mm")}}).filter(e=>a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(i));return(null==x?void 0:x.reduce((e,t)=>{let n=t.date+t.hourStart;return!u.has(n)&&(u.set(n,!0),e.push(t)),e},[]).sort((e,t)=>{let n=a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return a()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)})).map(e=>a()(new Date(d.getFullYear(),d.getMonth(),l)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?null==e?void 0:e.section:"").filter(e=>""!==e)}},46468:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("64211"),n("41874"),n("57640"),n("9924"),n("88449"),n("19894"),n("17727");var a=n("85893"),d=n("67294"),i=n.n(d),r=n("71893"),o=n("55693"),s=n("32392"),c=n("61261"),u=n("42154"),h=n("44025"),x=n("57024"),f=n("97367"),v=n("79352"),m=n("16393"),p=n("90122"),j=n("50533"),g=n("92120"),b=n("27120"),y=n("27233"),C=n("30381"),S=n.n(C),I=n("78258"),w=n("8193"),k=n("64425"),D=n("8033"),A=n("53701"),T=n("94718"),F=n("47516"),Y=n("3591"),M=n("78951"),E=n("74113"),G=n("89583"),N=n("7104"),H=n("63750"),_=n("3506"),z=n("60023"),R=n("92037"),B=n("69923"),O=n("21518"),L=n("84259"),U=n("49018"),P=n("48653"),W=n("69376"),q=n("76302"),V=n("39007"),K=n("90425"),J=n("33426"),Z=n("84110"),Q=n("76464"),X=n("29118"),$=n("79321"),ee=n("62750"),et=n("96413"),en=n("1190"),el=n("73871"),ea=n("5434"),ed=n("78214"),ei=n("80943"),er=n("2096");function eo(){let e=(0,l._)(["\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    width: 250px;\n    margin: 0 auto;\n\n    .MuiFormLabel-root {\n        color: #fff;\n    }\n\n    .MuiInputBase-root {\n        color: #fff;\n\n        input {\n            padding: 9px 0 9px 9px;\n        }\n    }\n"]);return eo=function(){return e},e}function es(){let e=(0,l._)(["\n    margin-top: 15px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 14px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return es=function(){return e},e}function ec(){let e=(0,l._)(["\n    margin-left: 15px;\n    color: black;\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 20px;\n"]);return ec=function(){return e},e}function eu(){let e=(0,l._)(["\n    ","\n"]);return eu=function(){return e},e}function eh(){let e=(0,l._)(["\n    ","\n"]);return eh=function(){return e},e}function ex(){let e=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n    cursor: pointer;\n"]);return ex=function(){return e},e}function ef(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return ef=function(){return e},e}function ev(){let e=(0,l._)(["\n    background-color: #ffffff;\n    margin-top: 15px;\n    border-radius: 5px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    padding: 25px;\n\n    ","\n    .maxScoreForAtt {\n        display: flex;\n        gap: 10px;\n        flex-wrap: wrap;\n\n        .Mui-disabled {\n            color: #000000;\n        }\n    }\n"]);return ev=function(){return e},e}function em(){let e=(0,l._)(["\n    padding:15px 0;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    ","\n"]);return em=function(){return e},e}function ep(){let e=(0,l._)(["\n    padding: 10px;\n"]);return ep=function(){return e},e}let ej=r.default.div(eo()),eg=r.default.div(es(),m.mainColor),eb=r.default.div(ec()),ey={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},eC=r.default.div(eu(),(0,x.extrasmall)({width:"97% !important"})),eS={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"97%",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24,p:2},eI={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"45%",height:"98vh",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},ew=r.default.div(eh(),(0,x.extrasmall)({width:"98% !important"})),ek=r.default.button(ex(),m.mainColor),eD=r.default.div(ef(),e=>e.color?e.color:"#000"),eA=r.default.div(ev(),(0,x.extrasmall)({padding:"10px"})),eT=r.default.div(em(),(0,x.extrasmall)({justifyContent:"center"})),eF=r.default.div(ep());t.default=()=>{var e,t,n,l,r,x,C,eo;let es=["ALL","KUNDUZGI_KECHKI","SIRTQI","MAGISTRATURE"],[ec,eu]=(0,d.useState)(es[0]),[eh,ex]=(0,d.useState)(""),[ef,ev]=(0,d.useState)(""),[em,ep]=(0,d.useState)(!1),[eY,eM]=(0,d.useState)(!1),[eE,eG]=(0,d.useState)(!1),[eN,eH]=(0,d.useState)(!1),[e_,ez]=(0,d.useState)({}),[eR,eB]=(0,d.useState)([]),[eO,eL]=(0,d.useState)({id:null,grade:null}),{headers:eU}=(0,m.getHeaders)(),[eP,eW]=(0,d.useState)([]),[eq,eV]=(0,d.useState)([]),[eK,eJ]=(0,d.useState)([]),eZ=(0,j.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.user})||null,eQ=(0,j.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.educationYear)||void 0===t?void 0:t.educationYear})||null,eX=(0,j.useDispatch)(),[e$,e0]=(0,d.useState)([]),[e1,e3]=(0,d.useState)(!1),[e5,e2]=(0,d.useState)(!1),[e9,e4]=(0,d.useState)(null),[e8,e6]=(0,d.useState)(!1),[e7,te]=(0,d.useState)(!1),[tt,tn]=(0,d.useState)(!1),[tl,ta]=(0,d.useState)(!1),[td,ti]=(0,d.useState)(!1),[tr,to]=(0,d.useState)(!1),[ts,tc]=(0,d.useState)(!1),[tu,th]=(0,d.useState)("fullNames"),[tx,tf]=(0,d.useState)(!1),[tv,tm]=i().useState(null),[tp,tj]=(0,d.useState)(null),[tg,tb]=(0,d.useState)(null),[ty,tC]=(0,d.useState)(!1),[tS,tI]=i().useState(null),tw=(0,j.useSelector)(e=>e.hourSection),[tk,tD]=(0,d.useState)([]),[tA,tT]=(0,d.useState)(!1),[tF,tY]=(0,d.useState)(!1),[tM,tE]=(0,d.useState)(!1),[tG,tN]=(0,d.useState)(S()()),[tH,t_]=(0,d.useState)(!1),[tz,tR]=i().useState(!1),tB=()=>{tR(!1)},tO=e=>{tI(e.currentTarget)},tL=()=>{y.default.get(m.BASE_URL+"/education/educationYearsForSelected",{headers:eU}).then(e=>{var t,n,l;eJ(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj),eX((0,g.fetchEducationYear)(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(n=l.obj)||void 0===n?void 0:n[0]))}).catch(e=>{})};(0,d.useEffect)(()=>{tL()},[]);let tU=async()=>{eQ&&await y.default.get("".concat(m.BASE_URL,"/groupConnect/subjectsOfTeacher/").concat(null==eZ?void 0:eZ.id,"?educationId=").concat(null==eQ?void 0:eQ.id)).then(e=>{var t,n;eW(null===(t=e.data)||void 0===t?void 0:t.obj),ex(null===(n=e.data)||void 0===n?void 0:n.obj[0].name)}).catch(e=>{})},tP=async(e,t,n)=>{if(""!==ef){var l,a;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&await y.default.get("".concat(m.BASE_URL,"/themeOfSubjectForGrading/getThemes/").concat(null==t?void 0:null===(l=t.find(t=>(null==t?void 0:t.name)===e))||void 0===l?void 0:l.id,"/").concat(null==eq?void 0:null===(a=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===a?void 0:a.id,"?educationYearId=").concat(n),{headers:eU}).then(e=>{tD(e.data.obj)}).catch(e=>{})}},tW=(e,t,n)=>{let l=n.year(),a=n.isoWeek(),d=n.day();if(""!==ef&&tM){var i,r;t_(!0);let n=null==t?void 0:null===(i=t.find(t=>(null==t?void 0:t.name)===e))||void 0===i?void 0:i.id,o=null==eq?void 0:null===(r=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===r?void 0:r.id;y.default.get("".concat(m.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacherByDay/").concat(n,"/").concat(o,"?year=").concat(l,"&week=").concat(a,"&day=").concat(d),{headers:eU}).then(e=>{let t=e.data,n=Array.isArray(t)&&t.length>0?t[0]:[];e0(e=>e.map(e=>({...e,selectedDate:n.filter(t=>t.studentId===e.studentId)})))}).catch(e=>{}).finally(()=>{t_(!1)})}},tq=(e,t,n,l,a)=>{var d;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&y.default.get("".concat(m.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(n,"?educationId=").concat(a,"&subjectId=").concat(null==t?void 0:null===(d=t.find(t=>(null==t?void 0:t.name)===e))||void 0===d?void 0:d.id,"&eduType=").concat(l)).then(e=>{var t;eV(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})};(0,d.useEffect)(()=>{ev(""),tq(eh,eP,null==eZ?void 0:eZ.id,ec,null==eQ?void 0:eQ.id)},[eh,ec]);let tV=()=>{if(t5(),eX((0,Z.resetDataScore)()),""!==ef){var e,t,n,l;tx?(e2(!0),y.default.get("".concat(m.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==eQ?void 0:eQ.id,"/").concat(null==eq?void 0:null===(n=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===n?void 0:n.id,"?subjectId=").concat(null==eP?void 0:null===(l=eP.find(e=>(null==e?void 0:e.name)===eh))||void 0===l?void 0:l.id),{headers:eU}).then(e=>{var t,n,l,a,d;e0(null===(t=e.data[0][0])||void 0===t?void 0:t.students.map(e=>{var t;let n=null==e?void 0:null===(t=e.subjects.filter(e=>{var t;return(null==e?void 0:e.statistics.length)===0||(null===(t=e.statistics)||void 0===t?void 0:t.some(e=>(null==e?void 0:e.isCome)===!1))}))||void 0===t?void 0:t.map(e=>{let t=S()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=tw.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:S()(n).format("HH:mm")}}).filter(e=>S()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(S()(),"minute")).length;return{...e,subjectNb:n}})),tj([null===(l=e.data)||void 0===l?void 0:null===(n=l[0][0].students[0])||void 0===n?void 0:n.maxGradeForAttendance,null===(d=e.data)||void 0===d?void 0:null===(a=d[0][0].students[0])||void 0===a?void 0:a.gradeForAttendance]),e2(!1)}).catch(e=>{e2(!1)})):(e3(!0),y.default.get("".concat(m.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacherForTodayWithMax/").concat(null==eQ?void 0:eQ.id,"/").concat(null==eq?void 0:null===(e=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===e?void 0:e.id,"?subjectId=").concat(null==eP?void 0:null===(t=eP.find(e=>(null==e?void 0:e.name)===eh))||void 0===t?void 0:t.id,"&year=").concat(S()(new Date).year(),"&week=").concat(S()(new Date).week(),"&day=").concat(S()(new Date).day()),{headers:eU}).then(e=>{var t,n,l,a,d;e0(null===(t=e.data)||void 0===t?void 0:t[0][0].students),tj([null===(l=e.data)||void 0===l?void 0:null===(n=l[0][0].students[0])||void 0===n?void 0:n.maxGradeForAttendance,null===(d=e.data)||void 0===d?void 0:null===(a=d[0][0].students[0])||void 0===a?void 0:a.gradeForAttendance]),e3(!1)}).catch(e=>{e3(!1)}))}};(0,d.useEffect)(()=>{tV(),tP(eh,eP,null==eQ?void 0:eQ.id)},[ef,e7,tx]),(0,d.useEffect)(()=>{tW(eh,eP,tG)},[ef,tM,tG]),(0,d.useEffect)(()=>{tU()},[eQ]);let tK=e=>{ez(e),ep(!0)},tJ=()=>eM(!1),tZ=()=>eG(!1),tQ=()=>eH(!1),tX=e=>{eG(!0),e4(e)},t$=e=>{e6(!0),eB(e)},t0=e=>{eB(e)};(0,d.useEffect)(()=>{null!==eR&&e7&&ta(!0)},[eR]),(0,d.useEffect)(()=>{tl||eB(null)},[tl]),(0,d.useEffect)(()=>{te(e7),tf(tx)},[]);let t1=()=>ep(!1),t3=(e,t)=>{if("fullNames"===tu){if(td){if(td)return e.fullName<t.fullName?1:e.fullName>t.fullName?-1:0}else return e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0}if("attendance"===tu){if(ts){if(ts)return e.subjectNb<t.subjectNb?1:e.subjectNb>t.subjectNb?-1:0}else return e.subjectNb>t.subjectNb?1:e.subjectNb<t.subjectNb?-1:0}if("score"===tu){var n,l;let a=parseFloat(null===(n=((null==e?void 0:e.allSumGrade)||0)+((null==e?void 0:e.allGradesForAttendance)||0))||void 0===n?void 0:n.toFixed(3)),d=parseFloat(null===(l=((null==t?void 0:t.allSumGrade)||0)+((null==t?void 0:t.allGradesForAttendance)||0))||void 0===l?void 0:l.toFixed(3));if(tr){if(tr)return a<d?1:a>d?-1:0}else return a>d?1:a<d?-1:0}if("evaluate"===tu){if(tr){if(tr)return e.todayGrade<t.todayGrade?1:e.todayGrade>t.todayGrade?-1:0}else return e.todayGrade>t.todayGrade?1:e.todayGrade<t.todayGrade?-1:0}},t5=()=>{eX((0,q.resetData)()),tE(!1),tN(S()())};return(0,d.useEffect)(()=>{(null==eO?void 0:eO.id)&&(null==eO?void 0:eO.grade)&&e0([...null==e$?void 0:e$.filter(e=>(null==e?void 0:e.studentId)!==(null==eO?void 0:eO.id)),{...null==e$?void 0:e$.find(e=>(null==e?void 0:e.studentId)===(null==eO?void 0:eO.id)),todayGrade:null==eO?void 0:eO.grade}])},[eO]),(0,a.jsxs)(eF,{children:[e8&&(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},children:(0,a.jsx)(T.default,{onClick:()=>e6(!1),variant:"outlined",startIcon:(0,a.jsx)(F.BiArrowBack,{}),children:"Back"})}),(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"30px"},children:(0,a.jsxs)(eT,{children:[(0,a.jsx)(o.default,{sx:{minWidth:180,background:"#fff"},children:(0,a.jsxs)(u.default,{size:"small",fullWidth:!0,children:[(0,a.jsx)(s.default,{htmlFor:"semestr",children:"Academic year"}),(0,a.jsx)(h.default,{labelId:"semestr",id:"demo-simple-select",value:null==eQ?void 0:eQ.name,onChange:e=>{e.target.value!==(null==eQ?void 0:eQ.name)&&eX((0,b.educationYearStatisticsFetching)()),eX((0,g.fetchEducationYear)(null==eK?void 0:eK.find(t=>(null==t?void 0:t.name)===e.target.value)))},label:"Academic year",disabled:e8,children:null==eK?void 0:eK.map((e,t)=>(0,a.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,a.jsx)(o.default,{sx:{width:200,background:"#fff"},children:(0,a.jsxs)(u.default,{size:"small",fullWidth:!0,children:[(0,a.jsx)(s.default,{id:"fanselect",children:"Subject"}),(0,a.jsx)(h.default,{labelId:"fanselect",id:"demo-simple-select2",value:eh,label:"Subject",onChange:e=>{ex(e.target.value)},disabled:e8,children:null==eP?void 0:eP.map((e,t)=>(0,a.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,a.jsx)(o.default,{sx:{width:200,background:"#fff"},children:(0,a.jsxs)(u.default,{size:"small",fullWidth:!0,children:[(0,a.jsx)(s.default,{id:"demo-simple-select-label",children:"Education type"}),(0,a.jsx)(h.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:ec,label:"Education type",onChange:e=>eu(e.target.value),disabled:e8,children:null==es?void 0:es.map((e,t)=>(0,a.jsx)(c.default,{value:e,children:e},t))})]})}),(0,a.jsx)(o.default,{sx:{width:200,background:"#fff"},children:(0,a.jsxs)(u.default,{size:"small",fullWidth:!0,children:[(0,a.jsx)(s.default,{id:"demo-simple-select-label1",children:"Group"}),(0,a.jsx)(h.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:ef,label:"Group",onChange:e=>{ev(e.target.value),tf(!1)},disabled:e8,children:null==eq?void 0:eq.map((e,t)=>(0,a.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,a.jsx)(L.default,{lessons:eP,userId:null==eZ?void 0:eZ.id,eduType:"ALL",eduId:null==eQ?void 0:eQ.id})]})}),e8?(0,a.jsx)(eA,{children:(0,a.jsx)(p.default,{getThemeAll:()=>tP(eh,eP,null==eQ?void 0:eQ.id),oneSciencesScore:eR,fetchCoreDataStudents:tV,allThemeData:tk,setThemeModal:tT})}):(0,a.jsxs)(eA,{children:[(0,a.jsxs)(eb,{children:[(0,a.jsxs)("h5",{children:["Group: ",ef]}),(0,a.jsx)(er.default,{data:e$,loadData:e1,eduId:null==eQ?void 0:eQ.id,groupId:null==eq?void 0:null===(e=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===e?void 0:e.id,subjectId:null==eP?void 0:null===(t=eP.find(e=>(null==e?void 0:e.name)===eh))||void 0===t?void 0:t.id})]}),(0,a.jsxs)(o.default,{className:"maxScoreForAtt",children:[(0,a.jsxs)(T.default,{disabled:!0,variant:"contained",size:"small",children:["maximum score for attendance : ",tp&&tp[0]||0]}),(0,a.jsxs)(T.default,{disabled:!0,variant:"contained",size:"small",children:["admission to each lesson earns: ",tp&&tp[1]||0," points"]}),(null==e$?void 0:e$.length)>0&&(0,a.jsx)(T.default,{variant:"contained",size:"small",onClick:()=>tY(!0),children:"View Grades"}),tF&&(0,a.jsx)(ee.default,{educationYearId:null==eQ?void 0:eQ.id,allStudentData:e$,groupId:null==eq?void 0:null===(n=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===n?void 0:n.id,groupName:ef,lessonId:null==eP?void 0:null===(l=eP.find(e=>(null==e?void 0:e.name)===eh))||void 0===l?void 0:l.id,allScoreStudentsModal:tF,setAllScoreStudentsModal:tY})]}),(0,a.jsxs)(eg,{children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:"Full name"}),(0,a.jsx)(E.default,{size:"small",onClick:()=>{ti(e=>!e),th("fullNames")},children:td?(0,a.jsx)(G.FaSortUp,{}):(0,a.jsx)(G.FaSortDown,{})})]})}),!tM&&(0,a.jsx)("th",{children:(0,a.jsxs)(o.default,{sx:{display:"flex",gap:2,alignItems:"center",justifyContent:"center"},children:["Attendance",(0,a.jsx)(_.default,{title:"Setting",children:(0,a.jsx)(E.default,{onClick:e=>{tR(e.currentTarget)},children:(0,a.jsx)(H.BsThreeDotsVertical,{size:20,color:"#3c3c3c"})})})]})}),tM&&(0,a.jsx)("th",{children:(0,a.jsxs)(ej,{children:[(0,a.jsx)(el.LocalizationProvider,{sx:{width:50},dateAdapter:et.AdapterMoment,children:(0,a.jsx)(en.DatePicker,{label:"Date",value:tG,onChange:e=>{eX((0,q.resetData)()),tN(e)},renderInput:e=>(0,a.jsx)(N.TextField,{...e}),shouldDisableDate:e=>e>=new Date})}),(0,a.jsx)(E.default,{onClick:t5,children:(0,a.jsx)(ea.MdClose,{color:"red"})})]})}),tx&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("th",{children:(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:" All attendance"}),(0,a.jsx)(E.default,{size:"small",onClick:()=>{tc(e=>!e),th("attendance")},children:ts?(0,a.jsx)(G.FaSortUp,{}):(0,a.jsx)(G.FaSortDown,{})})]})})}),(0,a.jsx)("th",{children:(0,a.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[e7?(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:"Evaluate"}),(0,a.jsx)(E.default,{size:"small",onClick:()=>{to(e=>!e),th("evaluate")},children:tr?(0,a.jsx)(G.FaSortUp,{}):(0,a.jsx)(G.FaSortDown,{})})]}):(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:"Score"}),(0,a.jsx)(E.default,{size:"small",onClick:()=>{to(e=>!e),th("score")},children:tr?(0,a.jsx)(G.FaSortUp,{}):(0,a.jsx)(G.FaSortDown,{})})]}),(0,a.jsx)(_.default,{title:"Setting",children:(0,a.jsx)(E.default,{onClick:e=>{tm(e.currentTarget)},children:(0,a.jsx)(H.BsThreeDotsVertical,{size:20,color:"#3c3c3c"})})})]})}),tt&&(0,a.jsx)("th",{style:{backgroundColor:"#fff"},children:(0,a.jsx)(K.default,{groupId:null==eq?void 0:null===(r=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===r?void 0:r.id,subjectId:null==eP?void 0:null===(x=eP.find(e=>(null==e?void 0:e.name)===eh))||void 0===x?void 0:x.id,educationId:null==eQ?void 0:eQ.id,allThemeData:tk,getThemeAll:()=>tP(eh,eP,null==eQ?void 0:eQ.id),setThemeModal:tT})}),!tt&&(0,a.jsx)("th",{children:"Info"})]})}),(0,a.jsxs)("tbody",{children:[!e1&&(null==e$?void 0:e$.sort(t3).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,a.jsx)("td",{children:(0,a.jsx)("p",{children:null==e?void 0:e.fullName})}),(0,a.jsx)("td",{children:tM?(0,a.jsx)(ed.default,{handleMenuAttClick:tO,setDataForChangeAttendance:tb,loadForCalendar:tH,data2:e,data:null==e?void 0:e.selectedDate}):(0,a.jsx)(D.default,{data:null==e?void 0:e.subjects,data2:e,handleMenuAttClick:tO,setDataForChangeAttendance:tb})}),tx&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("td",{children:e5?(0,a.jsx)(N.Skeleton,{sx:{margin:"0 auto"},width:100,height:50}):(0,a.jsx)(eD,{onClick:()=>tK(e),children:null==e?void 0:e.subjectNb})})}),e7?(0,a.jsx)("td",{children:(0,a.jsx)(eD,{onClick:()=>t0(e),children:parseFloat(((null==e?void 0:e.todayGrade)||0).toFixed(3))})}):(0,a.jsx)("td",{children:(0,a.jsx)($.default,{item:e,handleOpen2:()=>t$(e)})}),tt&&(0,a.jsx)("td",{children:(0,a.jsx)(V.default,{data:e})}),!tt&&(0,a.jsx)("td",{children:(0,a.jsx)(eD,{onClick:()=>tX(e),children:(0,a.jsx)(w.AiFillInfoCircle,{})})})]},t))),!e1&&(null==e$?void 0:e$.length)>0&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{}),(0,a.jsx)("td",{children:(0,a.jsx)("b",{children:"ATTENDANCE"})}),(0,a.jsx)("td",{children:!tx&&(0,a.jsx)(Q.default,{data:null==e$?void 0:e$.map(e=>tM?null==e?void 0:e.selectedDate:null==e?void 0:e.subjects)})}),tx&&(0,a.jsx)("td",{}),(0,a.jsx)("td",{}),(0,a.jsx)("td",{})]})]})]}),(0,a.jsx)(W.default,{handleCloseCalendarHeader:t5,fetchCoreDataStudents:tV}),(0,a.jsx)(J.default,{fetchCoreDataStudents:tV,setBtnToggle2:tn}),e1&&(0,a.jsx)(o.default,{sx:{width:"100%",marginTop:"20px"},children:(0,a.jsx)(I.default,{})}),0===e$.length&&(0,a.jsx)(M.default,{w:200,h:180})]})]}),(0,a.jsx)(P.default,{open:!!tS,anchorEl:tS,data:tg,handleClose:()=>{tI(null)}}),(0,a.jsxs)(N.Menu,{anchorEl:tz,id:"account-menu-att",open:tz,onClose:tB,onClick:tB,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,a.jsxs)(c.default,{onClick:()=>tE(!0),children:[(0,a.jsx)(N.ListItemIcon,{children:(0,a.jsx)(G.FaRegCalendarAlt,{size:18})}),"Date"]}),(0,a.jsxs)(c.default,{onClick:()=>tC(!0),children:[(0,a.jsx)(N.ListItemIcon,{children:(0,a.jsx)(ei.LuClipboardEdit,{size:18})}),"Change attendance"]}),(0,a.jsxs)(c.default,{onClick:()=>{eH(!0)},children:[(0,a.jsx)(N.ListItemIcon,{children:(0,a.jsx)(G.FaRegCalendarCheck,{size:18})}),"all attendance"]}),(0,a.jsx)(c.default,{children:(0,a.jsx)(R.default,{control:(0,a.jsx)(z.default,{checked:tx,onChange:e=>{tf(e.target.checked)}}),label:"Attendance"})})]}),(0,a.jsxs)(N.Menu,{anchorEl:tv,id:"account-menu-score",open:!!tv,onClose:()=>{tm(null)},PaperProps:{elevation:0,sx:{p:1,width:"225px",overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,a.jsxs)(N.FormGroup,{children:[(0,a.jsx)(R.default,{control:(0,a.jsx)(z.default,{checked:e7,onChange:e=>{te(e.target.checked)}}),label:"Evaluate"}),(0,a.jsx)(R.default,{control:(0,a.jsx)(z.default,{checked:tt,onChange:e=>{tn(e.target.checked),eX((0,Z.resetDataScore)())}}),label:"Evaluate multipart"})]}),e$.length>0&&(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",gap:"10px",mt:"10px"},children:(0,a.jsx)(O.default,{educationYear:eQ,content:e$,groupName:ef,subjectName:eh})})]}),(0,a.jsx)(f.default,{open:em,onClose:t1,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(o.default,{sx:ey,component:eC,children:[(0,a.jsx)(ek,{onClick:t1,children:(0,a.jsx)(v.RiCloseLine,{})}),(0,a.jsx)(k.default,{data:e_})]})}),(0,a.jsx)(f.default,{open:eY,onClose:tJ,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(o.default,{sx:eI,component:ew,children:[(0,a.jsx)(ek,{onClick:tJ,children:(0,a.jsx)(v.RiCloseLine,{})}),(0,a.jsx)(p.default,{oneSciencesScore:eR,setOpen2:eM})]})}),(0,a.jsx)(Y.default,{getThemeAll:()=>tP(eh,eP,null==eQ?void 0:eQ.id),setTodayGrade:eL,openEvaluateToday:tl,setOpenEvaluateToday:ta,oneSciencesScore:eR,allThemeData:tk,setThemeModal:tT}),(0,a.jsx)(f.default,{open:eE,onClose:tZ,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(o.default,{sx:ey,component:eC,children:[(0,a.jsx)(ek,{onClick:tZ,children:(0,a.jsx)(v.RiCloseLine,{})}),(0,a.jsx)(A.default,{studentData:e9})]})}),(0,a.jsx)(f.default,{open:eN,onClose:tQ,children:(0,a.jsxs)(o.default,{sx:eS,component:eC,children:[(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},onClick:tQ,children:(0,a.jsx)(E.default,{children:(0,a.jsx)(v.RiCloseLine,{})})}),(0,a.jsx)(B.default,{groups:eq,lessons:eP,groupSelect:ef,scien:eh})]})}),(0,a.jsx)(U.default,{open:ty,handleClose:()=>tC(!1),data3:null==e$?void 0:e$.sort(t3)}),(0,a.jsx)(X.default,{getThemeAll:()=>tP(eh,eP,null==eQ?void 0:eQ.id),groupId:null==eq?void 0:null===(C=eq.find(e=>(null==e?void 0:e.name)===ef))||void 0===C?void 0:C.id,subjectId:null==eP?void 0:null===(eo=eP.find(e=>(null==e?void 0:e.name)===eh))||void 0===eo?void 0:eo.id,educationYearId:null==eQ?void 0:eQ.id,open:tA,setThemeModal:tT})]})}},84493:function(e,t,n){"use strict";n.r(t),n("88449"),n("19894"),n("2490"),n("57658"),n("33948"),n("15581"),n("34514");var l=n("85893");n("67294");var a=n("50533"),d=n("55693"),i=n("94718"),r=n("27233"),o=n("16393"),s=n("72132"),c=n("92690"),u=n("14599");t.default=e=>{let{exportToExcel:t,confData:n,dataStudents:h}=e,x=(0,a.useSelector)(e=>{var t,n;return null===(n=e.AllNbStudentForTeacher)||void 0===n?void 0:null===(t=n.dataAttendance)||void 0===t?void 0:t.attendances})||[],f=(0,a.useDispatch)(),v=()=>{f((0,u.resetAttendance)()),f((0,c.getAllStudentData)(n))};return(0,l.jsx)(d.default,{sx:{display:"flex",justifyContent:"end",mt:2},children:(0,l.jsxs)(d.default,{sx:{display:"flex",gap:2},children:[x.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{variant:"contained",color:"error",onClick:v,children:"Don't Save"}),(0,l.jsx)(i.default,{variant:"contained",onClick:()=>{let e=x.filter(e=>null===e.id),t=x.filter(e=>null!==e.id),l=[];e.length>0&&l.push(r.default.post("".concat(o.BASE_URL,"/dynamicAttendance/createMultiDynamicAttendance3"),e,n.headers)),t.length>0&&l.push(r.default.put("".concat(o.BASE_URL,"/dynamicAttendance/updateMultiDynamicAttendance3"),t,n.headers)),l.length>0&&Promise.all(l).then(e=>{e.forEach(e=>{}),s.toast.success("Success"),v()}).catch(e=>{s.toast.error("Error saving")})},children:"Save"})]}),(null==h?void 0:h.length)>0&&(0,l.jsx)(i.default,{onClick:t,variant:"outlined",children:"Export"})]})})}},79321:function(e,t,n){"use strict";n.r(t);var l=n("58865"),a=n("85893"),d=n("67294"),i=n("55693"),r=n("71893"),o=n("3506");function s(){let e=(0,l._)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: #f1f1f1;\n\n    &:hover {\n        opacity: 0.8;\n    }\n\n"]);return s=function(){return e},e}let c=r.default.div(s(),e=>e.bgColor);t.default=(0,d.memo)(e=>{var t;let{item:n,handleOpen2:l}=e,d=parseFloat(null===(t=((null==n?void 0:n.allSumGrade)||0)+((null==n?void 0:n.allGradesForAttendance)||0))||void 0===t?void 0:t.toFixed(3));return(0,a.jsx)(i.default,{sx:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(o.default,{title:"max:30",arrow:!0,children:(0,a.jsx)(c,{bgColor:(e=>{let t=parseFloat((10*e/3).toFixed(3));if(t>=0&&t<60)return"#FF0000";if(t>=60&&t<85)return"rgb(215,215,0)";if(t>=85)return"#00bd00"})(d),onClick:()=>l(n),children:d})})})})},8033:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("33948"),n("31672"),n("59461");var a=n("85893"),d=n("67294"),i=n("71893"),r=n("8193"),o=n("30381"),s=n.n(o),c=n("7104"),u=n("3506"),h=n("55693"),x=n("50533");function f(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n"]);return f=function(){return e},e}let v=i.default.div(f(),e=>e.color?e.color:"#000");t.default=(0,d.memo)(e=>{var t;let{data:n,data2:l,setDataForChangeAttendance:d,handleOpenDynamicAttendance:i,handleMenuAttClick:o}=e,f=(0,x.useSelector)(e=>e.attendanceForJournal),m=null===(t=n.filter(e=>e.day===s()().day()&&e.week===s()().week()&&e.year===s()().year()))||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.section)<(null==t?void 0:t.section)?-1:(null==e?void 0:e.section)>(null==t?void 0:t.section)?1:0),p=(e,t,n)=>{let l=f.attendances.find(e=>e.studentId===t&&e.section===n);if(l)return l.isCome;{if((null==e?void 0:e.length)===0)return!1;let t=e.find(e=>"DYNAMIC"===e.type);return!t||t.isCome}},j=(e,t)=>{if(e){var n,l;let e=null==t?void 0:null===(n=t.statistics)||void 0===n?void 0:n.find(e=>"DYNAMIC"===e.type);return e?(0,a.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,a.jsxs)("p",{children:["section-",null==e?void 0:e.section]}),(0,a.jsx)("p",{children:null==t?void 0:t.room}),(0,a.jsx)("p",{children:s()(e.time).format("HH:mm")})]}):(0,a.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,a.jsxs)("p",{children:["section-",null===(l=t.statistics[0])||void 0===l?void 0:l.section]}),(0,a.jsx)("p",{children:null==t?void 0:t.room}),(0,a.jsx)("p",{children:s()(function(e){let t=e.filter(e=>e.hasOwnProperty("time"));return 0===t.length?null:Math.min(...t.map(e=>e.time))}(null==t?void 0:t.statistics)).format("HH:mm")})]})}return""},g=(e,t,n)=>{var a,i;o(e),d({id:(null==t?void 0:null===(i=t.statistics)||void 0===i?void 0:null===(a=i.find(e=>(null==e?void 0:e.type)==="DYNAMIC"))||void 0===a?void 0:a.nameId)||null,year:t.year,week:t.week,day:t.day,studentId:t.studentId,subjectId:l.subjectId,educationId:l.educationId,groupId:l.groupId,room:t.room,section:t.section,isComeData:n})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.default,{sx:{display:"flex",alignItems:"center"},children:null==m?void 0:m.map((e,t)=>(0,a.jsx)(u.default,{TransitionComponent:c.Zoom,title:j(p(null==e?void 0:e.statistics),e),arrow:!0,placement:"right",children:(0,a.jsx)(v,{onClick:t=>g(t,e,p(null==e?void 0:e.statistics)),color:p(null==e?void 0:e.statistics,e.studentId,e.section)?"green":"red",children:p(null==e?void 0:e.statistics,e.studentId,e.section)?(0,a.jsx)(r.AiFillCheckCircle,{size:22}):(0,a.jsx)(r.AiFillCloseCircle,{size:22})})},t))})})})},64425:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("88449"),n("19894"),n("2490"),n("64211"),n("41874"),n("57640"),n("9924"),n("31672"),n("59461");var a=n("85893");n("67294");var d=n("71893"),i=n("16393"),r=n("30381"),o=n.n(r),s=n("50533");function c(){let e=(0,l._)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"]);return c=function(){return e},e}function u(){let e=(0,l._)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return u=function(){return e},e}function h(){let e=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return h=function(){return e},e}function x(){let e=(0,l._)(["\n"]);return x=function(){return e},e}let f=d.default.div(c(),e=>e.jsc,e=>e.bg),v=d.default.div(u()),m=d.default.div(h(),i.mainColor),p=d.default.div(x());t.default=e=>{var t;let{data:n}=e,{subjects:l,fullName:d}=n,i=(0,s.useSelector)(e=>e.hourSection),r=null==l?void 0:null===(t=l.filter(e=>{var t;return(null==e?void 0:e.statistics.length)===0||(null===(t=e.statistics)||void 0===t?void 0:t.some(e=>(null==e?void 0:e.isCome)===!1))}))||void 0===t?void 0:t.map(e=>{let t=o()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=i.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:o()(n).format("HH:mm")}}).filter(e=>o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(o()(),"minute")),c=null==r?void 0:r.sort((e,t)=>{let n=o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return o()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)});return(0,a.jsxs)(p,{children:[(0,a.jsx)(m,{children:d}),(0,a.jsx)(v,{children:(null==c?void 0:c.length)>0?null==c?void 0:c.map((e,t)=>(0,a.jsxs)(f,{bg:"red",jsc:"space-between",children:[(0,a.jsx)("p",{children:e.date}),(0,a.jsxs)("p",{children:[e.section," - section"]})]},t)):(0,a.jsx)(f,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})}},53701:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("85466"),r=n("87980"),o=n("43927"),s=n("89589"),c=n("23508"),u=n("71893"),h=n("16393"),x=n("30381"),f=n.n(x),v=n("78951"),m=n("27233");function p(){let e=(0,l._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return p=function(){return e},e}function j(){let e=(0,l._)(["\n  text-align: center;\n  border: 1px solid silver;\n  padding: 5px;\n"]);return j=function(){return e},e}function g(){let e=(0,l._)(["\n  margin-top: 50px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return g=function(){return e},e}function b(){let e=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return b=function(){return e},e}function y(){let e=(0,l._)(["\n"]);return y=function(){return e},e}let C=u.default.div(p()),S=u.default.div(j()),I=u.default.div(g()),w=u.default.div(b(),h.mainColor),k=u.default.div(y());t.default=e=>{var t,n;let{studentData:l}=e,{fullName:u,studentId:x,subjectId:p,groupId:j,educationId:g}=l,[b,y]=(0,d.useState)([]),[D,A]=(0,d.useState)(!1),T=e=>(t,n)=>{A(!!n&&e)},{headers:F}=(0,h.getHeaders)(),Y=async()=>{await m.default.get("".concat(h.BASE_URL,"/downloadCounter/getDownloadCountOfOneStudent/").concat(g,"?groupId=").concat(j,"&subjectId=").concat(p,"&studentId=").concat(x),{headers:F}).then(e=>{var t;y(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})};return(0,d.useEffect)(()=>{Y()},[]),(0,a.jsxs)(k,{children:[(0,a.jsx)(w,{children:u}),(0,a.jsx)(I,{children:null===(n=b[0])||void 0===n?void 0:null===(t=n.lines)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)(i.default,{expanded:D===t,onChange:T(t),children:[(0,a.jsx)(o.default,{expandIcon:(0,a.jsx)(c.default,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,a.jsx)(s.default,{sx:{color:"".concat(h.mainColor),fontWeight:"bold"},children:e.queue+"-Mavzu: "+e.themeName})}),(0,a.jsxs)(r.default,{children:[(0,a.jsxs)(C,{children:[(0,a.jsx)(S,{children:(0,a.jsx)("b",{children:"File name "})}),(0,a.jsx)(S,{children:(0,a.jsx)("b",{children:"Number of downloads"})}),(0,a.jsx)(S,{children:(0,a.jsx)("b",{children:"last download time "})})]}),e.counter.length>0?e.counter.map((e,t)=>(0,a.jsxs)(C,{children:[(0,a.jsx)(S,{children:(0,a.jsxs)("p",{children:[" ",e.fileName.substring(0,e.fileName.indexOf("_"))]})}),(0,a.jsx)(S,{children:(0,a.jsxs)("p",{children:[e.count," "]})}),(0,a.jsx)(S,{children:(0,a.jsxs)("p",{children:[f()(e.lastDownloadTime).format("DD.MM.YYYY HH:MM")," "]})})]},t)):(0,a.jsx)(v.default,{w:"140",h:"120"})]})]},t))})]})}},2096:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),a=n("67294"),d=n("27233"),i=n("50533"),r=n("16393"),o=n("7104"),s=n("1168"),c=n("86893"),u=n("70997"),h=n("56495");t.default=(0,a.memo)(e=>{var t,n,x,f,v;let{groupId:m,eduId:p,subjectId:j,data:g,loadData:b}=e,y=(0,i.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.teacher)||void 0===t?void 0:t.teacher})||null,C=(0,i.useSelector)(e=>{var t;return null===(t=e.vedimostSlice)||void 0===t?void 0:t.data}),S=(0,i.useSelector)(e=>{var t;return null===(t=e.vedimostSlice)||void 0===t?void 0:t.loading}),[I,w]=(0,a.useState)(!1),[k,D]=(0,a.useState)(!1),A=(0,i.useDispatch)(),T=async()=>{if(m){A((0,u.dataVedimostLoad)());try{let e=await d.default.get("".concat(r.BASE_URL,"/vedimost/getVedimostForBeingDone/").concat(null==y?void 0:y.id,"/").concat(j,"/").concat(m,"?educationYearId=").concat(p),(0,r.getHeaders)());A((0,u.dataVedimostFetched)(e.data))}catch(e){A((0,u.dataVedimostFetchingError)())}}};(0,a.useEffect)(()=>{T()},[m]);let F=(0,a.useCallback)(()=>{D(!0)},[]);return(0,l.jsx)("div",{children:m&&!b&&!S&&((null==C?void 0:C.obj)===null?(0,l.jsx)(o.Alert,{sx:{padding:"0 15px"},variant:"filled",severity:"warning",children:null==C?void 0:C.message}):(null==C?void 0:null===(t=C.obj)||void 0===t?void 0:t.timeClose)===null?(0,l.jsxs)(o.Box,{sx:{display:"flex",gap:2},children:[(0,l.jsxs)(o.Alert,{sx:{padding:"0 15px",fontSize:"13px"},variant:(null==C?void 0:null===(n=C.obj)||void 0===n?void 0:n.deadline)>=new Date().getTime()&&!k?"outlined":"filled",severity:"warning",color:(null==C?void 0:null===(x=C.obj)||void 0===x?void 0:x.deadline)>=new Date().getTime()&&!k?"success":"error",icon:(0,l.jsx)(c.FiClock,{size:"20px"}),children:["Deadline: ",(0,l.jsx)(s.default,{targetDate:null==C?void 0:null===(f=C.obj)||void 0===f?void 0:f.deadline,onTimeUp:F})]}),(null==C?void 0:null===(v=C.obj)||void 0===v?void 0:v.deadline)>=new Date().getTime()&&!k&&(0,l.jsx)(h.default,{data:g,loadData:b,open:I,setOpen:w,getVedimostInfo:T})]}):(0,l.jsx)(o.Alert,{sx:{padding:"0 15px"},variant:"filled",severity:"success",children:"Statement sent successfully"}))})})},38981:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924");var l=n("85893");n("67294");var a=n("7104"),d=n("51649"),i=n("50533"),r=n("27233"),o=n("16393"),s=n("72132");t.default=e=>{let{data:t,loadData:n,getVedimostInfo:c,handleClose:u}=e,h=(0,i.useSelector)(e=>{var t,n;return null===(n=e.vedimostSlice)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.obj}),x=e=>parseFloat((((null==e?void 0:e.allSumGrade)||0)+((null==e?void 0:e.allGradesForAttendance)||0)).toFixed(3));return(null==t?void 0:t.length)&&!n&&(null==h?void 0:h.id)!=null?(0,l.jsx)(a.Button,{size:"small",variant:"contained",onClick:()=>{if((null==h?void 0:h.deadline)<new Date().getTime())return s.toast.warning("Time's up!");let e={vedimostId:null==h?void 0:h.id,data:null==t?void 0:t.map(e=>({studentId:e.studentId,grade:x(e)}))};r.default.post("".concat(o.BASE_URL,"/finalGrade/createFinalGrades"),e,(0,o.getHeaders)()).then(e=>{s.toast.success("Success"),c(),u()}).catch(e=>{s.toast.error("Error")})},endIcon:(0,l.jsx)(d.IoMdSend,{}),children:"Send"}):null}},56495:function(e,t,n){"use strict";n.r(t);var l=n("85893");n("67294");var a=n("94718"),d=n("97367"),i=n("55693"),r=n("89589"),o=n("51649"),s=n("38981");let c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:360,bgcolor:"background.paper",border:"none",boxShadow:24,outline:"none",p:2,borderRadius:1};t.default=e=>{let{open:t,setOpen:n,loadData:u,data:h,getVedimostInfo:x}=e,f=()=>n(!1);return(0,l.jsxs)("div",{children:[(0,l.jsx)(a.default,{variant:"outlined",onClick:()=>n(!0),children:(0,l.jsx)(o.IoMdSend,{size:22})}),(0,l.jsx)(d.default,{keepMounted:!0,open:t,onClose:f,children:(0,l.jsxs)(i.default,{sx:c,children:[(0,l.jsx)(r.default,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",children:"Statement"}),(0,l.jsx)(r.default,{id:"keep-mounted-modal-description",sx:{mt:2},children:"Once you submit your statement, you cannot change your data!"}),(0,l.jsxs)(i.default,{sx:{display:"flex",justifyContent:"end",gap:2,mt:2},children:[(0,l.jsx)(a.default,{size:"small",variant:"outlined",onClick:f,children:"cancel"}),(0,l.jsx)(s.default,{data:h,handleClose:f,loadData:u,getVedimostInfo:x})]})]})})]})}},1168:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),a=n("67294"),d=n("30381"),i=n.n(d);t.default=(0,a.memo)(e=>{let{targetDate:t,onTimeUp:n}=e,d=()=>{let e=i()(),n=i()(t),l=i().duration(n.diff(e));return{days:Math.floor(l.asDays()),hours:String(l.hours()).padStart(2,"0"),minutes:String(l.minutes()).padStart(2,"0"),seconds:String(l.seconds()).padStart(2,"0"),total:l.asMilliseconds()}},[r,o]=(0,a.useState)(d());return(0,a.useEffect)(()=>{let e=setInterval(()=>{let t=d();o(t),t.total<=0&&(clearInterval(e),n())},1e3);return()=>clearInterval(e)},[t,n]),(0,l.jsx)(l.Fragment,{children:r.total<=0?(0,l.jsx)("span",{children:"Time's up!"}):(0,l.jsx)("span",{children:"".concat(r.days," day").concat(1!==r.days?"s":""," ").concat(r.hours,":").concat(r.minutes,":").concat(r.seconds)})})})},36493:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("15306"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("89258"),r=n("71893"),o=n("94718"),s=n("7701"),c=n("5434"),u=n("49492");function h(){let e=(0,l._)(["\n    width: 700px;\n    margin: 0 auto;\n    font-size: 14px;\n    padding: 10px;\n    color: black;\n    line-height: 1.7;\n\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    table, td, th {\n        border: 1px solid;\n        padding: 6px;\n    }\n\n    th {\n        text-align: center;\n    }\n"]);return h=function(){return e},e}let x=r.default.div(h());t.default=(0,d.memo)(e=>{var t,n;let{educationYear:l,teacherData:r,dataOfLeaders:h,content:f,groupName:v,subjectName:m}=e,p=(0,d.useRef)(null),[j,g]=(0,d.useState)(!1),b=null==l?void 0:null===(t=l.name)||void 0===t?void 0:t.match(/\d{4}-\d{4}/),y=b?b[0].replace("-","/"):null,C=null==l?void 0:null===(n=l.name)||void 0===n?void 0:n.match(/\d+-sem/),S=C?C[0].split("-")[0]:null,I=null==h?void 0:h.direction.replace(/^\(.*?\)\s*/,"");function w(e){return e?parseFloat(Math.ceil((e.allSumGrade||0)+(e.allGradesForAttendance||0))):0}let k=async()=>{g(!0);let e=p.current,t={margin:10,filename:"statement-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await (0,u.default)().set(t).from(e).save(),g(!1)};return(0,a.jsxs)(a.Fragment,{children:[j?(0,a.jsx)(o.default,{size:"small",variant:"outlined",endIcon:(0,a.jsx)(s.default,{size:18}),children:"download"}):(0,a.jsx)(o.default,{size:"small",variant:"contained",endIcon:(0,a.jsx)(c.MdOutlineFileDownload,{size:22}),onClick:k,children:"statement pdf"}),(0,a.jsx)("div",{style:{display:"none"},children:(0,a.jsxs)(x,{ref:p,children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{width:130,src:i,alt:"logo"})}),(0,a.jsx)("div",{children:(0,a.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,a.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]})})]}),(0,a.jsxs)("div",{style:{textAlign:"center",margin:"10px 0"},children:[(0,a.jsxs)("b",{children:[" ","<<",I||null,">>"," ",(0,a.jsx)("br",{}),y," ACADEMIC YEAR ",(0,a.jsx)("br",{})]}),(0,a.jsxs)("b",{children:[" STATEMENT OF RATING \u2116 ",(0,a.jsx)("span",{style:{width:80,borderBottom:"1px solid #000"},children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"})]})]}),(0,a.jsx)("div",{style:{margin:"10px 0"},children:(0,a.jsxs)("p",{children:["Discipline: ",(0,a.jsx)("b",{children:m})]})}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[(0,a.jsxs)("p",{children:["Course: ",(0,a.jsx)("b",{children:null==h?void 0:h.course})]}),(0,a.jsxs)("p",{children:["Semester:",(0,a.jsx)("b",{children:S})]}),(0,a.jsxs)("p",{children:["Group: ",(0,a.jsx)("b",{children:v})]})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"10px 0"},children:[(0,a.jsxs)("p",{children:["Number of credits: ",(0,a.jsx)("b",{children:"2"})]}),(0,a.jsxs)("p",{children:["Hours: ",(0,a.jsx)("b",{})]})]}),(0,a.jsx)("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:"STUDENTS NAMES"}),(0,a.jsx)("th",{children:"ID number"}),(0,a.jsx)("th",{children:"CC"})]}),null==f?void 0:f.slice(0,18).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:t+1})}),(0,a.jsx)("td",{children:(0,a.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:null==e?void 0:e.userId})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:w(e)})})]},t))]})}),(0,a.jsx)("br",{}),(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:null==f?void 0:f.slice(18).map((e,t)=>{var n;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:t+(null==f?void 0:null===(n=f.slice(0,18))||void 0===n?void 0:n.length)+1})}),(0,a.jsx)("td",{children:(0,a.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:null==e?void 0:e.userId})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:w(e)})})]},t)})})}),(0,a.jsx)("p",{children:"CC-Current Control"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Teacher:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:r.fullName})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Head of Department:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:null==h?void 0:h.headOfDepartment})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Course Leader:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:null==h?void 0:h.courseLeader})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Head of Academic Affairs      Department:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:null==h?void 0:h.headOfAcademicAffair})]})]})})]})})}}]);