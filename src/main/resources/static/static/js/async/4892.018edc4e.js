/*! For license information please see 4892.018edc4e.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["4892"],{95580:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return i}});var o=t("85893");t("67294"),t("35078");var i=function(){return(0,o.jsx)("div",{className:"spinner2",children:(0,o.jsx)("svg",{viewBox:"0 0 120 120",children:(0,o.jsxs)("g",{className:"g1",children:[(0,o.jsx)("rect",{className:"r1",x:"30",y:"30",width:"60",height:"60"}),(0,o.jsx)("rect",{className:"big",x:"81",y:"81",width:"8",height:"8"}),(0,o.jsx)("rect",{className:"r_ol",x:"31",y:"31",width:"8",height:"8"}),(0,o.jsx)("rect",{className:"r_or",x:"81",y:"31",width:"8",height:"8"}),(0,o.jsx)("rect",{className:"r_ul",x:"31",y:"81",width:"8",height:"8"}),(0,o.jsx)("xrect",{className:"r_ur",x:"81",y:"81",width:"8",height:"8"})]})})})}},29318:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return F}});var o=t("7409"),i=t("99282"),l=t("38956"),r=t("58865");t("57658"),t("69826"),t("31672"),t("59461"),t("2490"),t("41539"),t("15581"),t("34514"),t("34553"),t("73210"),t("92222"),t("57327"),t("88449"),t("19894"),t("21249"),t("57640"),t("9924"),t("94986"),t("82772");var u=t("85893"),d=t("67294"),a=t.n(d),s=t("71893"),v=t("71632"),c=t("52861"),f=t("44118"),h=t("27233"),m=t("28685"),x=t("30381"),g=t.n(x),p=t("32392"),w=t("44025"),b=t("61261"),j=t("42154"),D=t("40986"),y=t("95580"),k=t("96413"),_=t("73871"),Y=t("14628"),H=t("90199");function S(){var n=(0,r._)(["\n    width: 300px;\n    ","\n"]);return S=function(){return n},n}function N(){var n=(0,r._)(["\n    overflow: hidden;\n    margin: 15px 0 0;\n    padding: 10px 0;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: 25px;\n    ","\n"]);return N=function(){return n},n}function z(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 1rem;\n\n"]);return z=function(){return n},n}var M=s.default.div(S(),(0,v.extrasmall)({width:"80%"})),O=s.default.div(N(),(0,v.extrasmall)({justifyContent:"center"})),W=s.default.div(z()),F=function(){var n,e,t,r,s,v,x=(0,l._)((0,d.useState)(!1),2),S=x[0],N=x[1],z=(0,l._)((0,d.useState)([]),2),F=z[0],E=z[1],B=(0,l._)((0,d.useState)([]),2),C=B[0],A=B[1],I=(0,l._)((0,d.useState)([]),2),T=I[0],R=I[1],L=(0,l._)((0,d.useState)(null),2),P=L[0],U=L[1],V=(0,l._)((0,d.useState)((null==T?void 0:null===(n=T.find(function(n){return(null==n?void 0:n.label)===P}))||void 0===n?void 0:n.minFloor)||1),2),X=V[0],q=V[1],G=(0,m.getHeaders)().headers,J=(0,l._)(a().useState(g()()),2),K=J[0],Q=J[1],Z=(0,l._)((0,d.useState)(!1),2),$=Z[0],nn=Z[1];(0,d.useEffect)(function(){h.default.get(m.BASE_URL+"/building/getBuildingsForSelect",{headers:G}).then(function(n){var e,t,o;R(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj),U(null==n?void 0:null===(o=n.data)||void 0===o?void 0:null===(t=o.obj[0])||void 0===t?void 0:t.label)}).catch(function(n){console.log(n)})},[]);var ne=(0,l._)((0,d.useState)({date:new Date,dateFrom:g()().startOf("isoWeek").toDate(),dateTo:g()().endOf("isoWeek").toDate(),weekNumber:g()().isoWeek(),year:g()().year(),weekday:g()().day()}),2),nt=ne[0],no=ne[1],ni=function(n){var e=g()(n.format("YYYY-MM-DD")).isoWeek(),t=g()(n.format("YYYY-MM-DD")).day(),o=g()(n.format("YYYY-MM-DD")).year(),i=g()(n.format("YYYY-MM-DD")).startOf("isoWeek").toDate(),l=g()(n.format("YYYY-MM-DD")).endOf("isoWeek").toDate();no({date:n,dateFrom:i,dateTo:l,weekNumber:e,year:o,weekday:t})};(0,d.useEffect)(function(){N(!1),nn(!1),P&&nr()},[P,X,nt]),(0,d.useEffect)(function(){ni(K)},[K]);var nl=function(n){var e=[];return null==n||n.forEach(function(n){null==n||n.forEach(function(n){var t=null==e?void 0:e.findIndex(function(e){var t,o,i;return(null===(o=e[0])||void 0===o?void 0:null===(t=o.room)||void 0===t?void 0:t.trim())===(null===(i=n.room)||void 0===i?void 0:i.trim())});t+1?e[t].push(n):e.push([n])})}),e},nr=function(){h.default.get(m.BASE_URL+"/timeTableByWeekOfYear/getTimeTableByAllRoomAndWeek?b=".concat(null==P?void 0:P.substring(0,1),"-").concat(X,"&week=").concat(null==nt?void 0:nt.weekNumber,"&weekday=").concat(nt.weekday,"&year=").concat(nt.year,"&t=true"),{headers:G}).then(function(n){var e,t;E(nl(n.data.obj)),console.log(n.data,"111111111"),console.log(nl(n.data.obj),"2222222222222"),A(nl(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.secondObj)),console.log(nl(null===(t=n.data)||void 0===t?void 0:t.secondObj),"3333333333333"),N(!0),nn(!1)}).catch(function(n){console.log(n),nn(!0)})},nu=(0,l._)((0,d.useState)(!1),2);return nu[0],nu[1],console.log($),(0,u.jsxs)(W,{children:[T&&(null==T?void 0:T.length)>0&&(0,u.jsxs)(O,{children:[(0,u.jsx)(M,{children:(0,u.jsx)(f.default,{disablePortal:!0,id:"combo-box-demo",options:T,defaultValue:T[0],onChange:function(n,e){U(null==e?void 0:e.label)},renderInput:function(n){return(0,u.jsx)(c.default,(0,i._)((0,o._)({},n),{label:"Buildings"}))}})}),(0,u.jsx)(M,{children:(0,u.jsxs)(j.default,{fullWidth:!0,children:[(0,u.jsx)(p.default,{id:"demo-simple-select-label",children:"Floor"}),(0,u.jsx)(w.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:X,label:"Floor",onChange:function(n){q(n.target.value)},children:null===(t=function(n,e){for(var t=[];n<=e;n++)t.push(n);return t}(null==T?void 0:null===(r=T.find(function(n){return(null==n?void 0:n.label)===P}))||void 0===r?void 0:r.minFloor,null==T?void 0:null===(s=T.find(function(n){return(null==n?void 0:n.label)===P}))||void 0===s?void 0:s.maxFloor))||void 0===t?void 0:null===(e=t.filter(function(n){return 0!==n}))||void 0===e?void 0:e.map(function(n){return(0,u.jsx)(b.default,{value:n,children:n})})})]})}),(0,u.jsx)(_.LocalizationProvider,{dateAdapter:k.AdapterMoment,children:(0,u.jsx)(Y.DesktopDatePicker,{label:"Day",inputFormat:"DD/MM/YYYY",value:K,onChange:function(n){Q(n)},renderInput:function(n){return(0,u.jsx)(c.default,(0,o._)({},n))}})})]}),(0,u.jsx)("div",{style:{width:"100%",overflowX:"scroll"},children:S?null==F?void 0:null===(v=F.filter(function(n){return(null==n?void 0:n.length)>0}))||void 0===v?void 0:v.map(function(n,e){var t=[];return null==C||C.map(function(e){var o;return(null==e?void 0:null===(o=e.filter(function(e){var t,o,i,l,r,u,d,a,s,v;return((null==e?void 0:null===(t=e.room)||void 0===t?void 0:t.lastIndexOf("-"))===5?null==e?void 0:null===(o=e.room)||void 0===o?void 0:o.substring(0,5):null==e?void 0:e.room)===((null===(r=n[0])||void 0===r?void 0:null===(l=r.room)||void 0===l?void 0:null===(i=l.trim())||void 0===i?void 0:i.length)===7?null===(u=n[0])||void 0===u?void 0:u.room:null===(v=n[0])||void 0===v?void 0:null===(s=v.room)||void 0===s?void 0:s.substring(0,(null===(a=n[0])||void 0===a?void 0:null===(d=a.room)||void 0===d?void 0:d.indexOf("-"))+4))}))||void 0===o?void 0:o.length)>0&&(t=null==e?void 0:e.filter(function(e){var t,o,i,l,r,u,d,a;return(null==e?void 0:e.room)===(null===(i=n[0])||void 0===i?void 0:null===(o=i.room)||void 0===o?void 0:null===(t=o.trim())||void 0===t?void 0:t.length)==7?null===(l=n[0])||void 0===l?void 0:l.room:null===(a=n[0])||void 0===a?void 0:null===(d=a.room)||void 0===d?void 0:d.substring(0,(null===(u=n[0])||void 0===u?void 0:null===(r=u.room)||void 0===r?void 0:r.indexOf("-"))+4)})),e}),(0,u.jsx)(D.default,{index:e,data:n,statistics:t,objWeek:nt})}):$?(0,u.jsx)(H.default,{w:"200",h:"180"}):(0,u.jsx)(y.default,{})})]})}},40986:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return E}});var o=t("38956"),i=t("58865");t("21249"),t("57640"),t("9924"),t("57327"),t("88449"),t("19894"),t("2490"),t("41539"),t("69826"),t("31672"),t("59461"),t("2707");var l=t("85893"),r=t("67294"),u=t("71893"),d=t("5434"),a=t("30381"),s=t.n(a),v=t("7104");function c(){var n=(0,i._)(["\n    color: ",";\n    position: absolute;\n    top: 40%;\n    right: -26.3px;\n    font-size: 11px;\n    rotate: 90deg;\n"]);return c=function(){return n},n}function f(){var n=(0,i._)(["\n    font-size: ",";;\n    font-weight: 600;\n    letter-spacing: 0.8px;\n"]);return f=function(){return n},n}function h(){var n=(0,i._)(["\n    display: flex;\n    align-items: start;\n    font-size: ",";\n    text-align: start;\n    font-weight: 600;\n    letter-spacing: 0.8px;\n"]);return h=function(){return n},n}function m(){var n=(0,i._)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: ",";\n    text-align: center;\n    font-weight: 600;\n    letter-spacing: 0.8px;\n"]);return m=function(){return n},n}function x(){var n=(0,i._)(["\n    font-size: 12px;\n    font-weight: 300;\n"]);return x=function(){return n},n}function g(){var n=(0,i._)(["\n    width: 100%;\n    height: 130px;\n    display: flex;\n    border-top: 0.1px solid #cacaca;\n"]);return g=function(){return n},n}function p(){var n=(0,i._)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #fff;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0.2px;\n"]);return p=function(){return n},n}function w(){var n=(0,i._)(["\n    flex: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    gap: 8px;\n    border-right: 0.1px solid #cacaca;\n    font-size: 9px;\n    padding: 10px !important;\n\n    background-color: ",";\n    color: ",";\n\n"]);return w=function(){return n},n}function b(){var n=(0,i._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    gap: 20px;\n    position: relative;\n"]);return b=function(){return n},n}function j(){var n=(0,i._)(["\n    width: 100%;\n    height: 60px;\n    display: flex;\n    background-color: #B4E2FB;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0.2px;\n"]);return j=function(){return n},n}function D(){var n=(0,i._)(["\n    margin: 0 auto;\n    width: 1300px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n"]);return D=function(){return n},n}function y(){var n=(0,i._)(["\n    width: 100%;\n"]);return y=function(){return n},n}var k=u.default.span(c(),function(n){return(null==n?void 0:n.color)?"green":"red"});u.default.span(f(),function(n){return n.fontSize||"12px"});var _=u.default.span(h(),function(n){return n.fontSize||"7px"}),Y=u.default.span(m(),function(n){return n.fontSize||"7px"}),H=u.default.span(x()),S=u.default.div(g()),N=u.default.div(p()),z=u.default.span(w(),function(n){return n.flex},function(n){return(null==n?void 0:n.bg)?"red":"white"},function(n){return(null==n?void 0:n.bg)?"white":"#000"}),M=u.default.span(b()),O=u.default.div(j()),W=u.default.div(D()),F=u.default.div(y()),E=function(n){var e,t=n.index,i=n.data,u=n.statistics,a=n.objWeek,c=(0,o._)((0,r.useState)(!1),2),f=c[0],h=c[1];(0,r.useEffect)(function(){h(!0)},[]);var m=new Date,x=s()(new Date).isoWeek(),g=[{number:1,hour:"9:00 - 9:50",start:m.setHours(9,0,0),end:m.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:m.setHours(10,0,0),end:m.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:m.setHours(11,0,0),end:m.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:m.setHours(12,0,0),end:m.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:m.setHours(13,0,0),end:m.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:m.setHours(14,0,0),end:m.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:m.setHours(15,0,0),end:m.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:m.setHours(16,0,0),end:m.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:m.setHours(17,0,0),end:m.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:m.setHours(18,0,0),end:m.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:m.setHours(19,0,0),end:m.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:m.setHours(20,0,0),end:m.setHours(20,50,0)}],p=[{day:1,name:"\u041F\u043D"},{day:2,name:"\u0412\u0442"},{day:3,name:"\u0421\u0440"},{day:4,name:"\u0427\u0442"},{day:5,name:"\u041F\u0442"},{day:6,name:"\u0421\u0431"}];return(0,l.jsx)(F,{children:f?(0,l.jsxs)(W,{children:[0===t&&(0,l.jsxs)(O,{children:[(0,l.jsx)(z,{flex:1,children:"TIME"}),null==g?void 0:g.map(function(n,e){return(0,l.jsx)(z,{flex:2,children:null==n?void 0:n.hour},e)})]}),(0,l.jsx)(N,{children:null==p?void 0:null===(e=p.filter(function(n){return(null==a?void 0:a.weekday)?n.day===(null==a?void 0:a.weekday):n.day===new Date().getDay()}))||void 0===e?void 0:e.map(function(n,e){var t,o,r,v,c,f=null;return u&&(null==u?void 0:u.length)!==0&&u[null==n?void 0:n.day],(0,l.jsxs)(S,{children:[(0,l.jsx)(z,{flex:1,children:(0,l.jsx)(H,{children:i&&(null===(o=i[0])||void 0===o?void 0:null===(t=o.room)||void 0===t?void 0:t.length)===7?null===(r=i[0])||void 0===r?void 0:r.room:null===(c=i[0])||void 0===c?void 0:null===(v=c.room)||void 0===v?void 0:v.substring(0,5)})}),null==g?void 0:g.map(function(e,t){var o,r,v,c,f,h,m,g,p,w,b,j,D,y,H,S=null==i?void 0:i.find(function(n){return(null==n?void 0:n.hourNumber)===(null==e?void 0:e.number)}),N=null==u?void 0:null===(o=u.filter(function(n){return(null==n?void 0:n.section)===(null==e?void 0:e.number)}))||void 0===o?void 0:o.sort(function(n,e){return(null==n?void 0:n.time)>(null==e?void 0:e.time)?1:(null==n?void 0:n.time)<(null==e?void 0:e.time)?-1:0}),O=new Date(null==e?void 0:e.start);return O.setDate(O.getDate()-O.getDay()+(null==n?void 0:n.day)),S?(0,l.jsx)(z,{flex:2,bg:(void 0===N||(null==N?void 0:N.length)===0)&&((null==a?void 0:a.weekday)<=new Date().getDay()&&((null==e?void 0:e.start)<new Date||O<new Date)||a.weekNumber<x||a.year<new Date().getFullYear()),children:(0,l.jsxs)(M,{children:[(0,l.jsx)(Y,{fontSize:(null==S?void 0:null===(r=S.lessonName)||void 0===r?void 0:r.length)>18?"8px":"7px",children:S.lessonName}),N&&(null==N?void 0:N.length)!==0&&(0,l.jsxs)(k,{color:new Date(null==e?void 0:e.start).setDate(new Date(null===(v=N[0])||void 0===v?void 0:v.time).getDate())>=(null===(c=N[0])||void 0===c?void 0:c.time),children:[new Date(null==e?void 0:e.start).setDate(new Date(null===(f=N[0])||void 0===f?void 0:f.time).getDate())>=(null===(h=N[0])||void 0===h?void 0:h.time)?(0,l.jsx)(d.MdOutlineAddCircleOutline,{size:16}):(0,l.jsx)(d.MdRemoveCircleOutline,{size:16})," ",s()(new Date(new Date(null==e?void 0:e.start).setDate(new Date(null===(m=N[0])||void 0===m?void 0:m.time).getDate())>=(null===(g=N[0])||void 0===g?void 0:g.time)?new Date(null==e?void 0:e.start).setDate(new Date(null===(p=N[0])||void 0===p?void 0:p.time).getDate())-(null===(w=N[0])||void 0===w?void 0:w.time):(null===(b=N[0])||void 0===b?void 0:b.time)-new Date(null==e?void 0:e.start).setDate(new Date(null===(j=N[0])||void 0===j?void 0:j.time).getDate()))).format("mm:ss")]}),(void 0===N||(null==N?void 0:N.length)===0)&&(a.weekday<=new Date().getDay()&&((null==e?void 0:e.start)<new Date||O<new Date)||(null==a?void 0:a.weekNumber)<x)&&(0,l.jsxs)(k,{color:!1,children:[(0,l.jsx)(d.MdRemoveCircleOutline,{size:12})," "," "," 50:00"]}),(0,l.jsx)(_,{fontSize:(null==S?void 0:null===(D=S.teacherName)||void 0===D?void 0:D.length)>1?"8px":"7px",children:(null==S?void 0:null===(y=S.teacherName)||void 0===y?void 0:y.length)>1?null==S?void 0:null===(H=S.teacherName)||void 0===H?void 0:H.join("/ "):null==S?void 0:S.teacherName[0]})]})},t):(0,l.jsx)(z,{flex:2,children:" - "},t)})]},e)})})]}):(0,l.jsx)(v.Stack,{spacing:1,children:(0,l.jsx)(v.Skeleton,{variant:"rectangular",style:{margin:"0 auto"},width:1076,height:490})})})}},35078:function(n){}}]);