/*! For license information please see 6803.9eb4ad3c.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6803"],{58990:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var r=t("7409"),i=t("99282"),a=t("38956"),l=t("58865"),o=t("37098");t("92222"),t("57658"),t("21249"),t("57640"),t("9924"),t("91038"),t("78783"),t("66992"),t("33948"),t("41539"),t("69826"),t("31672"),t("59461"),t("2490"),t("70189"),t("88921"),t("96248"),t("13599"),t("27561"),t("11477"),t("64362"),t("15389"),t("90401"),t("3440"),t("45164"),t("66244"),t("91238"),t("89772"),t("54837"),t("88910"),t("87485"),t("56767"),t("76651"),t("61437"),t("35285"),t("63252"),t("39865"),t("17454"),t("85827"),t("25387"),t("72608"),t("57327"),t("88449"),t("19894"),t("2707"),t("17727"),t("88674");var d=t("85893"),u=t("67294"),s=t("55693"),c=t("94718"),f=t("45155"),h=t("30381"),x=t.n(h),p=t("71893"),v=t("28685"),m=t("37595"),j=t("27233"),g=t("50533"),b=t("18573"),y=t("78258"),S=t("52483");function w(){var e=(0,l._)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow: scroll;\n  height: 400px;\n\n  table {\n    min-width: 1500px;\n    border-collapse: collapse;\n    width: 100%;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 15px;\n    }\n\n    th {\n      text-align: center;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #fcf9f9;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n  }\n\n"]);return w=function(){return e},e}var _=p.default.div(w(),v.mainColor),C={border:"none",outline:"none",background:"transparent"},k={width:"40px!important",height:"40px!important",fontSize:"24px"},D=function(e){var n=e.groups,t=e.lessons,l=e.groupSelect,h=e.scien,p=(0,v.getHeaders)().headers,w=(0,a._)((0,u.useState)(new Date),2),D=w[0],I=w[1],Y=(0,a._)((0,u.useState)([]),2),H=Y[0],M=Y[1],A=(0,g.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear})||null,T=(0,a._)((0,u.useState)([]),2),E=T[0],N=T[1],F=(0,a._)((0,u.useState)(!0),2),G=F[0],B=F[1];return(0,u.useEffect)(function(){M(function(){return Array.from(Array(x()(D).daysInMonth()).keys()).map(function(e){return e+1})})},[D]),(0,u.useEffect)(function(){var e,a;j.default.get("".concat(v.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==A?void 0:A.id,"/").concat(null==n?void 0:null===(e=n.find(function(e){return(null==e?void 0:e.name)===l}))||void 0===e?void 0:e.id,"?subjectId=").concat(null==t?void 0:null===(a=t.find(function(e){return(null==e?void 0:e.name)===h}))||void 0===a?void 0:a.id),{headers:p}).then(function(e){var n,t;N(null===(t=e.data[0][0])||void 0===t?void 0:null===(n=t.students)||void 0===n?void 0:n.map(function(e){var n=new Set,t=null==e?void 0:e.subjects.reduce(function(e,t){var r="".concat(t.day,"-").concat(t.week,"-").concat(t.year,"-").concat(t.section);return!n.has(r)&&(n.add(r),e.push(t)),e},[]).filter(function(e){return 0===e.statistics.length}).length;return(0,i._)((0,r._)({},e),{subjectNb:t})}).sort(function(e,n){return e.fullName<n.fullName?-1:e.fullName>n.fullName?1:0}))}).catch(function(e){}).finally(function(){B(!1)})},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.default,{sx:{display:"flex",justifyContent:"center"},children:(0,d.jsxs)(c.default,{sx:{display:"flex",justifyContent:"center",gap:1,alignItems:"center",backgroundColor:"#fcfafa"},children:[(0,d.jsx)("div",{style:k,onClick:function(){I(new Date(D.getFullYear(),D.getMonth()-1))},children:(0,d.jsx)(f.GrFormPrevious,{})}),(0,d.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:x()(D).format("YYYY-MM"),onChange:function(e){return I(new Date(e.target.value))},style:C}),(0,d.jsx)("div",{style:k,onClick:function(){I(new Date(D.getFullYear(),D.getMonth()+1))},children:(0,d.jsx)(f.GrFormNext,{})})]})}),(0,d.jsxs)(_,{children:[(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u2116"}),(0,d.jsx)("th",{children:(0,d.jsx)("p",{children:"Full name"})}),H.map(function(e){return(0,d.jsx)("th",{children:e},e)}),(0,d.jsx)("th",{children:"\u2211"})]})}),(0,d.jsx)("tbody",{children:!G&&(null==E?void 0:E.map(function(e,n){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{textAlign:"center"},children:n+1}),(0,d.jsx)("td",{children:null==e?void 0:e.fullName}),H.map(function(n,t){return new Date(D.getFullYear(),D.getMonth(),n)<=new Date?(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)(b.default,{data:e,day:n,time:D})},t):(0,d.jsx)("td",{},t)}),(0,d.jsx)("td",{children:null==e?void 0:e.subjectNb})]},n)}))})]}),G&&(0,d.jsx)(s.default,{sx:{width:"100%",marginTop:"20px"},children:(0,d.jsx)(y.default,{})})]}),(0,d.jsx)(s.default,{sx:{mt:"10px",display:"flex",justifyContent:"end"},children:(0,d.jsx)(c.default,{onClick:function(){var e=[],n=["\u2116","Full name"].concat((0,o._)(H),["total"]);e.push(n),E.map(function(n,t){var r=[t+1,n.fullName].concat((0,o._)(H.map(function(e){var t;return new Date(D.getFullYear(),D.getMonth(),e)<=new Date?Array.isArray(t=(0,S.default)({data:n,day:e,time:D}))?t.join(","):"":""})),[null==n?void 0:n.subjectNb]);e.push(r)});var t=m.utils.book_new(),r=m.utils.aoa_to_sheet(e);m.utils.book_append_sheet(t,r,"StudentsData"),m.writeFile(t,"students_data.xlsx")},variant:"contained",children:"Export"})})]})}},1415:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t("7409"),i=t("38956");t("57327"),t("88449"),t("19894"),t("2490"),t("41539"),t("69826"),t("31672"),t("59461"),t("92222"),t("21249"),t("57640"),t("9924");var a=t("85893"),l=t("67294"),o=t.n(l),d=t("7104"),u=t("94718"),s=t("55693"),c=t("51649"),f=t("70231"),h=t("30381"),x=t.n(h),p=t("72132"),v=t("27233"),m=t("28685"),j=t("42154"),g=t("32392"),b=t("44025"),y=t("61261"),S=o().forwardRef(function(e,n){return(0,a.jsx)(d.Slide,(0,r._)({direction:"down",ref:n},e))}),w=(0,l.memo)(function(e){var n=e.open,t=e.handleClose,r=e.data,o=(0,i._)((0,l.useState)(null),2),h=o[0],w=o[1],_=(0,i._)((0,l.useState)(""),2),C=_[0],k=_[1],D=(0,m.getHeaders)().headers,I=r.filter(function(e){return e.year===x()().year()&&e.week===x()().isoWeek()&&e.day===x()().day()}),Y=function(){t(),w(null),k("")};return(0,a.jsxs)(d.Dialog,{open:n,TransitionComponent:S,keepMounted:!0,onClose:Y,children:[(0,a.jsxs)(d.DialogTitle,{sx:{pb:0},children:["Attendance - ",x()().format("DD.MM.YYYY")]}),(0,a.jsxs)(d.DialogContent,{sx:{width:320},children:[(0,a.jsxs)(j.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,a.jsx)(g.default,{id:"demo-simple-select-label",children:"Section"}),(0,a.jsx)(b.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:C,label:"Section",onChange:function(e){return k(e.target.value)},children:null==I?void 0:I.map(function(e){return(0,a.jsxs)(y.default,{value:null==e?void 0:e.section,children:[null==e?void 0:e.section,"-section"]})})})]}),(0,a.jsxs)(s.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:2},children:[(0,a.jsx)(u.default,{onClick:function(){return w(!1)},variant:null==h?"outlined":h?"outlined":"contained",color:"error",children:(0,a.jsx)(c.IoMdClose,{size:25})}),(0,a.jsx)(u.default,{onClick:function(){return w(!0)},variant:null==h?"outlined":h?"contained":"outlined",color:"success",children:(0,a.jsx)(f.FaCheck,{size:25})})]})]}),(0,a.jsxs)(d.DialogActions,{children:[(0,a.jsx)(u.default,{variant:"outlined",onClick:Y,children:"cancel"}),(0,a.jsx)(u.default,{variant:"contained",onClick:function(){var e=I.find(function(e){return(null==e?void 0:e.section)===+C});if(null==h)return p.toast.warning("Empty field");if(e){var n={year:null==e?void 0:e.year,week:null==e?void 0:e.week,weekday:null==e?void 0:e.day,section:null==e?void 0:e.section,isCome:h,studentId:null==e?void 0:e.studentId,room:null==e?void 0:e.room};v.default.post("".concat(m.BASE_URL,"/dynamicAttendance/createDynamicAttendance"),n,{headers:D}).then(function(e){p.toast.success("Success")}).catch(function(e){var n;p.toast.error("Error: "+(null===(n=e.response.data)||void 0===n?void 0:n.message))}),Y()}else p.toast.warning("Not your lesson")},children:"save"})]})]})})},99122:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return et}});var r=t("76150"),i=t("7409"),a=t("99282"),l=t("93820"),o=t("38956"),d=t("58865"),u=t("18965");t("92222"),t("91058"),t("88674"),t("41539"),t("66992"),t("33948"),t("78783"),t("21249"),t("57640"),t("9924"),t("82526"),t("41817");var s=t("85893"),c=t("67294"),f=t.n(c),h=t("71893"),x=t("28685"),p=t("71632"),v=t("8193"),m=t("30381"),j=t.n(m),g=t("94718"),b=t("7104"),y=t("19237"),S=t("26178"),w=t("52861"),_=t("50533"),C=t("53854"),k=t("74113"),D=t("27233"),I=t("97367"),Y=t("55693"),H=t("60155"),M=t("89589"),A=t("72132"),T=t("90199"),E=t("3506"),N=t("51649"),F=t("92037"),G=t("60023"),B=t("37130");function R(){var e=(0,d._)(["\n    ","\n"]);return R=function(){return e},e}function O(){var e=(0,d._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return O=function(){return e},e}function z(){var e=(0,d._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return z=function(){return e},e}function L(){var e=(0,d._)(["\n\n"]);return L=function(){return e},e}function U(){var e=(0,d._)(["\n    margin-top: 10px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return U=function(){return e},e}function P(){var e=(0,d._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 12px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .score {\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.1);\n            cursor: pointer;\n        }\n    }\n"]);return P=function(){return e},e}function W(){var e=(0,d._)(["\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 20px;\n\n    h3 {\n        font-size: 25px;\n        color: ",";\n        font-weight: bold;\n\n    }\n\n    ","\n"]);return W=function(){return e},e}function K(){var e=(0,d._)(["\n\n"]);return K=function(){return e},e}var q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},V=h.default.div(R(),(0,p.extrasmall)({width:"95% !important"})),Q=h.default.button(O(),x.mainColor),X=h.default.div(z()),Z=h.default.div(L()),$=h.default.div(U()),J=h.default.div(P(),x.mainColor),ee=h.default.div(W(),x.mainColor,(0,p.extrasmall)({justifyContent:"center"})),en=h.default.div(K()),et=function(e){var n,t,d,h,m,R,O,z=e.oneSciencesScore,L=e.fetchCoreDataStudents;e.groupSelect,e.maxStep;var U=z.subjectId,P=z.studentId,W=z.groupId,K=z.fullName;z.sumGrade;var et=(0,_.useSelector)(function(e){return e.teacher.teacher}),er=et.id;et.kafedraName;var ei=(0,_.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear}),ea=(0,o._)(f().useState(!1),2),el=ea[0],eo=ea[1],ed=(0,o._)((0,c.useState)(!1),2),eu=ed[0],es=ed[1],ec=(0,o._)((0,c.useState)(!1),2),ef=ec[0],eh=ec[1],ex=(0,S.useTheme)(),ep=(0,y.default)(ex.breakpoints.down("sm")),ev=(0,o._)((0,c.useState)(null),2),em=ev[0],ej=ev[1],eg=(0,o._)((0,c.useState)(null),2),eb=eg[0],ey=eg[1],eS={id:null,studentId:P,subjectId:U,educationYearId:null==ei?void 0:ei.id,grade:null,time:null,description:null},ew=(0,o._)((0,c.useState)(eS),2),e_=ew[0],eC=ew[1],ek=(0,x.getHeaders)().headers,eD=(0,o._)((0,c.useState)([]),2),eI=eD[0],eY=eD[1],eH=(0,o._)((0,c.useState)(null),2),eM=eH[0],eA=eH[1],eT=(0,o._)((0,c.useState)(!1),2),eE=eT[0],eN=eT[1],eF=(0,o._)((0,c.useState)(!1),2),eG=eF[0],eB=eF[1],eR=(0,o._)((0,c.useState)(!1),2),eO=eR[0],ez=eR[1],eL=(0,o._)((0,c.useState)([]),2),eU=eL[0],eP=eL[1],eW=function(){eC(eS),eo(!1),eB(!1)},eK=function(e){ej(e),es(!0)},eq=function(){ej(null),es(!1)},eV=function(){eh(!1)};var eQ=(n=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,D.default.get("".concat(x.BASE_URL,"/permissionForTeacherGrading/checkExistsPermission/").concat(null==ei?void 0:ei.id,"?teacherId=").concat(er,"&subjectId=").concat(U,"&groupId=").concat(W,"&status=AT_PROCESS"),{headers:ek}).then(function(e){var n;(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.success)?A.toast.warning("You already send a request. Please, wait response of education department.."):eh(!0)}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return n.apply(this,arguments)});var eX=(t=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,D.default.get("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/getGradesOfStudent/").concat(null==ei?void 0:ei.id,"?studentId=").concat(P,"&subjectId=").concat(U),{headers:ek}).then(function(e){var n;eY(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return t.apply(this,arguments)});var eZ=(d=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,D.default.get("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/getMiddleGrade/").concat(null==ei?void 0:ei.id,"?studentId=").concat(P,"&subjectId=").concat(U,"&groupId=").concat(W),{headers:ek}).then(function(e){var n;eA(((null===(n=e.data)||void 0===n?void 0:n.obj)||0).toFixed(2))}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return d.apply(this,arguments)});var e$=(h=(0,r._)(function(e){var n;return(0,u._)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!(+(n=(0,a._)((0,i._)({},e_),{time:new Date().getTime(),grade:+e_.grade})).grade>=0&&6>=+n.grade))return[3,2];return[4,D.default.post("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/create"),n,{headers:ek}).then(function(e){eo(!1),eX(),L(),eZ(),A.toast.success("Grade was created successfully"),eC(eS)}).catch(function(e){A.toast.error("Error evaluation")})];case 1:return t.sent(),[3,3];case 2:A.toast.error("min:0  max:6"),t.label=3;case 3:return[2]}})}),function(e){return h.apply(this,arguments)});var eJ=(m=(0,r._)(function(e){var n,t;return(0,u._)(this,function(r){switch(r.label){case 0:if(e.preventDefault(),!(parseInt((n=(0,a._)((0,i._)({},e_),{time:new Date().getTime()})).grade)>=0&&6>=parseInt(n.grade)))return[3,3];if(!(t=(null==e_?void 0:e_.id)&&(null==e_?void 0:e_.id)!==""))return[3,2];return[4,D.default.put("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/update"),n,{headers:ek}).then(function(e){eo(!1),eX(),L(),eZ(),A.toast.success("Grade was updated successfully"),eC(eS)}).catch(function(e){var n,t;A.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)})];case 1:t=r.sent(),r.label=2;case 2:return[3,4];case 3:A.toast.error("min:0 max:6"),r.label=4;case 4:return[2]}})}),function(e){return m.apply(this,arguments)});var e0=(R=(0,r._)(function(e){var n,t,r,o,d;return(0,u._)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),(n=(0,a._)((0,i._)({},e_),{time:new Date().getTime(),failGradeId:e_.id})).id,n.createdAt,!(parseInt((o=(0,l._)(n,["id","createdAt"])).grade)>=0&&6>=parseInt(o.grade)))return[3,3];if(!(d=(null==e_?void 0:e_.id)&&(null==e_?void 0:e_.id)!==""))return[3,2];return[4,D.default.post("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/retake"),o,{headers:ek}).then(function(e){eo(!1),eB(!1),eX(),L(),eZ(),A.toast.success("Grade was updated successfully"),eC(eS)}).catch(function(e){A.toast.error("Error evaluation")})];case 1:d=t.sent(),t.label=2;case 2:return[3,4];case 3:A.toast.error("min:0 max:6"),t.label=4;case 4:return[2]}})}),function(e){return R.apply(this,arguments)}),e1=function(e){var n,t=(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(n=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===n?void 0:n.grade;eC(function(n){return(0,a._)((0,i._)({},n,e),{grade:t})}),eo(!0)},e2=function(e){eP(e),ez(!0)},e5=function(e){var n=e.target.value;parseInt(eM)+parseInt(n)<=30?(eN(!1),eC(function(e){return(0,a._)((0,i._)({},e),{grade:n})})):eN(!0)};var e9=(O=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,D.default.get("".concat(x.BASE_URL,"/permissionForTeacherGrading/getConfirmPermission/").concat(null==ei?void 0:ei.id,"?teacherId=").concat(er,"&subjectId=").concat(U,"&groupId=").concat(W)).then(function(e){var n,t;ey((null===(t=e.data)||void 0===t?void 0:null===(n=t.obj)||void 0===n?void 0:n.deadline)||null)}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return O.apply(this,arguments)}),e8=function(e){var n=j()(e),t=j()(),r=j()(e).add(2,"days");return n.isBefore(t)&&t.isBefore(r)};return(0,c.useEffect)(function(){Promise.all([eX(),eZ(),e9()])},[]),(0,s.jsxs)(en,{children:[(0,s.jsxs)(ee,{children:[(0,s.jsx)("h3",{children:K}),(0,s.jsx)(g.default,{variant:"contained",onClick:function(){eo(!0)},endIcon:(0,s.jsx)(v.AiFillFileAdd,{}),children:"evaluation"})]}),(0,s.jsx)(Y.default,{sx:{mt:"25px"},children:(0,s.jsx)(b.Card,{sx:(0,i._)({width:250},(0,p.extrasmall)({width:"100%"})),children:(0,s.jsx)(b.CardContent,{children:(0,s.jsxs)(M.default,{sx:{fontSize:20,textAlign:"center",fontWeight:"bold"},color:x.mainColor,gutterBottom:!0,children:["Rating : ",eM&&eM||0]})})})}),eb?(0,s.jsx)(Y.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:(0,s.jsxs)(g.default,{variant:"outlined",color:"primary",startIcon:(0,s.jsx)(v.AiFillUnlock,{}),children:["Grades can be changed until ",j()(eb).format("DD.MM.YYYY")]})}):(0,s.jsxs)(Y.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:[(0,s.jsx)(E.default,{title:"The time to change the assessment has passed.",children:(0,s.jsx)(g.default,{variant:"contained",color:"inherit",onClick:eQ,size:"small",children:"Access to changes"})}),(0,s.jsx)(E.default,{title:"Points can be changed within 3 days!",children:(0,s.jsx)(k.default,{size:"medium",color:"warning",children:(0,s.jsx)(N.IoIosWarning,{})})})]}),(0,s.jsxs)(J,{children:[(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Description"})}),(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Score"})}),(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Date"})}),(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Actions"})})]})}),(0,s.jsx)("tbody",{children:eI.map(function(e,n){var t,r;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(null==e?void 0:e.retakes.length)===0?e.description||"-":(null==e?void 0:null===(t=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===t?void 0:t.description)||"-"}),(0,s.jsx)("td",{className:"score",onClick:function(){return e2(null==e?void 0:e.retakes)},children:(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(r=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===r?void 0:r.grade}),(0,s.jsx)("td",{children:j()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")}),(0,s.jsx)("td",{children:(0,s.jsxs)(b.Stack,{direction:"row",spacing:2,justifyContent:"center",children:[(0,s.jsx)(k.default,{disabled:!(eb?(null==e?void 0:e.time)<=eb:e8(null==e?void 0:e.time)),"aria-label":"change",color:"success",onClick:function(){return e1(e)},children:(0,s.jsx)(C.HiPencilAlt,{})}),(0,s.jsx)(k.default,{disabled:!(eb?(null==e?void 0:e.time)<=eb:e8(null==e?void 0:e.time)),"aria-label":"delete",color:"error",onClick:function(){return eK(null==e?void 0:e.id)},children:(0,s.jsx)(v.AiFillDelete,{})})]})})]},n)})})]}),0===eI.length&&(0,s.jsx)(T.default,{w:200,h:180})]}),(0,s.jsxs)(b.Dialog,{fullScreen:ep,open:el,onClose:eW,"aria-labelledby":"responsive-dialog-title",children:[(0,s.jsx)(b.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,s.jsxs)("form",{onSubmit:(null==e_?void 0:e_.id)==null?e$:eG?e0:eJ,children:[(0,s.jsx)(b.DialogContent,{sx:{pt:0},children:(0,s.jsxs)($,{children:[(null==e_?void 0:e_.id)!==null&&(0,s.jsx)(Z,{style:{display:"flex",justifyContent:"end"},children:(0,s.jsx)(F.default,{control:(0,s.jsx)(G.default,{checked:eG,onChange:function(){eB(function(e){return!e})},color:"primary"}),label:"Retake",labelPlacement:"end"})}),(0,s.jsx)(Z,{children:(0,s.jsx)(w.default,{sx:{width:"300px"},type:"number",value:e_.grade,onChange:function(e){return e5(e)},label:"Score"})}),(0,s.jsx)(Z,{children:(0,s.jsx)(w.default,{value:e_.description,onChange:function(e){return eC(function(n){return(0,a._)((0,i._)({},n),{description:e.target.value})})},id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,s.jsxs)(b.DialogActions,{children:[(0,s.jsx)(g.default,{variant:"outlined",type:"reset",onClick:eW,children:"cancel"}),(0,s.jsx)(g.default,{disabled:eE,variant:"contained",type:"submit",children:(null==e_?void 0:e_.id)===null?"save":"update"})]})]})]}),(0,s.jsx)(I.default,{open:eu,onClose:eq,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(Y.default,{sx:q,component:V,children:[(0,s.jsxs)(X,{children:[(0,s.jsx)("h5",{children:"Delete"}),(0,s.jsxs)(Q,{onClick:eq,children:[" ",(0,s.jsx)(H.IoClose,{size:22})]})]}),(0,s.jsxs)(Y.default,{children:[(0,s.jsx)(b.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,s.jsx)(M.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,s.jsxs)(b.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,s.jsx)(g.default,{variant:"outlined",onClick:eq,children:"Cancel"}),(0,s.jsx)(g.default,{variant:"contained",color:"error",onClick:function(){em&&D.default.delete("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/delete/").concat(em),{headers:ek}).then(function(e){eX(),eq(),L(),eZ(),A.toast.success("Grade was deleted successfully")}).catch(function(e){var n,t;A.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)})},children:"Ok"})]})]})]})}),(0,s.jsx)(I.default,{open:ef,onClose:eV,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(Y.default,{sx:q,component:V,children:[(0,s.jsxs)(X,{children:[(0,s.jsx)("h5",{children:"Access to changes"}),(0,s.jsxs)(Q,{onClick:eV,children:[" ",(0,s.jsx)(H.IoClose,{size:22})]})]}),(0,s.jsxs)(Y.default,{children:[(0,s.jsx)(b.Stack,{sx:{height:"150px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,s.jsxs)(M.default,{variant:"h6",color:"black",children:["You can only change today's points within 3 days. ",(0,s.jsx)("br",{}),"Approval of the Department of Education is required for grade changes."]})}),(0,s.jsxs)(b.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,s.jsx)(g.default,{variant:"outlined",onClick:eV,children:"Cancel"}),(0,s.jsx)(g.default,{onClick:function(){var e={groupId:W,status:"AT_PROCESS",subjectId:U,teacherId:er,educationYearId:null==ei?void 0:ei.id};D.default.post(x.BASE_URL+"/permissionForTeacherGrading/createPermissionForTeacherGrading",e,{headers:ek}).then(function(e){A.toast.success("Successfully sent"),eh(!1)}).catch(function(e){A.toast.error("Error")})},variant:"contained",children:"gain access"})]})]})]})}),(0,s.jsx)(B.default,{data:eU,open:eO,handleClose:function(){ez(!1)}})]})}},49275:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t("76150"),i=t("7409"),a=t("99282"),l=t("38956"),o=t("58865"),d=t("18965");t("73210"),t("92222"),t("91058"),t("82526"),t("41817");var u=t("85893"),s=t("67294"),c=t("7104"),f=t("52861"),h=t("94718"),x=t("71893"),p=t("26178"),v=t("19237"),m=t("50533"),j=t("72132"),g=t("27233"),b=t("28685");function y(){var e=(0,o._)(["\n\n"]);return y=function(){return e},e}function S(){var e=(0,o._)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return S=function(){return e},e}var w=x.default.div(y()),_=x.default.div(S()),C=(0,s.memo)(function(e){var n,t=e.setTodayGrade,o=e.openEvaluateToday,x=e.setOpenEvaluateToday,y=e.oneSciencesScore,S=(0,p.useTheme)(),C=(0,v.default)(S.breakpoints.down("sm")),k=(0,m.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear}),D=(0,l._)((0,s.useState)(!1),2),I=D[0],Y=D[1],H={studentId:null==y?void 0:y.studentId,subjectId:null==y?void 0:y.subjectId,educationYearId:null==k?void 0:k.id,grade:null,time:null,description:null},M=(0,l._)((0,s.useState)(H),2),A=M[0],T=M[1],E=function(){x(!1)},N=(0,b.getHeaders)().headers;var F=(n=(0,r._)(function(e){var n;return(0,d._)(this,function(r){switch(r.label){case 0:if(e.preventDefault(),!((n=(0,a._)((0,i._)({},A),{time:new Date})).grade>=0&&n.grade<=6&&null!=n.grade&&""!==n.grade.trim()))return[3,2];return t(function(e){return(0,a._)((0,i._)({},e),{id:null==y?void 0:y.studentId,grade:null==A?void 0:A.grade})}),[4,g.default.post("".concat(b.BASE_URL,"/gradeOfStudentByTeacher/create"),n,{headers:N}).then(function(e){j.toast.success("Successfully"),x(!1),T(H)}).catch(function(e){j.toast.error("Error evaluation")})];case 1:return r.sent(),[3,3];case 2:j.toast.error("min:0 max:6"),r.label=3;case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),G=function(e){var n=e.target.value;parseInt((null==y?void 0:y.sumGrade)||0)+parseInt(n)<=30?(Y(!1),T(function(e){return(0,a._)((0,i._)({},e),{grade:n})})):Y(!0)};return(0,s.useEffect)(function(){T({studentId:null==y?void 0:y.studentId,subjectId:null==y?void 0:y.subjectId,educationYearId:null==k?void 0:k.id,grade:null,time:null,description:null})},[y]),(0,u.jsxs)(c.Dialog,{fullScreen:C,open:o,onClose:E,"aria-labelledby":"responsive-dialog-title",children:[(0,u.jsx)(c.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,u.jsxs)("form",{onSubmit:F,children:[(0,u.jsx)(c.DialogContent,{children:(0,u.jsxs)(_,{children:[(0,u.jsx)(w,{children:(0,u.jsx)(f.default,{sx:{width:"300px"},type:"number",value:A.grade,onChange:function(e){return G(e)},label:"Score"})}),(0,u.jsx)(w,{children:(0,u.jsx)(f.default,{value:A.description,onChange:function(e){return T(function(n){return(0,a._)((0,i._)({},n),{description:e.target.value})})},id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,u.jsxs)(c.DialogActions,{children:[(0,u.jsx)(h.default,{variant:"outlined",type:"reset",onClick:E,children:"cancel"}),(0,u.jsx)(h.default,{disabled:I,variant:"contained",type:"submit",children:"save"})]})]})]})})},79535:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t("38956");t("92222");var i=t("85893"),a=t("67294"),l=t("41087"),o=t("50533"),d=t("27233"),u=t("28685"),s=(0,a.memo)(function(e){var n=e.educationYear,t=e.content,s=e.groupName,c=e.subjectName,f=e.maxStep,h=(0,o.useSelector)(function(e){return e.teacher.teacher}),x=(0,u.getHeaders)().headers,p=(0,r._)((0,a.useState)(null),2),v=p[0],m=p[1];return(0,a.useEffect)(function(){d.default.get("".concat(u.BASE_URL,"/teacher/getDataOfLeaders/").concat(null==h?void 0:h.id,"/").concat(s," "),{headers:x}).then(function(e){m(e.data.obj)}).catch(function(e){})},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.default,{dataOfLeaders:v,teacherData:h,educationYear:n,content:t,groupName:s,subjectName:c,maxStep:f})})})},14751:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var r=t("7409"),i=t("99282"),a=t("38956");t("64211"),t("41874"),t("2490"),t("41539"),t("92222"),t("69826"),t("31672"),t("59461"),t("91058"),t("21249"),t("57640"),t("9924");var l=t("85893"),o=t("67294"),d=t.n(o),u=t("7104"),s=t("94718"),c=t("42154"),f=t("32392"),h=t("44025"),x=t("61261"),p=t("27233"),v=t("28685"),m=t("55693"),j=t("52861"),g=t("44118"),b=t("72132"),y=d().forwardRef(function(e,n){return(0,l.jsx)(u.Slide,(0,r._)({direction:"up",ref:n},e))}),S=(0,o.memo)(function(e){var n=e.lessons,t=e.eduType,S=e.eduId,w=e.userId,_=(0,a._)(d().useState(!1),2),C=_[0],k=_[1],D=(0,v.getHeaders)().headers,I=(0,a._)((0,o.useState)([]),2),Y=I[0],H=I[1],M=(0,a._)((0,o.useState)(""),2),A=M[0],T=M[1],E=(0,a._)((0,o.useState)([]),2),N=E[0],F=E[1],G=(0,a._)((0,o.useState)(""),2),B=G[0],R=G[1],O=function(){F([]),T(""),R("")},z=function(e,n,t,r,i){var a;e&&(null==n?void 0:n.some(function(n){return(null==n?void 0:n.name)===e}))&&p.default.get("".concat(v.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(t,"?educationId=").concat(i,"&subjectId=").concat(null==n?void 0:null===(a=n.find(function(n){return(null==n?void 0:n.name)===e}))||void 0===a?void 0:a.id,"&eduType=").concat(r)).then(function(e){var n;H(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){H([])})},L=function(){k(!1),O()};return(0,o.useEffect)(function(){z(A,n,w,t,S)},[A]),(0,l.jsxs)(d().Fragment,{children:[(0,l.jsx)(s.default,{variant:"outlined",onClick:function(){k(!0)},children:"Grade for attendance"}),(0,l.jsxs)(u.Dialog,{open:C,TransitionComponent:y,keepMounted:!0,onClose:L,children:[(0,l.jsx)(u.DialogTitle,{children:" Grade for attendance"}),(0,l.jsx)(u.DialogContent,{children:(0,l.jsxs)(m.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:340,mt:.8},children:[(0,l.jsxs)(c.default,{fullWidth:!0,size:"small",children:[(0,l.jsx)(f.default,{id:"fanselect",children:"Subject"}),(0,l.jsx)(h.default,{labelId:"fanselect",id:"demo-simple-select2",value:A,label:"Subject",onChange:function(e){T(e.target.value),F([])},children:null==n?void 0:n.map(function(e,n){return(0,l.jsx)(x.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]}),(0,l.jsx)(g.default,{size:"small",multiple:!0,limitTags:2,id:"multiple-limit-tags",value:N,options:Y,getOptionLabel:function(e){return(null==e?void 0:e.name)||""},onChange:function(e,n){F(n)},renderInput:function(e){return(0,l.jsx)(j.default,(0,i._)((0,r._)({},e),{label:"Groups",placeholder:"Favorites"}))}}),(0,l.jsx)(j.default,{value:B,onChange:function(e){return R(e.target.value)},size:"small",label:"Grade",type:"number"})]})}),(0,l.jsxs)(u.DialogActions,{children:[(0,l.jsx)(s.default,{variant:"contained",onClick:L,children:"cancel"}),(0,l.jsx)(s.default,{variant:"outlined",onClick:function(){var e,t={educationYearId:S,lessonId:(null==n?void 0:null===(e=n.find(function(e){return(null==e?void 0:e.name)===A}))||void 0===e?void 0:e.id)||"",groupsIds:N,grade:B};""!==t.lessonId&&0!==t.groupsIds.length&&""!==t.grade?10>=parseInt(t.grade)?p.default.post("".concat(v.BASE_URL,"/gradeForAttendance/create"),t,{headers:D}).then(function(e){b.toast.success(e.data.message),L()}).catch(function(e){b.toast.error("Error")}):b.toast.warning("maximum 10 points"):b.toast.warning("Empty fields")},children:"save"})]})]})]})})},37130:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var r=t("58865");t("21249"),t("57640"),t("9924"),t("82526"),t("41817");var i=t("85893"),a=t("67294"),l=t("7104"),o=t("94718"),d=t("28685"),u=t("71893"),s=t("30381"),c=t.n(s);function f(){var e=(0,r._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n    color: #000;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 5px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 8px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return f=function(){return e},e}var h=u.default.div(f(),d.mainColor),x=(0,a.memo)(function(e){var n=e.data,t=e.open,r=e.handleClose;return(0,i.jsxs)(l.Dialog,{open:t,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(l.DialogTitle,{id:"alert-dialog-title",children:"Retake history"}),(0,i.jsx)(l.DialogContent,{children:(0,i.jsx)(l.DialogContentText,{id:"alert-dialog-description",children:(0,i.jsx)(h,{children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u2116"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Score"}),(0,i.jsx)("th",{children:"Date"})]})}),(0,i.jsx)("tbody",{children:null==n?void 0:n.map(function(e,n){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:n+1}),(0,i.jsx)("td",{children:(null==e?void 0:e.description)||"-"}),(0,i.jsx)("td",{children:null==e?void 0:e.grade}),(0,i.jsx)("td",{children:c()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")})]},n)})})]})})})}),(0,i.jsx)(l.DialogActions,{children:(0,i.jsx)(o.default,{onClick:r,children:"close"})})]})})},18573:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t("7409"),i=t("99282");t("51532"),t("10072"),t("23042"),t("99137"),t("71957"),t("96306"),t("103"),t("74592"),t("58276"),t("35082"),t("12813"),t("18222"),t("38563"),t("50336"),t("7512"),t("66992"),t("33948"),t("78783"),t("41539"),t("57327"),t("88449"),t("19894"),t("2490"),t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("92222"),t("85827"),t("25387"),t("72608"),t("57658"),t("2707");var a=t("85893");t("67294");var l=t("30381"),o=t.n(l),d=function(e){var n,t=e.data,l=e.day,d=e.time,u=o()();t.firstName,t.lastName;var s=t.subjects,c=new Date,f=new Map,h=[{number:1,hour:"9:00 - 9:50",start:c.setHours(9,0,0),end:c.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:c.setHours(10,0,0),end:c.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:c.setHours(11,0,0),end:c.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:c.setHours(12,0,0),end:c.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:c.setHours(13,0,0),end:c.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:c.setHours(14,0,0),end:c.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:c.setHours(15,0,0),end:c.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:c.setHours(16,0,0),end:c.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:c.setHours(17,0,0),end:c.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:c.setHours(18,0,0),end:c.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:c.setHours(19,0,0),end:c.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:c.setHours(20,0,0),end:c.setHours(20,50,0)}],x=null==s?void 0:null===(n=s.filter(function(e){return(null==e?void 0:e.statistics.length)===0}))||void 0===n?void 0:n.map(function(e){var n=o()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),t=h.find(function(n){return n.number===e.section}).start;return(0,i._)((0,r._)({},e),{date:n,hourStart:o()(t).format("HH:mm")})}).filter(function(e){return o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(u)}),p=null==x?void 0:x.reduce(function(e,n){var t=n.date+n.hourStart;return!f.has(t)&&(f.set(t,!0),e.push(n)),e},[]).sort(function(e,n){var t=o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return o()("".concat(n.date," ").concat(n.hourStart),"DD.MM.YYYY HH:mm").diff(t)});return(0,a.jsx)(a.Fragment,{children:p.map(function(e,n){return o()(new Date(d.getFullYear(),d.getMonth(),l)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?(0,a.jsx)("p",{style:{color:"red"},children:null==e?void 0:e.section},n):""})})}},52483:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t("7409"),i=t("99282");t("51532"),t("10072"),t("23042"),t("99137"),t("71957"),t("96306"),t("103"),t("74592"),t("58276"),t("35082"),t("12813"),t("18222"),t("38563"),t("50336"),t("7512"),t("66992"),t("33948"),t("78783"),t("41539"),t("57327"),t("88449"),t("19894"),t("2490"),t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("92222"),t("85827"),t("25387"),t("72608"),t("57658"),t("2707");var a=t("30381"),l=t.n(a),o=function(e){var n,t=e.data,a=e.day,o=e.time,d=l()();t.firstName,t.lastName;var u=t.subjects,s=new Date,c=new Map,f=[{number:1,hour:"9:00 - 9:50",start:s.setHours(9,0,0),end:s.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:s.setHours(10,0,0),end:s.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:s.setHours(11,0,0),end:s.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:s.setHours(12,0,0),end:s.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:s.setHours(13,0,0),end:s.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:s.setHours(14,0,0),end:s.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:s.setHours(15,0,0),end:s.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:s.setHours(16,0,0),end:s.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:s.setHours(17,0,0),end:s.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:s.setHours(18,0,0),end:s.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:s.setHours(19,0,0),end:s.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:s.setHours(20,0,0),end:s.setHours(20,50,0)}],h=null==u?void 0:null===(n=u.filter(function(e){return(null==e?void 0:e.statistics.length)===0}))||void 0===n?void 0:n.map(function(e){var n=l()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),t=f.find(function(n){return n.number===e.section}).start;return(0,i._)((0,r._)({},e),{date:n,hourStart:l()(t).format("HH:mm")})}).filter(function(e){return l()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(d)});return(null==h?void 0:h.reduce(function(e,n){var t=n.date+n.hourStart;return!c.has(t)&&(c.set(t,!0),e.push(n)),e},[]).sort(function(e,n){var t=l()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return l()("".concat(n.date," ").concat(n.hourStart),"DD.MM.YYYY HH:mm").diff(t)})).map(function(e){return l()(new Date(o.getFullYear(),o.getMonth(),a)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?null==e?void 0:e.section:""}).filter(function(e){return""!==e})}},2981:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ev}});var r=t("76150"),i=t("7409"),a=t("99282"),l=t("38956"),o=t("58865"),d=t("37098"),u=t("18965");t("69826"),t("31672"),t("59461"),t("2490"),t("41539"),t("92222"),t("64211"),t("41874"),t("21249"),t("57640"),t("9924"),t("70189"),t("88921"),t("96248"),t("13599"),t("27561"),t("11477"),t("64362"),t("15389"),t("90401"),t("3440"),t("45164"),t("66244"),t("91238"),t("89772"),t("54837"),t("88910"),t("87485"),t("56767"),t("76651"),t("61437"),t("35285"),t("63252"),t("39865"),t("17454"),t("66992"),t("33948"),t("78783"),t("85827"),t("25387"),t("72608"),t("57658"),t("57327"),t("88449"),t("19894"),t("2707");var s=t("85893"),c=t("67294"),f=t.n(c),h=t("71893"),x=t("55693"),p=t("32392"),v=t("61261"),m=t("42154"),j=t("44025"),g=t("71632"),b=t("97367"),y=t("79352"),S=t("28685"),w=t("99122"),_=t("50533"),C=t("85478"),k=t("68567"),D=t("27233"),I=t("30381"),Y=t.n(I),H=t("78258"),M=t("8193"),A=t("29489"),T=t("26118"),E=t("816"),N=t("94718"),F=t("47516"),G=t("49275"),B=t("90199"),R=t("74113"),O=t("89583"),z=t("7104"),L=t("63750"),U=t("3506"),P=t("60023"),W=t("92037"),K=t("58990"),q=t("79535"),V=t("14751");function Q(){var e=(0,o._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return Q=function(){return e},e}function X(){var e=(0,o._)(["\n    margin-left: 15px;\n    color: black;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 20px;\n"]);return X=function(){return e},e}function Z(){var e=(0,o._)(["\n    ","\n"]);return Z=function(){return e},e}function $(){var e=(0,o._)(["\n    ","\n"]);return $=function(){return e},e}function J(){var e=(0,o._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n    cursor: pointer;\n"]);return J=function(){return e},e}function ee(){var e=(0,o._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return ee=function(){return e},e}function en(){var e=(0,o._)(["\n    background-color: #ffffff;\n    margin-top: 15px;\n    border-radius: 5px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    padding: 25px;\n    ","\n"]);return en=function(){return e},e}function et(){var e=(0,o._)(["\n    padding: 15px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    ","\n"]);return et=function(){return e},e}function er(){var e=(0,o._)(["\n    padding: 10px;\n"]);return er=function(){return e},e}var ei=h.default.div(Q(),S.mainColor),ea=h.default.div(X()),el={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},eo=h.default.div(Z(),(0,g.extrasmall)({width:"97% !important"})),ed={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"97%",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24,p:2},eu={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"45%",height:"98vh",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},es=h.default.div($(),(0,g.extrasmall)({width:"98% !important"})),ec=h.default.button(J(),S.mainColor),ef=h.default.div(ee(),function(e){return e.color?e.color:"#000"}),eh=h.default.div(en(),(0,g.extrasmall)({padding:"10px"})),ex=h.default.div(et(),(0,g.extrasmall)({justifyContent:"center"})),ep=h.default.div(er()),ev=function(){var e,n=["ALL","KUNDUZGI_KECHKI","SIRTQI","MAGISTRATURE"],t=(0,l._)((0,c.useState)(n[0]),2),o=t[0],h=t[1],g=(0,l._)((0,c.useState)(""),2),I=g[0],Q=g[1],X=(0,l._)((0,c.useState)(""),2),Z=X[0],$=X[1],J=(0,l._)((0,c.useState)(!1),2),ee=J[0],en=J[1],et=(0,l._)((0,c.useState)(!1),2),er=et[0],ev=et[1],em=(0,l._)((0,c.useState)(!1),2),ej=em[0],eg=em[1],eb=(0,l._)((0,c.useState)(!1),2),ey=eb[0],eS=eb[1],ew=(0,l._)((0,c.useState)({}),2),e_=ew[0],eC=ew[1],ek=(0,l._)((0,c.useState)([]),2),eD=ek[0],eI=ek[1],eY=(0,l._)((0,c.useState)({id:null,grade:null}),2),eH=eY[0],eM=eY[1],eA=(0,S.getHeaders)().headers,eT=(0,l._)((0,c.useState)([]),2),eE=eT[0],eN=eT[1],eF=(0,l._)((0,c.useState)([]),2),eG=eF[0],eB=eF[1],eR=(0,l._)((0,c.useState)([]),2),eO=eR[0],ez=eR[1],eL=(0,_.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.user})||null,eU=(0,_.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear})||null,eP=(0,_.useDispatch)(),eW=(0,l._)((0,c.useState)([]),2),eK=eW[0],eq=eW[1],eV=(0,l._)((0,c.useState)(!1),2),eQ=eV[0],eX=eV[1],eZ=(0,l._)((0,c.useState)(!1),2),e$=eZ[0],eJ=eZ[1],e0=(0,l._)((0,c.useState)(null),2),e1=e0[0],e2=e0[1],e5=(0,l._)((0,c.useState)(!1),2),e9=e5[0],e8=e5[1],e3=(0,l._)((0,c.useState)(!1),2),e4=e3[0],e7=e3[1],e6=(0,l._)((0,c.useState)(!1),2),ne=e6[0],nn=e6[1],nt=(0,l._)((0,c.useState)(!1),2),nr=nt[0],ni=nt[1],na=(0,l._)((0,c.useState)(!1),2),nl=na[0],no=na[1],nd=(0,l._)((0,c.useState)(!1),2),nu=nd[0],ns=nd[1],nc=(0,l._)((0,c.useState)("fullNames"),2),nf=nc[0],nh=nc[1],nx=(0,l._)((0,c.useState)(!1),2),np=nx[0],nv=nx[1],nm=(0,l._)(f().useState(null),2),nj=nm[0],ng=nm[1],nb=!!nj,ny=(0,l._)((0,c.useState)(null),2),nS=ny[0],nw=ny[1],n_=function(e,n,t){var r=Y()().year(e).isoWeek(n).day(t);return r.isValid?r.format("DD.MM.YYYY"):"Invalid Date"},nC=function(){D.default.get(S.BASE_URL+"/education/educationYearsForSelected",{headers:eA}).then(function(e){var n,t,r;ez(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj),eP((0,C.fetchEducationYear)(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(t=r.obj)||void 0===t?void 0:t[0]))}).catch(function(e){})};(0,c.useEffect)(function(){nC()},[]);var nk=(e=(0,r._)(function(){var e;return(0,u._)(this,function(n){switch(n.label){case 0:if(!(e=eU))return[3,2];return[4,D.default.get("".concat(S.BASE_URL,"/groupConnect/subjectsOfTeacher/").concat(null==eL?void 0:eL.id,"?educationId=").concat(null==eU?void 0:eU.id)).then(function(e){var n,t;eN(null===(n=e.data)||void 0===n?void 0:n.obj),Q(null===(t=e.data)||void 0===t?void 0:t.obj[0].name)}).catch(function(e){})];case 1:e=n.sent(),n.label=2;case 2:return[2]}})}),function(){return e.apply(this,arguments)}),nD=function(e,n,t,r,i){var a;e&&(null==n?void 0:n.some(function(n){return(null==n?void 0:n.name)===e}))&&D.default.get("".concat(S.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(t,"?educationId=").concat(i,"&subjectId=").concat(null==n?void 0:null===(a=n.find(function(n){return(null==n?void 0:n.name)===e}))||void 0===a?void 0:a.id,"&eduType=").concat(r)).then(function(e){var n;eB(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){})};(0,c.useEffect)(function(){$(""),nD(I,eE,null==eL?void 0:eL.id,o,null==eU?void 0:eU.id)},[I,o]);var nI=function(){if(""!==Z){var e,n,t,r;np?(eJ(!0),D.default.get("".concat(S.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==eU?void 0:eU.id,"/").concat(null==eG?void 0:null===(t=eG.find(function(e){return(null==e?void 0:e.name)===Z}))||void 0===t?void 0:t.id,"?subjectId=").concat(null==eE?void 0:null===(r=eE.find(function(e){return(null==e?void 0:e.name)===I}))||void 0===r?void 0:r.id),{headers:eA}).then(function(e){var n,t;eq(null===(n=e.data[0][0])||void 0===n?void 0:n.students.map(function(e){var n=new Set,t=null==e?void 0:e.subjects.reduce(function(e,t){var r="".concat(t.day,"-").concat(t.week,"-").concat(t.year,"-").concat(t.section);return!n.has(r)&&(n.add(r),e.push(t)),e},[]).filter(function(e){return 0===e.statistics.length}).map(function(e){if(Y()(n_(e.year,e.week,e.day),"DD.MM.YYYY").isSameOrBefore(Y()(),"day"))return e}).filter(Boolean).length;return(0,a._)((0,i._)({},e),{subjectNb:t})})),nw(null===(t=e.data[0][0])||void 0===t?void 0:t.maxStep),eJ(!1)}).catch(function(e){eJ(!1)})):(eX(!0),D.default.get("".concat(S.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacherForTodayWithMax/").concat(null==eU?void 0:eU.id,"/").concat(null==eG?void 0:null===(e=eG.find(function(e){return(null==e?void 0:e.name)===Z}))||void 0===e?void 0:e.id,"?subjectId=").concat(null==eE?void 0:null===(n=eE.find(function(e){return(null==e?void 0:e.name)===I}))||void 0===n?void 0:n.id,"&year=").concat(Y()(new Date).year(),"&week=").concat(Y()(new Date).week(),"&day=").concat(Y()(new Date).day()),{headers:eA}).then(function(e){var n,t,r;eq(null===(n=e.data)||void 0===n?void 0:n[0][0].students),nw(null===(r=e.data)||void 0===r?void 0:null===(t=r[0][0])||void 0===t?void 0:t.maxStep),eX(!1)}).catch(function(e){eX(!1)}))}};(0,c.useEffect)(function(){nI()},[Z,e4,np]),(0,c.useEffect)(function(){nk()},[eU]);var nY=function(e){eC(e),en(!0)},nH=function(){return ev(!1)},nM=function(){return eg(!1)},nA=function(){return eS(!1)},nT=function(e){eg(!0),e2(e)},nE=function(e,n){e8(!0),eI((0,a._)((0,i._)({},e),{alph:n}))},nN=function(e){eI(e)};(0,c.useEffect)(function(){null!==eD&&e4&&nn(!0)},[eD]),(0,c.useEffect)(function(){ne||eI(null)},[ne]),(0,c.useEffect)(function(){e7(e4),nv(np)},[]);var nF=function(){return en(!1)},nG=function(e){var n=[{alph:"A+",Min:95,Max:100},{alph:"A",Min:90,Max:94},{alph:"B+",Min:85,Max:89},{alph:"B",Min:80,Max:84},{alph:"C+",Min:75,Max:79},{alph:"C",Min:70,Max:74},{alph:"D+",Min:65,Max:69},{alph:"D",Min:60,Max:64},{alph:"F",Min:0,Max:59},{alph:"FA",Min:0,Max:0}];return 0!==e?n.find(function(n){return n.Min<=e}):n.find(function(n){return n.Min<=e&&n.Max<=e})};return(0,c.useEffect)(function(){(null==eH?void 0:eH.id)&&(null==eH?void 0:eH.grade)&&eq((0,d._)(null==eK?void 0:eK.filter(function(e){return(null==e?void 0:e.studentId)!==(null==eH?void 0:eH.id)})).concat([(0,a._)((0,i._)({},null==eK?void 0:eK.find(function(e){return(null==e?void 0:e.studentId)===(null==eH?void 0:eH.id)})),{todayGrade:null==eH?void 0:eH.grade})]))},[eH]),(0,s.jsxs)(ep,{children:[e9&&(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"end"},children:(0,s.jsx)(N.default,{onClick:function(){return e8(!1)},variant:"outlined",startIcon:(0,s.jsx)(F.BiArrowBack,{}),children:"Back"})}),(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"30px"},children:(0,s.jsxs)(ex,{children:[(0,s.jsx)(x.default,{sx:{minWidth:180,background:"#fff"},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{htmlFor:"semestr",children:"Academic year"}),(0,s.jsx)(j.default,{labelId:"semestr",id:"demo-simple-select",value:null==eU?void 0:eU.name,onChange:function(e){e.target.value!==(null==eU?void 0:eU.name)&&eP((0,k.educationYearStatisticsFetching)()),eP((0,C.fetchEducationYear)(null==eO?void 0:eO.find(function(n){return(null==n?void 0:n.name)===e.target.value})))},label:"Academic year",disabled:e9,children:null==eO?void 0:eO.map(function(e,n){return(0,s.jsx)(v.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]})}),(0,s.jsx)(x.default,{sx:{width:200},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{id:"fanselect",children:"Subject"}),(0,s.jsx)(j.default,{labelId:"fanselect",id:"demo-simple-select2",value:I,label:"Subject",onChange:function(e){Q(e.target.value)},disabled:e9,children:null==eE?void 0:eE.map(function(e,n){return(0,s.jsx)(v.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]})}),(0,s.jsx)(x.default,{sx:{width:200},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{id:"demo-simple-select-label",children:"Education type"}),(0,s.jsx)(j.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Education type",onChange:function(e){return h(e.target.value)},disabled:e9,children:null==n?void 0:n.map(function(e,n){return(0,s.jsx)(v.default,{value:e,children:e},n)})})]})}),(0,s.jsx)(x.default,{sx:{width:200},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{id:"demo-simple-select-label1",children:"Group"}),(0,s.jsx)(j.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:Z,label:"Group",onChange:function(e){$(e.target.value),nv(!1)},disabled:e9,children:null==eG?void 0:eG.map(function(e,n){return(0,s.jsx)(v.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]})})]})}),(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"end"},children:(0,s.jsx)(V.default,{lessons:eE,userId:null==eL?void 0:eL.id,eduType:"ALL",eduId:null==eU?void 0:eU.id})}),e9?(0,s.jsx)(eh,{children:(0,s.jsx)(w.default,{oneSciencesScore:eD,maxStep:nS,groupSelect:Z,fetchCoreDataStudents:nI})}):(0,s.jsxs)(eh,{children:[(0,s.jsxs)(ea,{children:[(0,s.jsxs)("h4",{children:["Group: ",Z]}),(0,s.jsx)(U.default,{title:"Settings",children:(0,s.jsx)(R.default,{onClick:function(e){ng(e.currentTarget)},size:"medium",sx:{ml:2},"aria-controls":nb?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":nb?"true":void 0,children:(0,s.jsx)(L.BsThreeDotsVertical,{})})})]}),(0,s.jsxs)(ei,{children:[(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"\u2116"}),(0,s.jsx)("th",{children:(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Full name"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){ni(function(e){return!e}),nh("fullNames")},children:nr?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]})}),np&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("th",{children:"Attendance"}),(0,s.jsx)("th",{children:(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:" All attendance"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){ns(function(e){return!e}),nh("attendance")},children:nu?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]})})]}),(0,s.jsx)("th",{children:e4?(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Evaluate"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){no(function(e){return!e}),nh("evaluate")},children:nl?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]}):(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Score"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){no(function(e){return!e}),nh("score")},children:nl?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]})}),(0,s.jsx)("th",{children:"Info"})]})}),(0,s.jsx)("tbody",{children:!eQ&&(null==eK?void 0:eK.sort(function(e,n){if("fullNames"===nf){if(nr){if(nr)return e.fullName<n.fullName?1:e.fullName>n.fullName?-1:0}else return e.fullName>n.fullName?1:e.fullName<n.fullName?-1:0}if("attendance"===nf){if(nu){if(nu)return e.subjectNb<n.subjectNb?1:e.subjectNb>n.subjectNb?-1:0}else return e.subjectNb>n.subjectNb?1:e.subjectNb<n.subjectNb?-1:0}if("score"===nf){if(nl){if(nl)return e.middleGrade<n.middleGrade?1:e.middleGrade>n.middleGrade?-1:0}else return e.middleGrade>n.middleGrade?1:e.middleGrade<n.middleGrade?-1:0}if("evaluate"===nf){if(nl){if(nl)return e.todayGrade<n.todayGrade?1:e.todayGrade>n.todayGrade?-1:0}else return e.todayGrade>n.todayGrade?1:e.todayGrade<n.todayGrade?-1:0}}).map(function(e,n){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center"},children:n+1}),(0,s.jsx)("td",{children:null==e?void 0:e.fullName}),np&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{children:(0,s.jsx)(T.default,{data:null==e?void 0:e.subjects})}),(0,s.jsx)("td",{children:e$?(0,s.jsx)(z.Skeleton,{sx:{margin:"0 auto"},width:100,height:50}):(0,s.jsx)(ef,{onClick:function(){return nY(e)},children:null==e?void 0:e.subjectNb})})]}),e4?(0,s.jsx)("td",{children:(0,s.jsx)(ef,{onClick:function(){return nN(e)},children:(null==e?void 0:e.todayGrade)!==null?null==e?void 0:e.todayGrade:0})}):(0,s.jsx)("td",{children:(0,s.jsx)(ef,{onClick:function(){return nE(e,nG(null!==e.middleGrade?e.middleGrade:0).alph)},children:null!==e.sumGrade?e.sumGrade.toFixed(2):0})}),(0,s.jsx)("td",{children:(0,s.jsx)(ef,{onClick:function(){return nT(e)},children:(0,s.jsx)(M.AiFillInfoCircle,{})})})]},n)}))})]}),eQ&&(0,s.jsx)(x.default,{sx:{width:"100%",marginTop:"20px"},children:(0,s.jsx)(H.default,{})}),0===eK.length&&(0,s.jsx)(B.default,{w:200,h:180})]})]}),(0,s.jsxs)(z.Menu,{anchorEl:nj,id:"account-menu",open:nb,onClose:function(){ng(null)},PaperProps:{elevation:0,sx:{p:1,width:"225px",overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,s.jsxs)(z.FormGroup,{children:[(0,s.jsx)(W.default,{control:(0,s.jsx)(P.default,{checked:e4,onChange:function(e){e7(e.target.checked)}}),label:"Evaluate only today"}),(0,s.jsx)(W.default,{control:(0,s.jsx)(P.default,{checked:np,onChange:function(e){nv(e.target.checked)}}),label:"Show attendance"})]}),eK.length>0&&(0,s.jsxs)(x.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",gap:"10px",mt:"10px"},children:[(0,s.jsx)(N.default,{onClick:function(){eS(!0)},sx:{width:"100%"},variant:"outlined",children:"all attendance "}),(0,s.jsx)(q.default,{educationYear:eU,content:eK,groupName:Z,subjectName:I,maxStep:nS})]})]}),(0,s.jsx)(b.default,{open:ee,onClose:nF,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(x.default,{sx:el,component:eo,children:[(0,s.jsx)(ec,{onClick:nF,children:(0,s.jsx)(y.RiCloseLine,{})}),(0,s.jsx)(A.default,{data:e_})]})}),(0,s.jsx)(b.default,{open:er,onClose:nH,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(x.default,{sx:eu,component:es,children:[(0,s.jsx)(ec,{onClick:nH,children:(0,s.jsx)(y.RiCloseLine,{})}),(0,s.jsx)(w.default,{oneSciencesScore:eD,setOpen2:ev})]})}),(0,s.jsx)(G.default,{setTodayGrade:eM,openEvaluateToday:ne,setOpenEvaluateToday:nn,oneSciencesScore:eD}),(0,s.jsx)(b.default,{open:ej,onClose:nM,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(x.default,{sx:el,component:eo,children:[(0,s.jsx)(ec,{onClick:nM,children:(0,s.jsx)(y.RiCloseLine,{})}),(0,s.jsx)(E.default,{studentData:e1})]})}),(0,s.jsx)(b.default,{open:ey,onClose:nA,children:(0,s.jsxs)(x.default,{sx:ed,component:eo,children:[(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"end"},onClick:nA,children:(0,s.jsx)(R.default,{children:(0,s.jsx)(y.RiCloseLine,{})})}),(0,s.jsx)(K.default,{groups:eG,lessons:eE,groupSelect:Z,scien:I})]})})]})}},26118:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var r=t("38956"),i=t("58865");t("57327"),t("88449"),t("19894"),t("2490"),t("41539");var a=t("85893"),l=t("67294"),o=t("71893"),d=t("8193"),u=t("1415"),s=t("30381"),c=t.n(s);function f(){var e=(0,i._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return f=function(){return e},e}var h=o.default.div(f(),function(e){return e.color?e.color:"#000"}),x=(0,l.memo)(function(e){var n,t=e.data,i=(0,r._)((0,l.useState)(!1),2),o=i[0],s=i[1],f=t.filter(function(e){return e.day===c()().day()&&e.week===c()().week()&&e.year===c()().year()}),x=(null===(n=f[(null==f?void 0:f.length)-1])||void 0===n?void 0:n.statistics.length)===0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{onClick:function(){return s(!0)},color:x?"red":"green",children:x?(0,a.jsx)(d.AiFillCloseCircle,{}):(0,a.jsx)(d.AiFillCheckCircle,{})}),(0,a.jsx)(u.default,{open:o,handleClose:function(){return s(!1)},data:t})]})})},29489:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t("7409"),i=t("99282"),a=t("58865");t("51532"),t("10072"),t("23042"),t("99137"),t("71957"),t("96306"),t("103"),t("74592"),t("58276"),t("35082"),t("12813"),t("18222"),t("38563"),t("50336"),t("7512"),t("66992"),t("33948"),t("78783"),t("41539"),t("57327"),t("88449"),t("19894"),t("2490"),t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("92222"),t("85827"),t("25387"),t("72608"),t("57658"),t("2707");var l=t("85893");t("67294");var o=t("71893"),d=t("28685"),u=t("30381"),s=t.n(u);function c(){var e=(0,a._)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"]);return c=function(){return e},e}function f(){var e=(0,a._)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return f=function(){return e},e}function h(){var e=(0,a._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return h=function(){return e},e}function x(){var e=(0,a._)(["\n"]);return x=function(){return e},e}var p=o.default.div(c(),function(e){return e.jsc},function(e){return e.bg}),v=o.default.div(f()),m=o.default.div(h(),d.mainColor),j=o.default.div(x()),g=function(e){var n,t=e.data,a=t.subjects,o=t.fullName,d=new Date,u=new Map,c=[{number:1,hour:"9:00 - 9:50",start:d.setHours(9,0,0),end:d.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:d.setHours(10,0,0),end:d.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:d.setHours(11,0,0),end:d.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:d.setHours(12,0,0),end:d.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:d.setHours(13,0,0),end:d.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:d.setHours(14,0,0),end:d.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:d.setHours(15,0,0),end:d.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:d.setHours(16,0,0),end:d.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:d.setHours(17,0,0),end:d.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:d.setHours(18,0,0),end:d.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:d.setHours(19,0,0),end:d.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:d.setHours(20,0,0),end:d.setHours(20,50,0)}],f=null==a?void 0:null===(n=a.filter(function(e){return(null==e?void 0:e.statistics.length)===0}))||void 0===n?void 0:n.map(function(e){var n=s()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),t=c.find(function(n){return n.number===e.section}).start;return(0,i._)((0,r._)({},e),{date:n,hourStart:s()(t).format("HH:mm")})}).filter(function(e){return s()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(s()(),"minute")}),h=null==f?void 0:f.reduce(function(e,n){var t=n.date+n.hourStart;return!u.has(t)&&(u.set(t,!0),e.push(n)),e},[]).sort(function(e,n){var t=s()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return s()("".concat(n.date," ").concat(n.hourStart),"DD.MM.YYYY HH:mm").diff(t)});return(0,l.jsxs)(j,{children:[(0,l.jsx)(m,{children:o}),(0,l.jsx)(v,{children:(null==h?void 0:h.length)>0?null==h?void 0:h.map(function(e,n){return(0,l.jsxs)(p,{bg:"red",jsc:"space-between",children:[(0,l.jsx)("p",{children:e.date}),(0,l.jsxs)("p",{children:[e.section," - para"]})]},n)}):(0,l.jsx)(p,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})}},816:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t("76150"),i=t("38956"),a=t("58865"),l=t("18965");t("92222"),t("21249"),t("57640"),t("9924"),t("82772");var o=t("85893"),d=t("67294"),u=t("85466"),s=t("87980"),c=t("43927"),f=t("89589"),h=t("23508"),x=t("71893"),p=t("28685"),v=t("30381"),m=t.n(v),j=t("90199"),g=t("27233");function b(){var e=(0,a._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return b=function(){return e},e}function y(){var e=(0,a._)(["\n  text-align: center;\n  border: 1px solid silver;\n  padding: 5px;\n"]);return y=function(){return e},e}function S(){var e=(0,a._)(["\n  margin-top: 50px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return S=function(){return e},e}function w(){var e=(0,a._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return w=function(){return e},e}function _(){var e=(0,a._)(["\n"]);return _=function(){return e},e}var C=x.default.div(b()),k=x.default.div(y()),D=x.default.div(S()),I=x.default.div(w(),p.mainColor),Y=x.default.div(_()),H=function(e){var n,t,a,x=e.studentData,v=x.fullName,b=x.studentId,y=x.subjectId,S=x.groupId,w=x.educationId,_=(0,i._)((0,d.useState)([]),2),H=_[0],M=_[1],A=(0,i._)((0,d.useState)(!1),2),T=A[0],E=A[1],N=(0,p.getHeaders)().headers;var F=(n=(0,r._)(function(){return(0,l._)(this,function(e){switch(e.label){case 0:return[4,g.default.get("".concat(p.BASE_URL,"/downloadCounter/getDownloadCountOfOneStudent/").concat(w,"?groupId=").concat(S,"&subjectId=").concat(y,"&studentId=").concat(b),{headers:N}).then(function(e){var n;M(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return n.apply(this,arguments)});return(0,d.useEffect)(function(){F()},[]),(0,o.jsxs)(Y,{children:[(0,o.jsx)(I,{children:v}),(0,o.jsx)(D,{children:null===(a=H[0])||void 0===a?void 0:null===(t=a.lines)||void 0===t?void 0:t.map(function(e,n){var t;return(0,o.jsxs)(u.default,{expanded:T===n,onChange:(t=n,function(e,n){E(!!n&&t)}),children:[(0,o.jsx)(c.default,{expandIcon:(0,o.jsx)(h.default,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,o.jsx)(f.default,{sx:{color:"".concat(p.mainColor),fontWeight:"bold"},children:e.queue+"-Mavzu: "+e.themeName})}),(0,o.jsxs)(s.default,{children:[(0,o.jsxs)(C,{children:[(0,o.jsx)(k,{children:(0,o.jsx)("b",{children:"File name "})}),(0,o.jsx)(k,{children:(0,o.jsx)("b",{children:"Number of downloads"})}),(0,o.jsx)(k,{children:(0,o.jsx)("b",{children:"last download time "})})]}),e.counter.length>0?e.counter.map(function(e,n){return(0,o.jsxs)(C,{children:[(0,o.jsx)(k,{children:(0,o.jsxs)("p",{children:[" ",e.fileName.substring(0,e.fileName.indexOf("_"))]})}),(0,o.jsx)(k,{children:(0,o.jsxs)("p",{children:[e.count," "]})}),(0,o.jsx)(k,{children:(0,o.jsxs)("p",{children:[m()(e.lastDownloadTime).format("DD.MM.YYYY HH:MM")," "]})})]},n)}):(0,o.jsx)(j.default,{w:"140",h:"120"})]})]},n)})})]})}},41087:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t("76150"),i=t("38956"),a=t("58865"),l=t("18965");t("54678"),t("4723"),t("74916"),t("15306"),t("23123"),t("73210"),t("92222"),t("47042"),t("21249"),t("57640"),t("9924");var o=t("85893"),d=t("67294"),u=t("89258"),s=t("71893"),c=t("94718"),f=t("7701"),h=t("5434"),x=t("49492");function p(){var e=(0,a._)(["\n    width: 700px;\n    margin: 0 auto;\n    font-size: 14px;\n    padding: 10px;\n    color: black;\n    line-height: 1.7;\n\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    table, td, th {\n        border: 1px solid;\n        padding: 6px;\n    }\n\n    th {\n        text-align: center;\n    }\n"]);return p=function(){return e},e}var v=s.default.div(p()),m=(0,d.memo)(function(e){var n,t,a,s=e.educationYear,p=e.teacherData,m=e.dataOfLeaders,j=e.content,g=e.groupName,b=e.subjectName,y=e.maxStep,S=function(e,n){return e&&"number"==typeof e.sumGrade?parseFloat(Math.ceil(e.sumGrade)):0},w=(0,d.useRef)(null),_=(0,i._)((0,d.useState)(!1),2),C=_[0],k=_[1],D=null==s?void 0:null===(t=s.name)||void 0===t?void 0:t.match(/\d{4}-\d{4}/),I=D?D[0].replace("-","/"):null,Y=null==s?void 0:null===(a=s.name)||void 0===a?void 0:a.match(/\d+-sem/),H=Y?Y[0].split("-")[0]:null,M=null==m?void 0:m.direction.match(/\)([^)]+)$/),A=M?M[1].trim():null;var T=(n=(0,r._)(function(){var e,n;return(0,l._)(this,function(t){switch(t.label){case 0:return k(!0),e=w.current,n={margin:10,filename:"statement-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},[4,(0,x.default)().set(n).from(e).save()];case 1:return t.sent(),k(!1),[2]}})}),function(){return n.apply(this,arguments)});return(0,o.jsxs)(o.Fragment,{children:[C?(0,o.jsx)(c.default,{size:"small",variant:"outlined",endIcon:(0,o.jsx)(f.default,{size:18}),children:"download"}):(0,o.jsx)(c.default,{size:"small",variant:"contained",endIcon:(0,o.jsx)(h.MdOutlineFileDownload,{size:22}),onClick:T,children:"statement pdf"}),(0,o.jsx)("div",{style:{display:"none"},children:(0,o.jsxs)(v,{ref:w,children:[(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("div",{children:(0,o.jsx)("img",{width:130,src:u,alt:"logo"})}),(0,o.jsx)("div",{children:(0,o.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,o.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]})})]}),(0,o.jsxs)("div",{style:{textAlign:"center",margin:"10px 0"},children:[(0,o.jsxs)("b",{children:[" ","<<",A,">>"," ",(0,o.jsx)("br",{}),I," ACADEMIC YEAR ",(0,o.jsx)("br",{})]}),(0,o.jsxs)("b",{children:[" STATEMENT OF RATING \u2116 ",(0,o.jsx)("span",{style:{width:80,borderBottom:"1px solid #000"},children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"})]})]}),(0,o.jsx)("div",{style:{margin:"10px 0"},children:(0,o.jsxs)("p",{children:["Discipline: ",(0,o.jsx)("b",{children:b})]})}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[(0,o.jsxs)("p",{children:["Course: ",(0,o.jsx)("b",{children:null==m?void 0:m.course})]}),(0,o.jsxs)("p",{children:["Semester:",(0,o.jsx)("b",{children:H})]}),(0,o.jsxs)("p",{children:["Group: ",(0,o.jsx)("b",{children:g})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"10px 0"},children:[(0,o.jsxs)("p",{children:["Number of credits: ",(0,o.jsx)("b",{children:"2"})]}),(0,o.jsxs)("p",{children:["Hours: ",(0,o.jsx)("b",{})]})]}),(0,o.jsxs)("table",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\u2116"}),(0,o.jsx)("th",{children:"STUDENTS NAMES"}),(0,o.jsx)("th",{children:"ID number"}),(0,o.jsx)("th",{children:"CC"})]}),null==j?void 0:j.slice(0,18).map(function(e,n){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:n+1})}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:null==e?void 0:e.userId})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:S(e,y)})})]},n)})]}),(0,o.jsx)("br",{}),(0,o.jsx)("table",{children:null==j?void 0:j.slice(18).map(function(e,n){var t;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:n+(null==j?void 0:null===(t=j.slice(0,18))||void 0===t?void 0:t.length)+1})}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:null==e?void 0:e.userId})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:S(e,y)})})]},n)})}),(0,o.jsx)("p",{children:"CC-Current Control"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Teacher:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:p.fullName})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Head of Department:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:null==m?void 0:m.headOfDepartment})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Course Leader:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:null==m?void 0:m.courseLeader})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Head of Academic Affairs      Department:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:null==m?void 0:m.headOfAcademicAffair})]})]})})]})})}}]);