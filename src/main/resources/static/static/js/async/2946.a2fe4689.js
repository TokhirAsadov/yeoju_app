/*! For license information please see 2946.a2fe4689.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2946"],{84201:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t("7409"),r=t("99282"),u=t("38956"),i=t("58865");t("82772"),t("21249"),t("57640"),t("9924"),t("92222"),t("17727"),t("88674"),t("41539");var s=t("85893"),o=t("67294"),l=t("71893"),d=t("28685"),c=t("27233"),f=t("30381"),h=t.n(f),p=t("7104"),g=t("16356"),v=t("61261"),b=t("8872"),m=t("55693");function x(){var e=(0,i._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return x=function(){return e},e}var _=l.default.div(x()),j=function(){var e=(0,u._)((0,o.useState)(!0),2),n=e[0],t=e[1],i=(0,u._)((0,o.useState)([]),2),l=i[0],f=i[1],x=(0,u._)((0,o.useState)([]),2),j=x[0],w=x[1],C=(0,u._)((0,o.useState)(""),2),k=C[0],A=C[1],y=(0,d.getHeaders)().headers,S=(0,o.useCallback)(function(){c.default.get(d.BASE_URL+"/dekanat/all",{headers:y}).then(function(e){w(e.data.obj.map(function(e){return null==e?void 0:e.owner}))}).catch(function(e){})},[]),O=(0,o.useCallback)(function(e){c.default.get(d.BASE_URL+"/dataOfLastActive/findByCreatorId/".concat(e),{headers:y}).then(function(e){f(null==e?void 0:e.data.obj.map(function(e,n){return(0,r._)((0,a._)({},e),{count:n+1})}))}).catch(function(e){}).finally(function(){return t(!1)})},[k]),L=(0,o.useCallback)(function(){c.default.get(d.BASE_URL+"/dataOfLastActive/findAll",{headers:y}).then(function(e){f(null==e?void 0:e.data.obj.map(function(e,n){return(0,r._)((0,a._)({},e),{count:n+1})}))}).catch(function(e){}).finally(function(){return t(!1)})},[]);return(0,o.useEffect)(function(){S()},[]),(0,o.useEffect)(function(){t(function(){return!0}),""===k?L():k&&O(k)},[k]),(0,s.jsx)(_,{children:(0,s.jsx)(p.Card,{children:(0,s.jsxs)(p.CardContent,{children:[(0,s.jsxs)(p.TextField,{sx:{width:300,mb:2},id:"outlined-select-currency",select:!0,label:"Deans",value:k,onChange:function(e){return A(e.target.value)},children:[(0,s.jsx)(v.default,{value:"",children:(0,s.jsx)("em",{children:"None"})}),j&&j.map(function(e){return(0,s.jsx)(v.default,{value:null==e?void 0:e.id,children:null==e?void 0:e.fullName},null==e?void 0:e.id)})]}),(0,s.jsxs)(m.default,{sx:{display:"grid",gridTemplateColumns:"1fr ",gap:5},children:[(0,s.jsx)(b.default,{data:l}),(0,s.jsx)(g.DataGrid,{style:{width:"100%"},columns:[{field:"count",headerName:"\u2116",width:40,sortable:!0,editable:!1},{field:"passage",headerName:"Full Name",width:300,editable:!1,renderCell:function(e){var n;return(0,s.jsx)("p",{children:null===(n=e.row.passage)||void 0===n?void 0:n.substring(0,e.row.passage.indexOf("is")-1)})}},{field:"updatedAt",headerName:"Action date",width:200,editable:!1,sortable:!0,renderCell:function(e){var n;return(0,s.jsx)("p",{children:h()(null===(n=e.row)||void 0===n?void 0:n.updatedAt).format("DD.MM.YYYY HH:mm")})}}],rows:l||[],loading:n,components:{Toolbar:g.GridToolbar},autoHeight:!0,pageSize:20,rowsPerPageOptions:[20,30,50]})]})]})})})}},8872:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var a=t("7409"),r=t("99282"),u=t("93820");t("85827"),t("25387"),t("72608"),t("2490"),t("41539"),t("69826"),t("31672"),t("59461"),t("57658"),t("21249"),t("57640"),t("9924"),t("82772");var i=t("85893"),s=t("67294"),o=t("47229"),l=(0,s.memo)(function(e){var n=e.data,t=(0,s.useMemo)(function(){return n&&(null==n?void 0:n.reduce(function(e,n){var t=n.passage,r=(0,u._)(n,["passage"]),i=e.find(function(e){return e[0].passage===t});return i?i.push((0,a._)({passage:t},r)):e.push([(0,a._)({passage:t},r)]),e},[]))||[]},[n]),l=(0,s.useMemo)(function(){return{chart:{type:"bar"},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1}}},[]),d=(0,s.useCallback)(function(){return t.map(function(e){return e[0].passage.substring(0,e[0].passage.indexOf("is")-1)})},[t]),c=(0,s.useMemo)(function(){return{series:[{name:"actions",data:t.map(function(e){return e.length})}],options:(0,r._)((0,a._)({},l),{labels:{show:!0,formatter:function(e,n){return e.substring(0,e.indexOf("is"))},offsetX:0},xaxis:{categories:d()}})}},[t,l,d]);return(0,i.jsx)(o.default,{options:c.options,series:c.series,type:"bar",width:"100%",height:"300px"})})}}]);