/*! For license information please see 1654.5dd44d2d.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["1654"],{17171:function(e,n,l){"use strict";var t=l("5751");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t(l("64938")),i=l("85893"),d=(0,a.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");n.default=d},39628:function(e,n,l){"use strict";var t=l("5751");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t(l("64938")),i=l("85893"),d=(0,a.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");n.default=d},9077:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return q}});var t=l("76150"),a=l("7409"),i=l("99282"),d=l("38956"),u=l("58865"),r=l("18965");l("69826"),l("31672"),l("59461"),l("2490"),l("41539"),l("92222"),l("2707"),l("21249"),l("57640"),l("9924"),l("91038"),l("78783");var o=l("85893"),c=l("67294"),s=l.n(c),f=l("50533"),h=l("27233"),v=l("28685"),m=l("31169"),p=l("71893"),x=l("7104"),g=l("55693"),j=l("25727"),b=l("89589"),y=l("74113"),_=l("94718"),C=l("97367"),S=l("80471"),I=l("42154"),w=l("32392"),k=l("44025"),T=l("61261"),L=l("15352"),A=l("52861"),E=l("60155"),B=l("39628"),N=l("71632"),R=l("17171"),U=l("72132"),z=l("39711"),O=l("5434"),M=l("68567"),Y=l("85478");function F(){var e=(0,u._)(["\n  ","\n"]);return F=function(){return e},e}function H(){var e=(0,u._)(["\n  padding: 0 10px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 20px;\n  flex-wrap: wrap;\n\n  p {\n    color: ",";\n    font-size: 30px;\n    font-weight: bold;\n    ","\n  }\n  ","\n"]);return H=function(){return e},e}function K(){var e=(0,u._)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 20px;\n  padding: 10px;\n  ","\n  ","\n  ","\n  ","\n  ",""]);return K=function(){return e},e}function G(){var e=(0,u._)(["\n  width: 100%;\n  padding: 1rem;\n"]);return G=function(){return e},e}var P={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:3},V=p.default.div(F(),(0,N.extrasmall)({width:"95% !important"})),D=p.default.h1(H(),v.mainColor,(0,N.extrasmall)({textAlign:"center",fontSize:"25px"}),(0,N.extrasmall)({justifyContent:"center"})),W=p.default.div(K(),(0,N.xlarge)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,N.large)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,N.medium)({gridTemplateColumns:"1fr 1fr "}),(0,N.small)({gridTemplateColumns:"1fr 1fr "}),(0,N.extrasmall)({gridTemplateColumns:"1fr "})),Z=p.default.div(G()),q=function(){var e,n,l,u,p=function(e){var n=e.loading,l=void 0!==n&&n;return(0,o.jsxs)(x.Card,{children:[(0,o.jsx)(x.CardHeader,{avatar:l&&(0,o.jsx)(x.Skeleton,{animation:"wave",variant:"circular",width:40,height:40}),action:l&&null,title:l&&(0,o.jsx)(x.Skeleton,{animation:"wave",height:15,width:"80%",style:{marginBottom:6}}),subheader:l&&(0,o.jsx)(x.Skeleton,{animation:"wave",height:15,width:"40%"})}),(0,o.jsx)(x.CardContent,{children:l&&(0,o.jsxs)(s().Fragment,{children:[(0,o.jsx)(x.Skeleton,{animation:"wave",height:15,style:{marginBottom:6}}),(0,o.jsx)(x.Skeleton,{animation:"wave",height:15})]})})]})},N=["UZBEK","ENGLISH","RUSSIAN"],F=["KUNDUZGI","KECHKI","SIRTQI","MAGISTRATURE"],H=(0,d._)((0,c.useState)([]),2),K=H[0],G=H[1],q=[1,2,3,4,5,6],Q=(0,d._)((0,c.useState)([]),2),J=Q[0],X=Q[1],$=(0,d._)((0,c.useState)(!1),2),ee=$[0],en=$[1],el=(0,d._)((0,c.useState)(!0),2),et=el[0],ea=el[1],ei=(0,d._)((0,c.useState)([]),2),ed=ei[0],eu=ei[1],er=(0,f.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear})||null,eo=(0,d._)((0,c.useState)(null),2),ec=eo[0],es=eo[1],ef=(0,f.useDispatch)(),eh=(0,v.getHeaders)().headers,ev=(0,d._)((0,c.useState)(!0),2),em=ev[0],ep=ev[1],ex=(0,d._)((0,c.useState)([]),2),eg=ex[0],ej=ex[1],eb={id:null,eduLang:N[0],eduType:F[0],educationYearId:null==er?void 0:er.id,subjectId:null,teacherId:null,level:q[0],groupsIds:[]},ey=(0,d._)((0,c.useState)(eb),2),e_=ey[0],eC=ey[1],eS=function(){en(!1),eC(eb)};var eI=(e=(0,t._)(function(){return(0,r._)(this,function(e){switch(e.label){case 0:return[4,h.default.get(v.BASE_URL+"/education/educationYearsForSelected",{headers:eh}).then(function(e){var n,l,t,a,i;eu(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj),es(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(l=t.obj)||void 0===l?void 0:l[0]),ef((0,Y.fetchEducationYear)(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(a=i.obj)||void 0===a?void 0:a[0]))}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return e.apply(this,arguments)}),ew=function(){ea(!0),X([]),h.default.get("".concat(v.BASE_URL,"/plan/getTeacherWIthSubjectForPlan/").concat(null==er?void 0:er.id),{headers:eh}).then(function(e){var n,l;X(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(n=l.obj)||void 0===n?void 0:n.sort(function(e,n){return e.fullName>n.fullName?1:-1})),ea(!1)}).catch(function(e){return ef((0,m.kafedraTeacherStatisticsFetchingError)(e))})};var ek=(n=(0,t._)(function(e){return(0,r._)(this,function(n){return h.default.post("".concat(v.BASE_URL,"/plan/createdPlanByKafedraMudiri"),e,{headers:eh}).then(function(e){U.toast.success("created plan of subject successfully"),eS()}).catch(function(e){}),[2]})}),function(e){return n.apply(this,arguments)});var eT=(l=(0,t._)(function(){return(0,r._)(this,function(e){switch(e.label){case 0:return[4,h.default.get("".concat(v.BASE_URL,"/lesson/getAllLessonByKafedraOwner"),{headers:eh}).then(function(e){var n;G(null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return l.apply(this,arguments)});var eL=(u=(0,t._)(function(){return(0,r._)(this,function(e){switch(e.label){case 0:return[4,h.default.get("".concat(v.BASE_URL,"/group/getGroupsForKafedraMudiri?lang=").concat(null==e_?void 0:e_.eduLang,"&eduType=").concat(null==e_?void 0:e_.eduType,"&level=").concat(null==e_?void 0:e_.level),{headers:eh}).then(function(e){var n;ej(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){})];case 1:return e.sent(),[2]}})}),function(){return u.apply(this,arguments)});return(0,c.useEffect)(function(){eL(),""!==e_.teacherId&&e_.groupsIds.length>0&&""!==e_.subjectId&&""!=e_.level?ep(!1):ep(!0)},[e_]),(0,c.useEffect)(function(){er&&ew(),eI(),eT()},[]),(0,c.useEffect)(function(){(null==ed?void 0:ed.length)>0&&es(ed[0])},[ed]),(0,o.jsxs)(Z,{children:[(0,o.jsxs)(D,{children:[(0,o.jsx)("p",{children:"Connect group to teacher"}),(0,o.jsx)(_.default,{variant:"contained",endIcon:(0,o.jsx)(O.MdOutlineCreateNewFolder,{}),onClick:function(){eL(),en(!0)},children:"create group plan"})]}),(0,o.jsxs)(I.default,{sx:{width:"250px",margin:"25px 0"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label15",children:"Academic year"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label15",id:"demo-simple-select-readonly15",value:(null==ec?void 0:ec.name)||"",onChange:function(e){es(ed.find(function(n){return(null==n?void 0:n.name)===e.target.value}))},label:"Academic year",children:null==ed?void 0:ed.map(function(e){return(0,o.jsx)(T.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]}),(0,o.jsx)(W,{children:et?Array.from({length:4}).map(function(e,n){return(0,o.jsx)(p,{loading:!0},n)}):J.map(function(e,n){var l,t;return(0,o.jsx)(x.Card,{children:(0,o.jsxs)(x.CardContent,{children:[(0,o.jsxs)(g.default,{display:"flex",gap:2,alignItems:"center",children:[(0,o.jsx)(j.default,{alt:null==e?void 0:e.fullName,src:(null==e?void 0:e.photo)?v.BASE_URL+"/attachment/download/"+(null==e?void 0:null===(l=e.photo)||void 0===l?void 0:l.id):""}),(0,o.jsx)(b.default,{children:null==e?void 0:e.fullName})]}),(0,o.jsx)(g.default,{mt:2,children:(0,o.jsx)("ul",{style:{listStyleType:"none",color:"".concat(v.mainColor),fontWeight:"bold",fontSize:"16px"},children:null==e?void 0:null===(t=e.subjects)||void 0===t?void 0:t.map(function(e,n){return(0,o.jsx)("li",{children:(0,o.jsx)(z.Link,{to:null==e?void 0:e.name,children:null==e?void 0:e.name})},n)})})})]})},n)})}),(0,o.jsx)(C.default,{open:ee,onClose:eS,children:(0,o.jsxs)(g.default,{sx:P,component:V,children:[(0,o.jsxs)(g.default,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(b.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Create group plan"}),(0,o.jsx)(y.default,{onClick:eS,"aria-label":"close",size:"medium",children:(0,o.jsx)(S.CgClose,{})})]}),(0,o.jsxs)(I.default,{sx:{width:"100%",margin:"25px 0"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label",children:"Academic year"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label",id:"demo-simple-select-readonly",value:null==er?void 0:er.name,onChange:function(e){e.target.value!==(null==er?void 0:er.name)&&ef((0,M.educationYearStatisticsFetching)()),ef((0,Y.fetchEducationYear)(null==ed?void 0:ed.find(function(n){return(null==n?void 0:n.name)===e.target.value})))},label:"Academic year",children:null==ed?void 0:ed.map(function(e){return(0,o.jsx)(T.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]}),(0,o.jsxs)(g.default,{sx:{display:"flex",gap:"20px"},children:[(0,o.jsxs)(I.default,{sx:{width:"100%"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"Language"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:e_.eduLang,label:"Language",onChange:function(e){return eC(function(n){return(0,i._)((0,a._)({},n),{eduLanguage:e.target.value})})},children:N.map(function(e){return(0,o.jsx)(T.default,{value:e,children:e},e)})})]}),(0,o.jsxs)(I.default,{sx:{width:"100%"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"Type of education"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:e_.eduType,label:"Type of education",onChange:function(e){return eC(function(n){return(0,i._)((0,a._)({},n),{eduType:e.target.value})})},children:F.map(function(e){return(0,o.jsx)(T.default,{value:e,children:e},e)})})]}),(0,o.jsxs)(I.default,{sx:{width:"100%"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"\u0421ourse"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:e_.level,label:"\u0421ourse",onChange:function(e){return eC(function(n){return(0,i._)((0,a._)({},n),{level:e.target.value})})},children:q.map(function(e){return(0,o.jsx)(T.default,{value:e,children:e},e)})})]})]}),(0,o.jsxs)(I.default,{sx:{width:"100%",margin:"25px 0"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"Teacher"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:e_.teacherId,label:"Teacher",onChange:function(e){return eC(function(n){return(0,i._)((0,a._)({},n),{teacherId:e.target.value})})},children:null==J?void 0:J.map(function(e,n){return(0,o.jsx)(T.default,{value:null==e?void 0:e.id,children:n+1+". "+(null==e?void 0:e.fullName)},n)})})]}),(0,o.jsxs)(I.default,{sx:{width:"100%"},children:[(0,o.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"Subject"}),(0,o.jsx)(k.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:e_.subjectId,label:"Subject",onChange:function(e){return eC(function(n){return(0,i._)((0,a._)({},n),{subjectId:e.target.value})})},children:null==K?void 0:K.map(function(e,n){return(0,o.jsx)(T.default,{value:null==e?void 0:e.subjectId,children:n+1+". "+(null==e?void 0:e.subjectName)},n)})})]}),(0,o.jsx)(x.Autocomplete,{multiple:!0,id:"checkboxes-tags-demo",options:eg,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.groupName},value:e_.groupsIds,onChange:function(e,n){eC(function(e){return(0,i._)((0,a._)({},e),{groupsIds:n})})},isOptionEqualToValue:function(e,n){return e.id===n.id},renderOption:function(e,n,l){var t=l.selected;return(0,o.jsxs)("li",(0,i._)((0,a._)({},e),{children:[(0,o.jsx)(L.default,{icon:(0,o.jsx)(B.default,{fontSize:"small"}),checkedIcon:(0,o.jsx)(R.default,{fontSize:"small"}),style:{marginRight:8},checked:t}),null==n?void 0:n.groupName]}))},style:{width:"100%",margin:"25px 0"},renderInput:function(e){return(0,o.jsx)(A.default,(0,i._)((0,a._)({},e),{label:"Groups"}))}}),(0,o.jsx)(g.default,{mt:2,display:"flex",justifyContent:"end",children:(0,o.jsx)(_.default,{onClick:function(){var e;ek((0,i._)((0,a._)({},e_),{educationYearId:null==er?void 0:er.id,groupsIds:(null==e_?void 0:null===(e=e_.groupsIds)||void 0===e?void 0:e.map(function(e){return e.id}))||[]}))},variant:"contained",disabled:em,endIcon:(0,o.jsx)(E.IoSend,{}),children:" save"})})]})})]})}}}]);