/*! For license information please see 5303.78974d31.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5303"],{83854:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("17727");var a=n("85893"),i=n("67294"),o=n("71893"),r=n("94193"),d=n("78885"),s=n("16393"),c=n("27233");function u(){let e=(0,l._)(["\n    width: 100%;\n    padding: 1rem;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return u=function(){return e},e}let f=o.default.div(u());t.default=()=>{let e=r.STUDENT_UPLOAD_EXAMPLE,[t,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)([]),u=()=>{n(!0),c.default.get(s.BASE_URL+"/getHistoryUploadFile").then(e=>{o([])}).catch(e=>{}).finally(()=>{n(!1)})};return(0,i.useEffect)(()=>{u()},[]),(0,a.jsx)(f,{children:(0,a.jsx)(d.default,{getHistoryUploadFile:u,saveFileUrl:"/student/uploadStudent",urlBase:e})})}},78885:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("17727"),n("82801"),n("82472"),n("48675"),n("33105"),n("63408"),n("14590"),n("3462"),n("33824"),n("1439"),n("87585"),n("55315"),n("23252"),n("6461"),n("32372"),n("8922"),n("5835"),n("8970"),n("84444"),n("60285"),n("41637"),n("46229"),n("17330"),n("62062");var a=n("85893"),i=n("67294"),o=n("55693"),r=n("94718"),d=n("8193"),s=n("15729"),c=n("27233"),u=n("71893"),f=n("72132"),p=n("7701"),h=n("7104"),x=n("16393");function g(){let e=(0,l._)(["\n    position: relative;\n    width: 95%;\n    height: 30px;\n    //background-color: #ccc;\n    border-radius: 7px;\n    overflow: hidden;\n\n    .progress-bar {\n        background-color: ",";\n        color: #fff;\n        text-align: center;\n        line-height: 30px;\n        width: 0;\n        position: absolute;\n        transition: width 0.1s;\n    }\n"]);return g=function(){return e},e}let m=u.default.div(g(),x.mainColor);t.default=e=>{let{saveFileUrl:t,urlBase:n,getHistoryUploadFile:l}=e,[u,g]=(0,i.useState)(!1),[y,j]=(0,i.useState)(0);return(0,a.jsxs)(o.default,{display:"flex",justifyContent:"end",children:[(0,a.jsxs)(h.Stack,{direction:"row",spacing:2,children:[(0,a.jsxs)(r.default,{startIcon:(0,a.jsx)(d.AiOutlineCloudUpload,{}),variant:"contained",component:"label",onChange:e=>{g(!0);let n=e.target.files[0],a=x.BASE_URL+t,i=localStorage.getItem(x.TOKEN),o=new FormData;o.append("file",n),c.default.post(a,o,{headers:{"Content-Type":"multipart/form-data",Authorization:x.TokenType+i,"Access-Control-Allow-Origin":"*"},onUploadProgress:e=>{let t=Math.round(100*e.loaded/e.total);t<100&&j(t)}}).then(e=>{setTimeout(()=>{f.toast.success("Uploaded file successfully"),l(),j(100)},1e3)}).catch(e=>{f.toast.error("Upload failed")}).finally(()=>g(!1)),e.target.value=null},children:["import student file",(0,a.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",type:"file",hidden:!0})]}),(0,a.jsx)(r.default,{variant:"contained",onClick:()=>{let e=atob(n),t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);let l=new Blob([t],{type:"application/xlsx"}),a=document.createElement("a");a.href=URL.createObjectURL(l),a.download="file.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:"example file"})]}),(0,a.jsx)(s.default,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:u,children:(0,a.jsx)(m,{children:(0,a.jsx)(o.default,{display:"flex",justifyContent:"center",children:(0,a.jsx)(p.default,{color:"inherit"})})})})]})}}}]);