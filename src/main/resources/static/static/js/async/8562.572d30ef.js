/*! For license information please see 8562.572d30ef.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["8562"],{6226:function(e,t,a){"use strict";a.r(t);var l=a("58865");a("33948"),a("15581"),a("34514"),a("2490"),a("57658"),a("17727");var n=a("85893"),u=a("67294"),r=a("16393"),i=a("30381"),d=a.n(i),o=a("27233"),s=a("44118"),c=a("52861"),f=a("54520"),h=a("71893"),v=a("57024"),g=a("50533");function k(){let e=(0,l._)(["\n  width: 300px;\n  ","\n"]);return k=function(){return e},e}function p(){let e=(0,l._)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 25px;\n  margin-bottom: 1rem;\n  ","\n"]);return p=function(){return e},e}function x(){let e=(0,l._)(["\n  width: 100%;\n  padding: 1rem;\n"]);return x=function(){return e},e}a("21793");let b=h.default.div(k(),(0,v.extrasmall)({width:"80%"})),w=h.default.div(p(),(0,v.extrasmall)({justifyContent:"center"})),m=h.default.div(x());t.default=()=>{let e=(0,g.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.section)||void 0===t?void 0:t.section}),[t,a]=(0,u.useState)([]),[l,i]=(0,u.useState)(null),{headers:h}=(0,r.getHeaders)(),[v,k]=(0,u.useState)([]),[p,x]=(0,u.useState)(!1),[S,y]=(0,u.useState)(null),[j,T]=(0,u.useState)(d()(r.serverTimeStorage));(0,u.useEffect)(()=>{(null==e?void 0:e.id)&&o.default.get(r.BASE_URL+"/kafedra/getTeachersForSelectByKafedraId?kafedraId="+(null==e?void 0:e.id),{headers:h}).then(e=>{var t;a(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{})},[]),(0,u.useEffect)(()=>{x(!0),l&&o.default.get(r.BASE_URL+"/timeTableByWeekOfYear/getTeacherTimeTable?t="+l+"&week="+(null==j?void 0:j.isoWeek())+"&year="+(null==j?void 0:j.year()),{headers:h}).then(e=>{var t;let a=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj,l=[],n={};for(let e in null==a||a.forEach(e=>{e.shows.forEach(t=>{let a=t.daysName;!n[a]&&(n[a]={teacherData:e.teacherData,shows:[]}),n[a].shows.push(t)})}),n)l.push(n[e]);k(l)}).catch(e=>{k([])}).finally(()=>{x(!1)}),l&&_(l)},[l,j]);let _=e=>{o.default.get(r.BASE_URL+"/user/getTeacherStatisticsForTimeTableByWeek?teacherId="+e+"&week="+(null==j?void 0:j.isoWeek())+"&year="+j.year(),{headers:h}).then(e=>{var t;y(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{y(null)})};return(0,n.jsxs)(m,{children:[(0,n.jsxs)(w,{children:[(0,n.jsx)(b,{children:(0,n.jsx)(s.default,{disablePortal:!0,id:"combo-box-demo",options:t,onChange:(e,t)=>{i(null==t?void 0:t.value)},sx:{width:300,background:"#fff"},renderInput:e=>(0,n.jsx)(c.default,{...e,label:"Teacher"})})}),(0,n.jsx)(c.default,{label:"Date of the week",type:"week",sx:{width:"200px",background:"#fff"},value:d()(j).format("YYYY-[W]WW"),onChange:e=>T(d()(e.target.value))})]}),l&&(0,n.jsx)(f.default,{isLoading:p,dateInput:j,data:v,statistics:S})]})}}}]);