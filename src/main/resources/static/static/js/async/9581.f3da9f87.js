/*! For license information please see 9581.f3da9f87.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["9581"],{17171:function(e,l,d){"use strict";var n=d("5751");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var a=n(d("64938")),i=d("85893"),o=(0,a.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");l.default=o},39628:function(e,l,d){"use strict";var n=d("5751");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var a=n(d("64938")),i=d("85893"),o=(0,a.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");l.default=o},4585:function(e,l,d){"use strict";d.r(l);var n=d("58865");d("33948"),d("57640"),d("9924"),d("25387"),d("72608"),d("2490"),d("31672"),d("59461"),d("57658"),d("15581"),d("34514");var a=d("85893"),i=d("67294"),o=d.n(i),t=d("71893"),u=d("55693"),r=d("94718"),s=d("89589"),c=d("97367"),p=d("5434"),v=d("80471"),f=d("74113"),g=d("39628"),x=d("17171"),h=d("7104"),m=d("15352"),j=d("52861"),b=d("50533"),y=d("60155"),I=d("57024"),C=d("39711"),k=d("42154"),w=d("32392"),T=d("61261"),S=d("44025"),D=d("23219"),L=d("47516"),_=d("16393"),P=d("89583"),z=d("27233"),B=d("72132"),O=d("63750");function A(){let e=(0,n._)(["\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n        color: ",";\n        font-size: 30px;\n        font-weight: bold;\n        ","\n    }\n"]);return A=function(){return e},e}function M(){let e=(0,n._)(["\n    ","\n"]);return M=function(){return e},e}function R(){let e=(0,n._)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 20px;\n    padding: 10px;\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return R=function(){return e},e}function Y(){let e=(0,n._)(["\n    border: 1px solid #f1eded;\n    padding: 10px;\n    border-radius: 5px;\n    background-color: #FFFF;\n    box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n\n"]);return Y=function(){return e},e}function E(){let e=(0,n._)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    cursor: pointer;\n"]);return E=function(){return e},e}function U(){let e=(0,n._)(["\n    display: flex;\n    justify-content: end;\n"]);return U=function(){return e},e}function G(){let e=(0,n._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return G=function(){return e},e}let F=t.default.h1(A(),_.mainColor,(0,I.extrasmall)({textAlign:"center",fontSize:"20px"})),H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:3},N=t.default.div(M(),(0,I.extrasmall)({width:"95% !important"})),V=t.default.div(R(),(0,I.xlarge)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,I.large)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,I.medium)({gridTemplateColumns:"1fr 1fr "}),(0,I.small)({gridTemplateColumns:"1fr 1fr "}),(0,I.extrasmall)({gridTemplateColumns:"1fr "})),q=t.default.div(Y()),J=t.default.p(E(),e=>e.cl||"black",e=>e.fs,e=>e.fw||"normal"),K=t.default.div(U()),Q=t.default.div(G());l.default=()=>{var e,l,d,n,t,I,A,M,R,Y,E,U,G,W,X,Z,$,ee,el,ed,en;let ea;let{fan:ei}=(0,C.useParams)(),eo=(0,a.jsx)(g.default,{fontSize:"small"}),et=(0,a.jsx)(x.default,{fontSize:"small"}),{forLessonsData:eu}=(0,b.useSelector)(e=>e.lessonsTeacherSlice),[er,es]=(0,i.useState)(!1),[ec,ep]=(0,i.useState)([]),[ev,ef]=(0,i.useState)(!0),[eg,ex]=(0,i.useState)([]),[eh,em]=(0,i.useState)({educationYearId:null==eu?void 0:null===(e=eu.educationYear)||void 0===e?void 0:e.id,eduType:null==eu?void 0:null===(l=eu.groupData)||void 0===l?void 0:l.eduType,eduLang:null==eu?void 0:null===(d=eu.groupData)||void 0===d?void 0:d.eduLang,subjectId:null==eu?void 0:null===(n=eu.groupData)||void 0===n?void 0:n.lessonId,level:null==eu?void 0:null===(t=eu.groupData)||void 0===t?void 0:t.level,groupsIds:(null==ec?void 0:ec.map(e=>null==e?void 0:e.groupId))||[]}),[ej,eb]=(0,i.useState)({id:null,educationYearId:null==eu?void 0:null===(I=eu.educationYear)||void 0===I?void 0:I.id,eduType:null==eu?void 0:null===(A=eu.groupData)||void 0===A?void 0:A.eduType,eduLang:null==eu?void 0:null===(M=eu.groupData)||void 0===M?void 0:M.eduLang,subjectId:null==eu?void 0:null===(R=eu.groupData)||void 0===R?void 0:R.lessonId,level:null==eu?void 0:null===(Y=eu.groupData)||void 0===Y?void 0:Y.level,groupsIds:(null==ec?void 0:ec.map(e=>null==e?void 0:e.groupId))||[]}),[ey,eI]=(0,i.useState)(!0),eC=(0,C.useNavigate)(),{headers:ek}=(0,_.getHeaders)(),ew=[{title:"Update",icon:(0,a.jsx)(p.MdUpdate,{color:"#0087be"})},{title:"Delete",icon:(0,a.jsx)(p.MdDelete,{color:"red"})}],eT=null==eu?void 0:null===(E=eu.allGroup)||void 0===E?void 0:E.reduce((e,l)=>(!e.find(e=>e.groupId===l.groupId)&&e.push(l),e),[]),[eS,eD]=o().useState(null),eL=!!eS,e_=(e,l)=>{eD(e.currentTarget);let d=null==eg?void 0:eg.find(e=>e.id===l);eb(e=>{var n;return{...e,id:l,eduLang:null==d?void 0:d.eduLang,eduType:null==d?void 0:d.eduType,groupsIds:null==d?void 0:null===(n=d.groups)||void 0===n?void 0:n.map(e=>e.groupId)}})},eP=e=>{eD(null),"Update"===e&&es(!0)},ez=()=>{es(!1),eb(e=>({...e,id:null}))};(0,i.useEffect)(()=>{(null==ec?void 0:ec.length)>0&&ef(!1)},[ec]);let eB=async()=>{z.default.post("".concat(_.BASE_URL,"/plan/createdPlan"),eh,{headers:ek}).then(e=>{B.toast.success("created plan of subject successfully"),es(!1),ep([]),eA()}).catch(e=>{})},eO=async()=>{z.default.put("".concat(_.BASE_URL,"/plan/updatedPlan"),ej,{headers:ek}).then(e=>{B.toast.success("created plan of subject successfully"),es(!1),eb(e=>({...e,id:null})),ep([]),eA()}).catch(e=>{})},eA=async()=>{var e,l,d;await z.default.get("".concat(_.BASE_URL,"/plan/getExistPlans?educationYearId=").concat(null==eu?void 0:null===(e=eu.educationYear)||void 0===e?void 0:e.id,"&level=").concat(null==eu?void 0:null===(l=eu.groupData)||void 0===l?void 0:l.level,"&subjectId=").concat(null==eu?void 0:null===(d=eu.groupData)||void 0===d?void 0:d.lessonId),{headers:ek}).then(e=>{ex(e.data.obj)}).catch(e=>{})};(0,i.useEffect)(()=>{eA()},[]);return(0,a.jsxs)(Q,{children:[(0,a.jsxs)(F,{children:[(0,a.jsx)("p",{children:ei}),(0,a.jsx)(r.default,{onClick:()=>eC(-1),variant:"outlined",startIcon:(0,a.jsx)(L.BiArrowBack,{}),children:"Back"})]}),(0,a.jsx)(u.default,{sx:{padding:"10px"},children:(0,a.jsx)(r.default,{variant:"contained",endIcon:(0,a.jsx)(p.MdOutlineCreateNewFolder,{}),onClick:()=>es(!0),children:"create group plan"})}),(0,a.jsx)(V,{children:null==eg?void 0:eg.map((e,l)=>(0,a.jsx)(q,{children:(0,a.jsxs)(u.default,{display:"flex",alignItems:"flex-start",children:[(0,a.jsxs)(u.default,{width:"100%",children:[(0,a.jsxs)(J,{onClick:()=>eC("".concat(e.id)),fs:"25px",fw:"bold",cl:_.mainColor,children:[(0,a.jsx)(P.FaLayerGroup,{})," Groups "]}),(0,a.jsx)(u.default,{onClick:()=>eC("".concat(e.id)),sx:{cursor:"pointer",marginTop:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"5px"},children:null==e?void 0:e.groups.slice(0,ey?5:void 0).map((e,l)=>(0,a.jsxs)("p",{style:{color:"black",margin:0,textAlign:"center"},children:[(0,a.jsx)("b",{children:l+1+"."})," ",e.groupName]},e.groupId))}),(0,a.jsx)(u.default,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,a.jsx)(r.default,{onClick:()=>eI(!ey),children:ey?"show more":"hidden"})})]}),(0,a.jsx)(f.default,{"aria-label":"actions",id:"long-button","aria-controls":eL?"long-menu":void 0,"aria-expanded":eL?"true":void 0,"aria-haspopup":"true",onClick:l=>e_(l,null==e?void 0:e.id),size:"small",children:(0,a.jsx)(O.BsThreeDotsVertical,{})})]})},l))}),(0,a.jsx)(c.default,{open:er,onClose:()=>ez(),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(u.default,{sx:H,component:N,children:[(0,a.jsx)(K,{children:(0,a.jsx)(f.default,{onClick:()=>ez(),"aria-label":"close",size:"medium",children:(0,a.jsx)(v.CgClose,{})})}),(0,a.jsxs)(s.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:[(null==ej?void 0:ej.id)===null?"Create ":"Update "," group plan"]}),(0,a.jsxs)(k.default,{sx:{width:"100%",margin:"25px 0"},children:[(0,a.jsx)(w.default,{id:"demo-simple-select-readonly-label",children:"Academic year"}),(0,a.jsx)(S.default,{labelId:"demo-simple-select-readonly-label",id:"demo-simple-select-readonly",value:null==eu?void 0:null===(U=eu.educationYear)||void 0===U?void 0:U.name,label:"Academic year",inputProps:{readOnly:!0},children:(0,a.jsx)(T.default,{value:null==eu?void 0:null===(G=eu.educationYear)||void 0===G?void 0:G.name,children:null==eu?void 0:null===(W=eu.educationYear)||void 0===W?void 0:W.name})}),(0,a.jsx)(D.default,{children:"Read only"})]}),(0,a.jsxs)(u.default,{sx:{display:"flex",gap:"20px"},children:[(0,a.jsxs)(k.default,{sx:{width:"100%"},children:[(0,a.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"Language"}),(0,a.jsx)(S.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null==eu?void 0:null===(X=eu.groupData)||void 0===X?void 0:X.eduLang,label:"Language",inputProps:{readOnly:!0},children:(0,a.jsx)(T.default,{value:null==eu?void 0:null===(Z=eu.groupData)||void 0===Z?void 0:Z.eduLang,children:null==eu?void 0:null===($=eu.groupData)||void 0===$?void 0:$.eduLang})}),(0,a.jsx)(D.default,{children:"Read only"})]}),(0,a.jsxs)(k.default,{sx:{width:"100%"},children:[(0,a.jsx)(w.default,{id:"demo-simple-select-readonly-label1",children:"Type of education"}),(0,a.jsx)(S.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null==eu?void 0:null===(ee=eu.groupData)||void 0===ee?void 0:ee.eduType,label:"Type of education",inputProps:{readOnly:!0},children:(0,a.jsx)(T.default,{value:null==eu?void 0:null===(el=eu.groupData)||void 0===el?void 0:el.eduType,children:null==eu?void 0:null===(ed=eu.groupData)||void 0===ed?void 0:ed.eduType})}),(0,a.jsx)(D.default,{children:"Read only"})]})]}),(0,a.jsx)(h.Autocomplete,{multiple:!0,id:"checkboxes-tags-demo",options:eT,disableCloseOnSelect:!0,getOptionLabel:e=>null==e?void 0:e.groupName,value:(null==ej?void 0:ej.id)===null?ec:(ea=[],null==ej||null===(en=ej.groupsIds)||void 0===en||en.forEach(e=>{var l,d;(null==eu?void 0:null===(l=eu.allGroup)||void 0===l?void 0:l.find(l=>l.groupId===e))&&ea.push(null==eu?void 0:null===(d=eu.allGroup)||void 0===d?void 0:d.find(l=>l.groupId===e))}),ea.reduce((e,l)=>(!e.find(e=>e.groupId===l.groupId)&&e.push(l),e),[])),onChange:(e,l)=>{(null==ej?void 0:ej.id)===null?em(e=>({...e,groupsIds:null==l?void 0:l.map(e=>null==e?void 0:e.groupId)})):eb(e=>({...e,groupsIds:null==l?void 0:l.map(e=>null==e?void 0:e.groupId)})),ep(l)},renderOption:(e,l,d)=>{let{selected:n}=d;return(0,a.jsxs)("li",{...e,children:[(0,a.jsx)(m.default,{icon:eo,checkedIcon:et,style:{marginRight:8},checked:n}),null==l?void 0:l.groupName]})},style:{width:"100%",margin:"25px 0"},renderInput:e=>(0,a.jsx)(j.default,{required:!0,...e,label:"Groups",placeholder:"Group",helperText:"Required"})}),(0,a.jsx)(K,{children:(0,a.jsxs)(r.default,{onClick:(null==ej?void 0:ej.id)===null?eB:eO,variant:"contained",endIcon:(0,a.jsx)(y.IoSend,{}),disabled:ev,children:[" ",(null==ej?void 0:ej.id)===null?"Save":"Update"]})})]})}),(0,a.jsx)(h.Menu,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:eS,open:eL,onClose:eP,PaperProps:{style:{maxHeight:180,width:"20ch"}},children:ew.map((e,l)=>(0,a.jsx)(T.default,{onClick:()=>eP(e.title),children:(0,a.jsxs)(u.default,{display:"flex",gap:"5px",alignItems:"center",children:[e.icon," ",e.title]})},l))})]})}}}]);