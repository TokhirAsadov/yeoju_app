/*! For license information please see 9497.18dbbb8a.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["9497"],{3918:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return Y}});var t=l("76150"),i=l("38956"),d=l("58865"),a=l("18965");l("92222"),l("69826"),l("31672"),l("59461"),l("2490"),l("41539"),l("2707"),l("21249"),l("57640"),l("9924");var u=l("85893"),r=l("67294"),o=l("71893"),c=l("55693"),s=l("42154"),f=l("32392"),v=l("44025"),h=l("61261"),x=l("71632"),m=l("50533"),p=l("68567"),j=l("85478"),g=l("27233"),b=l("28685"),_=l("7104"),w=l("1323"),S=l("94718"),k=l("39711"),C=l("47516");function y(){var n=(0,d._)(["\n  margin-top: 15px;\n  padding: 15px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  ","\n"]);return y=function(){return n},n}function N(){var n=(0,d._)(["\n  padding: 1rem;\n"]);return N=function(){return n},n}var E=o.default.div(y(),(0,x.extrasmall)({justifyContent:"center"})),F=o.default.div(N()),Y=function(){var n,e,l,d=function(n,e){var l=n.fullName.toUpperCase(),t=e.fullName.toUpperCase();return l<t?-1:l>t?1:0},o=(0,b.getHeaders)().headers,x=(0,m.useSelector)(function(n){var e;return null==n?void 0:null===(e=n.educationYear)||void 0===e?void 0:e.educationYear})||null,y=(0,i._)((0,r.useState)([]),2),N=y[0],Y=y[1],B=(0,i._)((0,r.useState)(""),2),G=B[0],A=B[1],I=(0,m.useSelector)(function(n){var e;return null==n?void 0:null===(e=n.dekanat)||void 0===e?void 0:e.dekanat})||null,U=(0,m.useDispatch)(),L=(0,i._)((0,r.useState)(""),2),R=L[0],W=L[1],D=(0,i._)((0,r.useState)([]),2),q=D[0],z=D[1],H=(0,i._)((0,r.useState)([]),2),J=H[0],M=H[1],O=(0,k.useNavigate)();var T=(n=(0,t._)(function(){return(0,a._)(this,function(n){switch(n.label){case 0:return[4,g.default.get(b.BASE_URL+"/education/educationYearsForSelected",{headers:o}).then(function(n){var e,l,t;Y(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj),U((0,j.fetchEducationYear)(null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(l=t.obj)||void 0===l?void 0:l[0]))}).catch(function(n){console.log(n)})];case 1:return n.sent(),[2]}})}),function(){return n.apply(this,arguments)});var K=(e=(0,t._)(function(){var n;return(0,a._)(this,function(e){switch(e.label){case 0:return[4,g.default.get("".concat(b.BASE_URL,"/gradeOfStudentByTeacher/getAllMiddleGrade/").concat(null==x?void 0:x.id,"?groupId=").concat(null==q?void 0:null===(n=q.find(function(n){return(null==n?void 0:n.name)===R}))||void 0===n?void 0:n.id),{headers:o}).then(function(n){var e;console.log(null==n?void 0:n.data,"come on data"),M(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj.sort(d))}).catch(function(n){console.log(n),M([])})];case 1:return e.sent(),[2]}})}),function(){return e.apply(this,arguments)});return(0,r.useEffect)(function(){var n,e;G&&g.default.get(b.BASE_URL+"/dekan/getGroupsNamesForDekanByFacultyId/".concat(null==I?void 0:null===(e=I.faculties)||void 0===e?void 0:null===(n=e.find(function(n){return n.shortName===G}))||void 0===n?void 0:n.id),{headers:o}).then(function(n){var e;z(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.sort(function(n,e){return(null==n?void 0:n.name)>(null==e?void 0:e.name)?1:(null==n?void 0:n.name)<(null==e?void 0:e.name)?-1:0}))}).catch(function(n){console.log(n)})},[G]),(0,r.useEffect)(function(){R&&U((0,p.educationYearStatisticsFetching)()),R&&K()},[R]),(0,r.useEffect)(function(){T()},[]),(0,u.jsxs)(F,{children:[(0,u.jsx)(c.default,{mb:2,display:"flex",justifyContent:"end",children:(0,u.jsx)(S.default,{onClick:function(){return O(-1)},variant:"outlined",startIcon:(0,u.jsx)(C.BiArrowBack,{}),children:"Back"})}),(0,u.jsxs)(E,{children:[(0,u.jsx)(c.default,{sx:{width:200},children:(0,u.jsxs)(s.default,{fullWidth:!0,children:[(0,u.jsx)(f.default,{id:"semestr",children:"Semestr"}),(0,u.jsx)(v.default,{labelId:"semestr",id:"demo-simple-select",value:null==x?void 0:x.name,label:"Semistr",onChange:function(n){n.target.value!==(null==x?void 0:x.name)&&U((0,p.educationYearStatisticsFetching)()),U((0,j.fetchEducationYear)(null==N?void 0:N.find(function(e){return(null==e?void 0:e.name)===n.target.value})))},children:N.map(function(n,e){return(0,u.jsx)(h.default,{value:null==n?void 0:n.name,children:null==n?void 0:n.name},null==n?void 0:n.id)})})]})}),(0,u.jsx)(c.default,{sx:{width:200},children:(0,u.jsxs)(s.default,{fullWidth:!0,children:[(0,u.jsx)(f.default,{id:"demo-simple-select-label",children:"Yo'nalish"}),(0,u.jsx)(v.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:G,label:"Yo'nalish",onChange:function(n){A(n.target.value)},children:null==I?void 0:null===(l=I.faculties)||void 0===l?void 0:l.map(function(n,e){return(0,u.jsx)(h.default,{value:null==n?void 0:n.shortName,children:null==n?void 0:n.shortName},null==n?void 0:n.id)})})]})}),(0,u.jsx)(c.default,{sx:{width:200},children:(0,u.jsxs)(s.default,{fullWidth:!0,children:[(0,u.jsx)(f.default,{id:"demo-simple-select-label1",children:"Group"}),(0,u.jsx)(v.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:R,label:"Group",onChange:function(n){W(n.target.value)},children:null==q?void 0:q.map(function(n,e){return(0,u.jsx)(h.default,{value:null==n?void 0:n.name,children:null==n?void 0:n.name},null==n?void 0:n.id)})})]})})]}),(0,u.jsx)(_.Card,{children:(0,u.jsx)(_.CardContent,{children:(0,u.jsx)(w.default,{data:J})})})]})}},1323:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return x}});var t=l("58865");l("21249"),l("57640"),l("9924"),l("91038"),l("78783");var i=l("85893"),d=l("67294"),a=l.n(d),u=l("71893"),r=l("28685"),o=l("94718"),c=l("90199"),s=l("37595"),f=l("55693");function v(){var n=(0,t._)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow-x: scroll;\n\n  table {\n    min-width: 1500px;\n    border-collapse: collapse;\n    width: 100%;\n    text-align: center;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 14px;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #f2f2f2;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n  }\n  \n"]);return v=function(){return n},n}var h=u.default.div(v(),r.mainColor),x=function(n){var e,l,t,d=n.data;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.default,{display:"flex",justifyContent:"end",mb:3,children:(0,i.jsx)(o.default,{variant:"contained",onClick:function(){var n=s.utils.table_to_sheet(document.querySelector("table")),e=s.utils.book_new();s.utils.book_append_sheet(e,n,"Sheet1"),s.writeFile(e,"table_data.xlsx")},children:"Export to Excel"})}),(0,i.jsx)(h,{children:d.length>0?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,i.jsx)("th",{rowSpan:2,children:"Full name"}),null===(l=d[0])||void 0===l?void 0:null===(e=l.subjects)||void 0===e?void 0:e.map(function(n,e){return(0,i.jsx)("th",{colSpan:2,children:null==n?void 0:n.subjectName},e)})]}),(0,i.jsx)("tr",{children:Array.from({length:(null===(t=d[0])||void 0===t?void 0:t.subjects.length)*2}).map(function(n,e){return(0,i.jsx)("th",{children:e%2==0?"JN":"YN"},e)})}),d.map(function(n,e){var l;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e+1}),(0,i.jsxs)("td",{children:[n.fullName," "]}),null==n?void 0:null===(l=n.subjects)||void 0===l?void 0:l.map(function(n,e){return(0,i.jsxs)(a().Fragment,{children:[(0,i.jsx)("td",{children:(null==n?void 0:n.middleGrade)!==null?null==n?void 0:n.middleGrade:"-"}),(0,i.jsx)("td",{children:(null==n?void 0:n.endGrade)!==null?null==n?void 0:n.endGrade:"-"})]},e)})]},e)})]})}):(0,i.jsx)(c.default,{w:200,h:180})})]})}}}]);