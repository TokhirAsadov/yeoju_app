/*! For license information please see 5872.2e23293c.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5872"],{275002:function(e,n,t){"use strict";t.r(n);var l=t("258865");t("333948"),t("117727"),t("857640"),t("409924");var r=t("785893"),d=t("667294"),i=t("807104"),o=t("489589"),a=t("455693"),s=t("316393"),c=t("671893"),u=t("730381"),h=t.n(u),x=t("478951"),f=t("857024"),j=t("727233"),m=t("50533"),p=t("797367"),b=t("60155"),v=t("194718"),g=t("572132"),C=t("405434");function y(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return y=function(){return e},e}function w(){let e=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return w=function(){return e},e}function S(){let e=(0,l._)(["\n    ","\n"]);return S=function(){return e},e}function k(){let e=(0,l._)(["\n    display: flex;\n    justify-content: end;\n    ","\n"]);return k=function(){return e},e}function Y(){let e=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n            text-align: center;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }"]);return Y=function(){return e},e}let D=c.default.div(y()),A=c.default.button(w(),s.mainColor),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},M=c.default.div(S(),(0,f.extrasmall)({width:"95% !important"})),z=c.default.div(k(),(0,f.extrasmall)({justifyContent:"center"})),I=c.default.div(Y(),s.mainColor);n.default=()=>{var e;let n=(0,m.useSelector)(e=>{var n;return null==e?void 0:null===(n=e.student)||void 0===n?void 0:n.student}),t=(null===(e=n.groupData)||void 0===e?void 0:e.educationTypeName)==="SIRTQI",[l,c]=(0,d.useState)([]),[u,f]=(0,d.useState)([]),[y,w]=(0,d.useState)(!1),[S,k]=(0,d.useState)(!1),{headers:Y}=(0,s.getHeaders)(),E=()=>{w(!0),j.default.get(s.BASE_URL+"/queue/getAllStudentQueues/".concat(n.id),{headers:Y}).then(e=>{f(e.data.obj[0])}).catch(e=>{}).finally(()=>{w(!1)})},H=()=>{j.default.get(s.BASE_URL+"/queue/findAllQueuesOfTodayForDean",{headers:Y}).then(e=>{c(e.data.obj.sort((e,n)=>e.number>n.number?1:e.number<n.number?-1:0))}).catch(e=>{})},Q=()=>{j.default.post(s.BASE_URL+"/queue/createQueue",{},{headers:Y}).then(e=>{E(),H(),k(!1),g.toast.success("Successfully created")}).catch(e=>{g.toast.error("Error creating")})};(0,d.useEffect)(()=>{E(),H()},[]);let R=()=>{k(!1)};return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{children:h()(s.serverTimeStorage).format("DD.MM.YYYY")===h()(null==u?void 0:u.createdAt).format("DD.MM.YYYY")&&(null==u?void 0:u.number)&&(0,r.jsx)(i.Card,{sx:{width:"320px",mt:3},children:(0,r.jsx)(i.CardContent,{sx:{pb:"16px !important"},children:(0,r.jsxs)(a.default,{sx:{color:s.mainColor},children:[(0,r.jsxs)(o.default,{fontWeight:"bold",fontSize:20,children:["Queue : ",null==u?void 0:u.number]}),(0,r.jsxs)(o.default,{fontWeight:"bold",fontSize:20,children:["Status : ",null==u?void 0:u.status]}),(0,r.jsxs)(o.default,{fontWeight:"bold",fontSize:20,children:["Create date :",h()(null==u?void 0:u.createdAt).format("DD.MM.YYYY HH:mm")]})]})})})}),(0,r.jsx)(i.Card,{sx:{mt:3},children:(0,r.jsxs)(i.CardContent,{children:[(0,r.jsx)(i.Stack,{mt:1,direction:"row",justifyContent:"end",children:(0,r.jsx)(v.default,{onClick:()=>k(!0),variant:"contained",color:"success",endIcon:(0,r.jsx)(C.MdLibraryAdd,{}),children:"Apply"})}),(0,r.jsx)(I,{children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{width:"100px"},children:"\u2116"}),(0,r.jsx)("th",{children:"Full name"}),(0,r.jsx)("th",{style:{width:"250px"},children:" Date of creation"}),(0,r.jsx)("th",{style:{width:"250px"},children:" Status"})]})}),(0,r.jsx)("tbody",{children:null==l?void 0:l.map(e=>{var t,l;return(0,r.jsxs)("tr",{style:{background:n.fullName===(null==e?void 0:null===(t=e.studentData)||void 0===t?void 0:t.fullName)&&"#e7e7e7"},children:[(0,r.jsx)("td",{children:null==e?void 0:e.number}),(0,r.jsx)("td",{children:null==e?void 0:null===(l=e.studentData)||void 0===l?void 0:l.fullName}),(0,r.jsx)("td",{children:h()(null==e?void 0:e.createdAt).format("DD.MM.YYYY HH:mm")}),(0,r.jsx)("td",{children:null==e?void 0:e.status})]},null==e?void 0:e.id)})})]})}),(null==l?void 0:l.length)===0&&(0,r.jsx)(a.default,{children:(0,r.jsx)(x.default,{w:200,h:180})})]})}),(0,r.jsx)(p.default,{open:S,onClose:R,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.default,{sx:_,component:M,children:[(0,r.jsxs)(D,{children:[(0,r.jsx)("h5",{}),(0,r.jsxs)(A,{onClick:R,children:[" ",(0,r.jsx)(b.IoClose,{size:22})]})]}),(0,r.jsxs)(a.default,{children:[(0,r.jsx)(i.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(o.default,{variant:"h6",color:"black",children:"Do you want to meet with the dean?"})}),(0,r.jsxs)(i.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,r.jsx)(v.default,{variant:"outlined",onClick:R,children:"Cancel"}),(0,r.jsx)(v.default,{variant:"contained",onClick:()=>Q(),children:"Ok"})]})]})]})})]}):(0,r.jsx)(i.Card,{sx:{mt:3},children:(0,r.jsx)(i.CardContent,{children:(0,r.jsx)(o.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})}}}]);