/*! For license information please see 2213.67d41168.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2213"],{4746:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return W}});var i=e("38956"),o=e("58865");e("57658"),e("85827"),e("25387"),e("72608"),e("2490"),e("41539");var r=e("85893"),l=e("67294"),a=e("71893"),d=e("50533"),u=e("2585"),s=e("28685"),c=e("52290"),f=e("27233"),p=e("90650"),x=e("97367"),h=e("55693"),m=e("79352"),v=e("76323"),g=e("71632");function b(){var n=(0,o._)(["\n  ","\n  ","\n  ","\n"]);return b=function(){return n},n}function w(){var n=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return w=function(){return n},n}function y(){var n=(0,o._)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-right: 10px;\n  font-size: 60px;\n  font-weight: 200;\n"]);return y=function(){return n},n}function j(){var n=(0,o._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 30px;\n  font-weight: 500;\n"]);return j=function(){return n},n}function _(){var n=(0,o._)(["\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 40px;\n  background: #f7f7f7;\n  border-radius: 50%;\n"]);return _=function(){return n},n}function C(){var n=(0,o._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-size: 40px;\n"]);return C=function(){return n},n}function S(){var n=(0,o._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 50px;\n  flex-direction: column;\n  padding: 5px 20px!important;\n  margin-top: 10px!important;\n"]);return S=function(){return n},n}function k(){var n=(0,o._)(["\n  width: 450px;\n  border-radius: 0.75rem;\n  background-color: #fff;\n  min-height: 250px;\n  color: ",";\n  cursor: pointer;\n\n  &:hover{\n    -webkit-box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    -moz-box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n  }\n"]);return k=function(){return n},n}function I(){var n=(0,o._)(["\n  width: 450px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0.75rem;\n  background-color: #fff;\n  min-height: 250px;\n  \n  &:hover{\n    -webkit-box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    -moz-box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n  }\n"]);return I=function(){return n},n}function z(){var n=(0,o._)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  overflow: scroll;\n  flex-wrap: wrap;\n  gap: 20px;\n"]);return z=function(){return n},n}function D(){var n=(0,o._)(["\n  display: block;\n  color: ",";\n"]);return D=function(){return n},n}function N(){var n=(0,o._)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: 300px auto;\n  gap: 20px;\n  margin-bottom: 20px!important;\n"]);return N=function(){return n},n}function Y(){var n=(0,o._)(["\n  font-size: 24px;\n  color: ",";\n"]);return Y=function(){return n},n}function E(){var n=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  border-radius: 10px;\n  margin-top: 10px!important;\n  padding: 5px 10px!important;\n"]);return E=function(){return n},n}var H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70vw",height:"95vh",bgcolor:"#f7f7f7",boxShadow:24,borderRadius:3,p:4},R=a.default.div(b(),(0,g.medium)({width:"85vw !important",padding:"20px !important"}),(0,g.small)({width:"90vw !important",padding:"20px !important"}),(0,g.extrasmall)({width:"92vw !important",height:"90vh !important",padding:"15px !important"})),B=(0,a.default)(p.motion.button)(w(),s.mainColor),M=a.default.div(y()),T=a.default.span(j()),A=a.default.span(_()),K=a.default.span(C()),L=a.default.div(S()),P=a.default.div(k(),s.mainColor),F=a.default.div(I()),G=a.default.div(z()),O=a.default.span(D(),s.mainColor),U=a.default.div(N()),q=a.default.div(Y(),s.mainColor),V=a.default.div(E()),W=function(n){var t=n.s,e=(0,d.useSelector)(function(n){var e,i;return t?null==n?void 0:null===(e=n.secondBulim)||void 0===e?void 0:e.secondBulim:null==n?void 0:null===(i=n.bulim)||void 0===i?void 0:i.bulim}),o=(0,i._)((0,l.useState)([20,8]),2),a=o[0],p=o[1],g=(0,i._)((0,l.useState)(!0),2),b=g[0],w=g[1],y=(0,i._)((0,l.useState)(!1),2),j=y[0],_=y[1],C=(0,s.getHeaders)().headers;(0,l.useEffect)(function(){f.default.get(s.BASE_URL+"/section/getStaffComeCountTodayStatistics?s="+t,{headers:C}).then(function(n){var t,e=null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.obj,i=[];(null==e?void 0:e.comeCount)!==null?i.push(null==e?void 0:e.comeCount):i.push(0),(null==e?void 0:e.comeCount)!==null?i.push((null==e?void 0:e.allCount)-(null==e?void 0:e.comeCount)):i.push(null==e?void 0:e.allCount),p(function(){return i}),w(!1)}).catch(function(n){console.log(n)}),console.log(a)},[]);var S=function(){_(!1)};return(0,r.jsx)(V,{children:(0,r.jsxs)(q,{children:[(0,r.jsx)(U,{children:(0,r.jsx)(O,{children:null==e?void 0:e.name})}),(0,r.jsxs)(G,{children:[(0,r.jsx)(P,{onClick:function(){e&&_(!0)},children:(0,r.jsxs)(L,{children:[(0,r.jsx)(K,{children:(0,r.jsx)(A,{children:(0,r.jsx)(u.GiTeacher,{})})}),(0,r.jsxs)(T,{children:["Staffs",(0,r.jsx)(M,{children:e&&(null==a?void 0:a.reduce(function(n,t){return n+t}))?null==a?void 0:a.reduce(function(n,t){return n+t}):0})]})]})}),(0,r.jsx)(x.default,{open:j,onClose:S,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,r.jsxs)(h.default,{sx:H,component:R,children:[(0,r.jsx)(B,{onClick:S,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,r.jsx)(m.RiCloseLine,{})}),(0,r.jsx)("h2",{style:{textAlign:"center",color:s.mainColor},children:"Staff"}),(0,r.jsx)(v.default,{s:t})]})}),(0,r.jsx)(F,{children:(null==a?void 0:a.reduce(function(n,t){return n+t}))?(0,r.jsx)(c.default,{s:t,series:a,isSpinner:b}):"Not exists teachers"})]})]})})}},52290:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return b}});var i=e("7409"),o=e("99282"),r=e("38956"),l=e("58865");e("92222"),e("21249"),e("57640"),e("9924");var a=e("85893"),d=e("67294"),u=e("71893"),s=e("47229"),c=e("50533"),f=e("27233"),p=e("90650"),x=e("28685"),h=e("45184"),m=e("5198");function v(){var n=(0,l._)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return v=function(){return n},n}var g=u.default.div(v()),b=function(n){var t=n.series,e=n.isSpinner,l=n.s,u=(0,r._)((0,d.useState)(!1),2),v=u[0],b=u[1],w=(0,r._)((0,d.useState)(""),2),y=w[0],j=w[1],_=(0,r._)((0,d.useState)(!1),2),C=_[0],S=_[1],k=(0,r._)((0,d.useState)(""),2),I=k[0],z=k[1],D=(0,r._)((0,d.useState)(!1),2),N=D[0],Y=D[1],E=(0,c.useSelector)(function(n){var t,e;return l?null==n?void 0:null===(t=n.secondBulim)||void 0===t?void 0:t.secondBulim:null==n?void 0:null===(e=n.bulim)||void 0===e?void 0:e.bulim}),H=(0,r._)((0,d.useState)({chart:{type:"donut",width:380,events:{dataPointSelection:function(n,t,e){1===e.dataPointIndex?S(!1):S(!0),1===e.dataPointIndex?z("Kelmaganlar"):z("Kelganlar"),Y(!1),A(e.dataPointIndex,null==E?void 0:E.id),b(!0)}}},labels:["Kelganlar","Kelmaganlar"],title:{text:"Statistics Of Today",style:{fontSize:"12px",fontWeight:"bold",fontFamily:void 0,color:"".concat(x.mainColor)}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}],colors:[function(n){return n.value,n.seriesIndex,n.w,"".concat(x.mainColor)},function(n){var t=n.value,e=(n.seriesIndex,n.w);return t<e.config.series[0]/5?(j("#fff700"),"#fff700"):t>e.config.series[0]/5&&t<e.config.series[0]/2?(j("#f88017"),"#f88017"):(j("#f00"),"#f00")}],plotOptions:{pie:{expandOnClick:!1,size:400,height:"5%",donut:{size:"55%",labels:{show:!0,total:{show:!0,showAlways:!0,fontSize:"18px",color:"".concat(x.mainColor)}}}}}}),2),R=H[0];H[1];var B=(0,r._)((0,d.useState)([]),2),M=B[0],T=B[1];(0,d.useEffect)(function(){console.log(l," <- s")},[l]);var A=function(n){f.default.get(x.BASE_URL+"/section/getStatisticsForSectionDashboard?index="+n+"&sectionId="+(null==E?void 0:E.id)).then(function(n){var t,e;T(null==n?void 0:null===(e=n.data)||void 0===e?void 0:null===(t=e.obj)||void 0===t?void 0:t.map(function(n,t){return(0,o._)((0,i._)({},n),{id:t})})),Y(!0)}).catch(function(n){console.log(n)})};return(0,a.jsx)(p.AnimateSharedLayout,{children:v?(0,a.jsx)(m.default,{setExpanded:function(){return b(!1)},isDefault:C,openColor:y,title:I,openTable:N,data:M}):(0,a.jsx)(p.motion.div,{layoutId:"kafedraId",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:(0,a.jsx)(g,{children:e?(0,a.jsx)(h.default,{}):(0,a.jsx)(s.default,{options:R,series:t,type:"donut",width:"350"})})})})}},5198:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return v}});var i=e("7409"),o=e("99282"),r=e("58865");e("92222");var l=e("85893"),a=e("90650"),d=e("16356");e("67294");var u=e("30381"),s=e.n(u),c=e("71893"),f=e("45184"),p=e("28685"),x=e("51649");function h(){var n=(0,r._)(["\n  width: 100%;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 1.75rem 0 !important;\n  border-radius: 1rem;\n"]);return h=function(){return n},n}function m(){var n=(0,r._)(["\n  width: 100%;\n  display: flex;\n  gap: 10px;\n  margin: 5px !important;\n"]);return m=function(){return n},n}function v(n){var t=n.data,e=n.setExpanded,r=n.openColor,u=n.isDefault,c=n.title,h=n.openTable,m=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"fullName",headerName:"Name",type:"string",width:300,editable:!1,renderCell:function(n){var t,e,i;return(0,l.jsxs)(b,{children:[(0,l.jsx)("img",{src:(null==n?void 0:null===(t=n.row)||void 0===t?void 0:t.photo)?p.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(i=n.row)||void 0===i?void 0:null===(e=i.photo)||void 0===e?void 0:e.id):"",width:"50px",height:"50px",alt:null==n?void 0:n.value,style:{borderRadius:"50%"}}),(0,l.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:null==n?void 0:n.value})]})}},{field:"login",headerName:"Login",type:"string",width:300,editable:!1},{field:"email",headerName:"Email",type:"string",width:300,editable:!1},{field:"rfid",headerName:"RFID",type:"string",width:300,editable:!1},{field:"passport",headerName:"Passport",type:"string",width:300,editable:!1},{field:"time",headerName:"Kelgan vaqti \n".concat(s()(new Date).format("DD.MM.YYYY")),type:"string",width:180,editable:!1,renderCell:function(n){var t,e,i;return console.log(n),console.log(s()(null==n?void 0:null===(t=n.row)||void 0===t?void 0:t.time).format("DD.MM.YYYY HH:mm:ss")," ---- time bugun "),(0,l.jsx)(b,{children:(null==n?void 0:null===(e=n.row)||void 0===e?void 0:e.time)===null?"-":s()(null==n?void 0:null===(i=n.row)||void 0===i?void 0:i.time).format("DD.MM.YYYY HH:mm:ss")})}},{field:"positions",headerName:"Shtat birligi va lavozimi",type:"string",width:300,editable:!1}];return(0,l.jsxs)(a.motion.div,{className:"KafedraExpandedCard",style:{background:"".concat(u?"#0096DB":r),zIndex:"100",minHeight:"300px",position:"absolute",display:"flex"},transition:{duration:"0.2"},layoutId:"kafedraId",children:[(0,l.jsx)("div",{onClick:e,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",alignSelf:"flex-end",cursor:"pointer",color:"white",backgroundColor:"rgba(255,255,255,0.5)"},children:(0,l.jsx)(x.IoMdClose,{})}),(0,l.jsxs)("span",{children:[c," - ",null==t?void 0:t.length]}),(0,l.jsx)(g,{children:h?(0,l.jsx)(d.DataGrid,{density:"comfortable",style:{width:"100%",minHeight:"600px!important",borderRadius:"1rem",zIndex:"1000",backgroundColor:"#fff"},columns:m,rows:t,components:{Toolbar:d.GridToolbar},autoHeight:!0,pageSize:5,initialState:(0,o._)((0,i._)({},t.initialState),{columns:{columnVisibilityModel:{id:!1,login:!1,card:!1,rfid:!1,email:!1,passport:!1}}})}):(0,l.jsx)(f.default,{})})]})}var g=c.default.div(h()),b=c.default.div(m())}}]);