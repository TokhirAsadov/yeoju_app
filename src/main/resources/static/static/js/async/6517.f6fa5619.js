/*! For license information please see 6517.f6fa5619.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6517"],{26972:function(e,t,a){"use strict";a.r(t);var l=a("58865");a("33948"),a("88449"),a("19894"),a("2490"),a("31672"),a("59461"),a("57640"),a("9924");var n=a("85893"),i=a("67294"),r=a("97367"),d=a("55693"),o=a("60155"),s=a("44118"),u=a("7104"),c=a("94718"),f=a("71893"),m=a("57024"),h=a("16393"),x=a("44025"),p=a("42154"),j=a("32392"),v=a("61261"),g=a("15352"),b=a("27233"),C=a("73871"),D=a("96413"),y=a("1190"),S=a("50533"),k=a("72132");function N(){let e=(0,l._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  h4 {\n    color: black;\n  }\n\n  h5 {\n    color: red;\n  }\n\n"]);return N=function(){return e},e}function w(){let e=(0,l._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  border-radius: 50%;\n  border: none;\n  background-color: ",";\n  color: white;\n  font-size: 12px;\n"]);return w=function(){return e},e}function F(){let e=(0,l._)(["\n  ","\n"]);return F=function(){return e},e}let I=f.default.div(N()),Y=f.default.button(w(),h.mainColor),A=f.default.div(F(),(0,m.extrasmall)({width:"97% !important"})),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"};t.default=(0,i.memo)(e=>{let{modalCreate:t,handleCloseModalCreate:a,getNoticeFOrDean:l,putData:f}=e,m=["SIRTQI"],N=(0,S.useSelector)(e=>e.dekanat.dekanat.id),[w,F]=(0,i.useState)(""),[O,W]=(0,i.useState)(m[0]),[T,_]=(0,i.useState)([]),[L,M]=(0,i.useState)([]),[R,P]=(0,i.useState)([]),[B,U]=(0,i.useState)([]),[z,G]=(0,i.useState)([]),[H,q]=(0,i.useState)({fromDate:"",toDate:""}),[V,Q]=(0,i.useState)(""),{headers:J}=(0,h.getHeaders)(),K=()=>{F(""),M([]),U([]),Q(""),q({fromDate:"",toDate:""})},X=()=>{a(),K()},Z=()=>{if(f){if(f.course&&F(f.course),f.facultyNames&&M(T.filter(e=>f.facultyNames.includes(e.name))),f.educationYear&&z){var e;Q((null===(e=z.find(e=>e.name===f.educationYear))||void 0===e?void 0:e.id)||"")}f.fromDate&&f.toDate&&q({fromDate:f.fromDate,toDate:f.toDate})}},$=e=>{F(e),M([]),U([])},ee=async()=>{await b.default.get(h.BASE_URL+"/education/educationYearsForSelected",{headers:J}).then(e=>{G(e.data.obj)}).catch(e=>{})},et=()=>{b.default.get(h.BASE_URL+"/faculty/allFacultiesWithShortName").then(e=>{var t;_(null===(t=e.data.obj)||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.name)<(null==t?void 0:t.name)?-1:(null==e?void 0:e.name)>(null==t?void 0:t.name)?1:0))}).catch(e=>{_([])})},ea=(e,t,a)=>{""!==e&&""!==t&&0!==a.length&&b.default.get(h.BASE_URL+"/group/getGroupsByFacultiesIds?course=".concat(e,"&educationType=").concat(t,"&facultiesIds=").concat(a.map(e=>e.id))).then(e=>{var t;P(null===(t=e.data.obj)||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.name)<(null==t?void 0:t.name)?-1:(null==e?void 0:e.name)>(null==t?void 0:t.name)?1:0)),(null==f?void 0:f.groupNames)&&U(e.data.obj.filter(e=>f.groupNames.includes(e.name)))}).catch(e=>{P([])})};return(0,i.useEffect)(()=>{et(),ee()},[]),(0,i.useEffect)(()=>{ea(w,O,L)},[w,O,L]),(0,i.useEffect)(()=>{Z()},[f]),(0,n.jsx)(r.default,{open:t,onClose:X,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,n.jsxs)(d.default,{sx:E,component:A,children:[(0,n.jsxs)(I,{children:[(0,n.jsx)("h4",{children:" Notice"}),(0,n.jsxs)(Y,{onClick:X,children:[" ",(0,n.jsx)(o.IoClose,{size:22})]})]}),(0,n.jsxs)(d.default,{children:[(0,n.jsxs)(d.default,{sx:{overflowY:"scroll",marginY:3,height:"70vh",display:"flex",flexDirection:"column",gap:3},children:[(0,n.jsxs)(p.default,{fullWidth:!0,sx:{mt:1},children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Years of education"}),(0,n.jsx)(x.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:V,label:"Years of education",onChange:e=>Q(e.target.value),children:z.map(e=>(0,n.jsx)(v.default,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},null==e?void 0:e.id))})]}),(0,n.jsxs)(d.default,{display:"flex",gap:3,children:[(0,n.jsxs)(p.default,{fullWidth:!0,children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Course"}),(0,n.jsx)(x.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Course",onChange:e=>$(e.target.value),children:[1,2,3,4].map(e=>(0,n.jsx)(v.default,{value:e,children:e},e))})]}),(0,n.jsxs)(p.default,{fullWidth:!0,children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Edu type"}),(0,n.jsx)(x.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"Edu type",disabled:!0,onChange:e=>W(e.target.value),children:m.map(e=>(0,n.jsx)(v.default,{value:e,children:e},e))})]})]}),(0,n.jsxs)(d.default,{display:"flex",gap:3,children:[(0,n.jsx)(C.LocalizationProvider,{dateAdapter:D.AdapterMoment,children:(0,n.jsx)(y.DatePicker,{label:"Start date",value:H.fromDate,onChange:e=>q(t=>({...t,fromDate:e})),renderInput:e=>(0,n.jsx)(u.TextField,{...e}),shouldDisableDate:e=>e<=new Date})}),(0,n.jsx)(C.LocalizationProvider,{dateAdapter:D.AdapterMoment,children:(0,n.jsx)(y.DatePicker,{label:"End date",value:H.toDate,onChange:e=>q(t=>({...t,toDate:e})),renderInput:e=>(0,n.jsx)(u.TextField,{...e}),shouldDisableDate:e=>e<=new Date})})]}),(0,n.jsx)(s.default,{multiple:!0,limitTags:3,id:"faculties-autocomplete",options:T||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.name)||"",renderOption:(e,t,a)=>{let{selected:l}=a;return(0,n.jsxs)("li",{...e,children:[(0,n.jsx)(g.default,{style:{marginRight:8},checked:l}),null==t?void 0:t.name]})},value:L,onChange:(e,t)=>M(t),renderInput:e=>(0,n.jsx)(u.TextField,{...e,label:"Faculties",placeholder:"Select Faculties"})}),(0,n.jsx)(s.default,{multiple:!0,limitTags:3,id:"faculties-autocomplete654",options:R||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.name)||"",renderOption:(e,t,a)=>{let{selected:l}=a;return(0,n.jsxs)("li",{...e,children:[(0,n.jsx)(g.default,{style:{marginRight:8},checked:l}),null==t?void 0:t.name]})},value:B,onChange:(e,t)=>U(t),renderInput:e=>(0,n.jsx)(u.TextField,{...e,label:"Groups",placeholder:"Select Faculties"})})]}),(0,n.jsxs)(u.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,n.jsx)(c.default,{variant:"outlined",onClick:X,children:"Cancel"}),(0,n.jsx)(c.default,{variant:"contained",onClick:()=>{if(!w||!O||!L.length||!B.length||!H.fromDate||!H.toDate){k.toast.error("Validation failed. Please fill in all the required fields.");return}let e={dekanatId:N,course:w,educationId:V,facultiesId:L.map(e=>e.id),groupsId:B.map(e=>e.id),fromDate:H.fromDate.valueOf(),toDate:H.toDate.valueOf()};if(f){let t={...e,id:f.id};b.default.put(h.BASE_URL+"/notificationOuter/update",t,{headers:J}).then(e=>{k.toast.success("Update success"),X(),l()}).catch(e=>{k.toast.error(" Update error")})}else b.default.post(h.BASE_URL+"/notificationOuter/save",e,{headers:J}).then(e=>{k.toast.success("Success"),X(),l()}).catch(e=>{k.toast.error("Error")})},children:f?"update":"save"})]})]})]})})})},98493:function(e,t,a){"use strict";a.r(t);var l=a("85893");a("67294");var n=a("7104"),i=a("16356"),r=a("30381"),d=a.n(r),o=a("74113"),s=a("63750");t.default=e=>{let{data:t,isLoading:a,setPutData:r,setModalCreate:u}=e,c=e=>{r(e),u(!0)};return(0,l.jsx)(n.Card,{sx:{mt:2},children:(0,l.jsx)(n.CardContent,{children:(0,l.jsx)(i.DataGrid,{columns:[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:.4,field:"educationYear",headerName:"Year",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"dekanat",headerName:"Dean",sortable:!0,align:"center",justifyContent:"center"},{minWidth:80,flex:.3,field:"course",headerName:"Course",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"fromDate",headerName:"From date",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)("p",{children:d()(e.row.fromDate).format("DD.MM.YYYY")})},{minWidth:100,flex:.5,field:"toDate",headerName:"To date",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)("p",{children:d()(e.row.toDate).format("DD.MM.YYYY")})},{minWidth:100,flex:.5,field:"facultyNames",headerName:"Faculty names",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"groupNames",headerName:"Group names",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)(o.default,{onClick:()=>c(e.row),children:(0,l.jsx)(s.BsPencilSquare,{size:20,color:"green"})})}],rows:t||[],loading:a,components:{Toolbar:i.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})})}},45276:function(e,t,a){"use strict";a.r(t);var l=a("58865");a("33948"),a("57640"),a("9924"),a("17727");var n=a("85893"),i=a("67294"),r=a("71893"),d=a("94718"),o=a("26972"),s=a("55693"),u=a("98493"),c=a("27233"),f=a("16393"),m=a("50533"),h=a("7104"),x=a("89589"),p=a("89583"),j=a("39711"),v=a("5434");function g(){let e=(0,l._)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return g=function(){return e},e}let b=r.default.div(g());t.default=()=>{let e="Sirtqi ta'lim"===(0,m.useSelector)(e=>{var t;return null===(t=e.dekanat.dekanat)||void 0===t?void 0:t.name}),[t,a]=(0,i.useState)([]),[l,r]=(0,i.useState)(!1),[g,C]=(0,i.useState)(!1),[D,y]=(0,i.useState)(null),S=(0,j.useNavigate)(),k=()=>{r(!0),c.default.get(f.BASE_URL+"/notificationOuter/getAllOuterNotifications ").then(e=>{var t,l;a(null===(l=e.data.obj)||void 0===l?void 0:null===(t=l.sort((e,t)=>e.fromDate<t.fromDate?1:e.fromDate>t.fromDate?-1:0))||void 0===t?void 0:t.map((e,t)=>({...e,count:t+1})))}).catch(e=>{}).finally(()=>{r(!1)})};return(0,i.useEffect)(()=>{k()},[]),(0,n.jsxs)(b,{children:[e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.default,{mt:3,display:"flex",justifyContent:"end",gap:5,children:[(0,n.jsx)(d.default,{variant:"contained",endIcon:(0,n.jsx)(v.MdCreateNewFolder,{}),onClick:()=>C(!0),children:"create"}),(0,n.jsx)(d.default,{variant:"contained",color:"inherit",endIcon:(0,n.jsx)(p.FaFileAlt,{}),onClick:()=>S("history"),children:"History"})]}),(0,n.jsx)(u.default,{data:t,isLoading:l,setPutData:y,setModalCreate:C})]}):(0,n.jsx)(h.Card,{sx:{mt:3},children:(0,n.jsx)(h.CardContent,{children:(0,n.jsx)(x.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})}),(0,n.jsx)(o.default,{modalCreate:g,getNoticeFOrDean:k,handleCloseModalCreate:()=>{C(!1),y(null)},putData:D})]})}}}]);