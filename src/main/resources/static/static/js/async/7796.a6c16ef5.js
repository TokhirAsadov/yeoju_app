/*! For license information please see 7796.a6c16ef5.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["7796"],{59815:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return P}});var i=t("38956"),r=t("58865");t("69826"),t("31672"),t("59461"),t("2490"),t("41539"),t("17727"),t("88674"),t("21249"),t("57640"),t("9924"),t("91038"),t("78783");var o=t("85893"),a=t("67294"),l=t("71893"),d=t("28685"),u=t("27233"),s=t("2585"),c=t("97367"),f=t("55693"),p=t("79352"),h=t("45184"),v=t("90650"),x=t("50533"),m=t("36331"),g=t("20367"),j=t("94037"),y=t("39711"),k=t("96245"),b=t("71632"),T=t("7104"),w=t("12421");function C(){var n=(0,r._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return C=function(){return n},n}function _(){var n=(0,r._)(["\n    align-self: flex-end;\n    color: ",";\n    display: flex;\n\n"]);return _=function(){return n},n}function S(){var n=(0,r._)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    //margin-right: 10px;\n    font-size: 30px;\n    font-weight: 200;\n"]);return S=function(){return n},n}function R(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    font-weight: 500;\n"]);return R=function(){return n},n}function E(){var n=(0,r._)(["\n\n    margin-top: -35px;\n    width: 55px;\n    height: 55px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 30px;\n    background: #deedf4;\n    border-radius: 15%;\n"]);return E=function(){return n},n}function N(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    font-size: 24px;\n"]);return N=function(){return n},n}function K(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 5px 15px !important;\n    margin-top: 10px !important;\n"]);return K=function(){return n},n}function z(){var n=(0,r._)(["\n    height: 150px;\n    width: 100%;\n    display: flex;\n    background-color: #fff;\n    border-radius: 10px;\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    }\n"]);return z=function(){return n},n}function L(){var n=(0,r._)(["\n    margin: 30px 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 40px;\n    padding: 10px 0 !important;\n\n    ","\n    ","\n    ","\n    ","\n    ","\n\n\n"]);return L=function(){return n},n}var A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",minHeight:600,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},O=(0,l.default)(v.motion.button)(C(),d.mainColor),B=l.default.div(_(),function(n){return n.color?"lime":"red"}),D=l.default.div(S()),F=l.default.span(R()),H=l.default.span(E()),I=l.default.span(N()),U=l.default.div(K()),M=(0,l.default)(v.motion.div)(z(),d.mainColor),G=l.default.div(L(),(0,b.xlarge)({gridTemplateColumns:"repeat(3,1fr)"}),(0,b.large)({gridTemplateColumns:"repeat(3,1fr)"}),(0,b.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,b.small)({gridTemplateColumns:"repeat(2,1fr)"}),(0,b.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"})),P=function(){var n,e,t,r,l,b=(0,y.useNavigate)();(0,a.useEffect)(function(){var n,e,t=localStorage.getItem(d.TOKEN),i=(0,k.default)(t),r=null==i?void 0:null===(n=i.roles.find(function(n){return"ROLE_REKTOR"===n.roleName}))||void 0===n?void 0:n.roleName,o=null==i?void 0:null===(e=i.roles.find(function(n){return"Kengash raisi"===n.roleName}))||void 0===e?void 0:e.roleName;"ROLE_REKTOR"!==r&&"Kengash raisi"!==o&&b("/login")},[]);var C=(0,d.getHeaders)().headers,_=(0,i._)((0,a.useState)([]),2),S=_[0],R=_[1],E=(0,i._)((0,a.useState)(!1),2),N=E[0],K=E[1],z=(0,i._)((0,a.useState)(!0),2),L=(z[0],z[1]),P=(0,i._)((0,a.useState)(!1),2),q=P[0],J=P[1],Q=(0,i._)((0,a.useState)(!1),2),V=Q[0],W=Q[1],X=(0,x.useSelector)(function(n){return null==n?void 0:n.rektorTeachers});(0,a.useEffect)(function(){K(!0),u.default.get(d.BASE_URL+"/user/rektorTeacher",{headers:C}).then(function(n){R(null==n?void 0:n.data)}).catch(function(n){console.log(n)}).finally(function(){K(!1)})},[]);var Y=function(){J(!1),L(!0)},Z=(0,x.useDispatch)(),$=function(n,e){W(e),J(!0),Z((0,g.rektorTeachersFetching)("loading")),u.default.get(d.BASE_URL+"/user/getKafedraTeachersDataForRektorByKafedraId?id="+n,{headers:C}).then(function(n){var e;Z((0,m.fetchRektorTeachers)(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj))}).catch(function(n){console.log(n)})},nn={visible:function(n){return{scale:1,transition:{delay:.1*n}}},hidden:{scale:0}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(G,{children:[N?Array.from({length:5}).map(function(n,e){return(0,o.jsx)(T.Skeleton,{sx:{transform:"scale(1,1)"},height:180},e)}):null==S?void 0:S.map(function(n,e){var t,i,r,a;return(0,o.jsx)(M,{onClick:function(){return $(n.id,n.name)},custom:e,animate:"visible",variants:nn,initial:"hidden",children:(0,o.jsxs)(U,{children:[(0,o.jsxs)(I,{children:[(0,o.jsx)(H,{children:(0,o.jsx)(s.GiTeacher,{})}),(0,o.jsx)(B,{color:(null==n?void 0:n.data)!==null&&(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.comeCount)!==null,children:(null==n?void 0:n.data)===null?0:(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.comeCount)===null?0:null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.comeCount})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)(F,{children:[(0,o.jsx)("span",{style:{fontSize:"14px"},children:null==n?void 0:n.name}),(0,o.jsx)(D,{children:(null==n?void 0:n.data)===null?0:null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.allCount})]})]})},n.id)}),(0,o.jsx)(v.AnimatePresence,{children:q&&(0,o.jsx)(c.default,{open:q,onClose:Y,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:v.motion.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,o.jsxs)(f.default,{sx:A,children:[(0,o.jsx)(O,{onClick:Y,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,o.jsx)(p.RiCloseLine,{})}),(0,o.jsx)("h2",{style:{textAlign:"center",color:d.mainColor,marginBottom:"10px"},children:V}),(null==X?void 0:X.rektorTeachersLoadingStatus)==="loading"?(0,o.jsx)(h.default,{}):(0,o.jsx)(j.default,{colName:"Teachers",isTeacherUrl:!0,kafedraMudiri:null==X?void 0:null===(n=X.rektorTeachers)||void 0===n?void 0:n.kafedraMudiri,all:null==X?void 0:null===(e=X.rektorTeachers)||void 0===e?void 0:e.allTeachers,come:null==X?void 0:null===(t=X.rektorTeachers)||void 0===t?void 0:t.comeTeachers,noCome:null==X?void 0:null===(r=X.rektorTeachers)||void 0===r?void 0:r.noComeTeachers,facultyName:V,kafedraId:null==X?void 0:null===(l=X.rektorTeachers)||void 0===l?void 0:l.id})]})})})]}),!N&&(0,o.jsx)(f.default,{display:"flex",justifyContent:"end",sx:{width:"100%",my:3},children:(0,o.jsx)(w.default,{direction:"Data_teachers",dataToExcel:S})})]})}}}]);