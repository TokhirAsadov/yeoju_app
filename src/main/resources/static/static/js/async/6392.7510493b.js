/*! For license information please see 6392.7510493b.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6392"],{21076:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return nx}});var r=e("7409"),o=e("99282"),i=e("38956"),u=e("58865");e("21249"),e("57640"),e("9924");var a=e("85893"),l=e("67294"),c=e("71893"),s=e("28685"),f=e("27233"),d=e("89583"),p=e("72132"),x=e("71632"),h=e("55693"),g=e("94718"),m=e("47516"),v=e("39711");function _(){var n=(0,u._)(["\n","\n"]);return _=function(){return n},n}function b(){var n=(0,u._)(["\n  width: 100%;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-bottom-right-radius: 10px;\n  border-top-right-radius: 10px;\n  color: #ffffff;\n  border: none;\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"]);return b=function(){return n},n}function j(){var n=(0,u._)(["\n  position: absolute;\n  top: 45px;\n  z-index: 5;\n","\n"]);return j=function(){return n},n}function E(){var n=(0,u._)(["\n  width: 125px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  color: ",";\n  margin-left: 5px !important;\n  border: none;\n\n  &::placeholder {\n    font-size: 14px;\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return E=function(){return n},n}function y(){var n=(0,u._)(["\n  font-size: 12px;\n  color: lightgray;\n"]);return y=function(){return n},n}function S(){var n=(0,u._)(["\n  font-size: 14px;\n"]);return S=function(){return n},n}function C(){var n=(0,u._)(["\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  padding: 5px 10px !important;\n  border-bottom: 1px solid lightgray;\n  cursor: pointer;\n\n  &::before {\n\n  }\n"]);return C=function(){return n},n}function w(){var n=(0,u._)(["\n  max-height: 300px;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 45px;\n  left: 20px;\n  margin-top: 3px !important;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n  overflow: hidden;\n  overflow-y: scroll;\n  opacity: ",";\n"]);return w=function(){return n},n}function A(){var n=(0,u._)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]);return A=function(){return n},n}function k(){var n=(0,u._)(["\n  width: 150px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 10px;\n  background-color: #fff;\n"]);return k=function(){return n},n}function N(){var n=(0,u._)(["\n  width: 150px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  border: none;\n  cursor: pointer;\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n"]);return N=function(){return n},n}function T(){var n=(0,u._)(["\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return T=function(){return n},n}function D(){var n=(0,u._)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  ","\n\n"]);return D=function(){return n},n}function R(){var n=(0,u._)(["\n  margin-left: 20px;\n  margin-top: 20px;\n  display: flex;\n  justify-content: end;\n"]);return R=function(){return n},n}function O(){var n=(0,u._)(["\n  margin-right: 25px;\n  padding: 4px 35px !important;\n  background-color: ",";\n  color: #fff;\n  border: none;\n  border-radius: 10px;\n  font-size: 20px;\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"]);return O=function(){return n},n}function U(){var n=(0,u._)(["\n  color: ",";\n  margin-left: 10px !important;\n  cursor: pointer;\n"]);return U=function(){return n},n}function z(){var n=(0,u._)(["\n  height: 22px;\n  width: 22px;\n  vertical-align: middle;\n  cursor: pointer;\n"]);return z=function(){return n},n}function L(){var n=(0,u._)(["\n  position: relative;\n"]);return L=function(){return n},n}function I(){var n=(0,u._)(["\n  width: 150px;\n  padding: 4px 15px !important;\n  background-color: #fff;\n  border-radius: 10px;\n  font-size: 20px;\n  vertical-align: middle;\n"]);return I=function(){return n},n}function G(){var n=(0,u._)(["\n  margin-left: 20px;\n  margin-top: 20px;\n  padding-left: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  ","\n\n"]);return G=function(){return n},n}function K(){var n=(0,u._)(["\n  width: 100%;\n  min-height: 200px;\n  padding: 5px 10px !important;\n  border: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return K=function(){return n},n}function B(){var n=(0,u._)(["\n  border-radius: 5px;\n  padding: 0 5px !important;\n  color: ",";\n  font-size: 20px;\n"]);return B=function(){return n},n}function F(){var n=(0,u._)(["\n  width: 95%;\n  height: 50%;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #E6E8EB;\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  margin: 20px auto;\n  overflow: hidden;\n  box-shadow: 0 3px 20px rgb(0 0 0 / 4%);\n"]);return F=function(){return n},n}function P(){var n=(0,u._)(["\n  width: 100%;\n"]);return P=function(){return n},n}function M(){var n=(0,u._)(["\n  height: 100%;\n  min-height: 500px;\n  border-radius: 10px;\n  margin-top: 10px !important;\n  padding: 5px 10px !important;\n"]);return M=function(){return n},n}var H=c.default.div(_(),(0,x.extrasmall)({margin:"0  0 0 auto !important"})),W=c.default.span(b(),s.mainColor),Y=c.default.div(j(),(0,x.extrasmall)({top:0,left:"160px"})),q=c.default.input(E(),s.mainColor,s.color_2),J=c.default.span(y()),Q=c.default.span(S()),V=c.default.div(C()),X=c.default.div(w(),function(n){return n.opacity}),Z=c.default.div(A()),$=c.default.div(k()),nn=c.default.select(N(),s.mainColor);c.default.div(T());var nt=c.default.section(D(),(0,x.extrasmall)({flexDirection:"column"})),ne=c.default.div(R()),nr=c.default.button(O(),s.mainColor),no=c.default.label(U(),s.mainColor),ni=c.default.input.attrs({type:"radio"})(z()),nu=c.default.div(L()),na=c.default.div(I()),nl=c.default.div(G(),(0,x.extrasmall)({flexDirection:"column",paddingLeft:"0",marginTop:"20px",marginLeft:"0"})),nc=c.default.textarea(K()),ns=c.default.span(B(),s.mainColor),nf=c.default.div(F()),nd=c.default.form(P()),np=c.default.div(M()),nx=function(){var n=(0,i._)((0,l.useState)("ALL"),2),t=n[0],e=n[1],u=(0,i._)((0,l.useState)(1),2),c=u[0],x=u[1],_=(0,i._)((0,l.useState)(""),2),b=_[0],j=_[1],E=(0,i._)((0,l.useState)([]),2),y=E[0],S=E[1],C=(0,i._)((0,l.useState)(""),2),w=C[0],A=C[1],k=(0,i._)((0,l.useState)(""),2),N=k[0],T=k[1],D=(0,i._)((0,l.useState)([]),2),R=D[0],O=D[1],U=(0,i._)((0,l.useState)(""),2),z=U[0],L=U[1],I=(0,i._)((0,l.useState)(""),2),G=I[0],K=I[1],B=(0,i._)((0,l.useState)({course:c,messageBody:z,groupName:b,smsType:t,status:"SENDING",userId:G}),2),F=B[0],P=B[1],M=(0,v.useNavigate)();(0,l.useEffect)(function(){if(w.length<3)O([]);else{var n=localStorage.getItem(s.TOKEN),t={Authorization:s.TokenType+n,"Access-Control-Allow-Origin":"*"};f.default.get(s.BASE_URL+s.DEKAN.GET_USER_SEARCHING_FOR_DEKAN+w,{headers:t}).then(function(n){var t;(null===(t=n.data)||void 0===t?void 0:t.length)!==0?O(function(){return n.data}):O([])}).catch(function(n){})}},[w]),(0,l.useEffect)(function(){P(function(n){return(0,o._)((0,r._)({},n),{messageBody:z})})},[z]),(0,l.useEffect)(function(){P(function(n){return(0,o._)((0,r._)({},n),{smsType:t})})},[t]),(0,l.useEffect)(function(){P(function(n){return(0,o._)((0,r._)({},n),{groupName:b})})},[b]),(0,l.useEffect)(function(){P(function(n){return(0,o._)((0,r._)({},n),{course:c})})},[c]),(0,l.useEffect)(function(){P(function(n){return(0,o._)((0,r._)({},n),{userId:G})})},[G]);var nx=function(n){switch(n.preventDefault(),t){case"ALL":x(null),j(null),K(null),""===z?alert("Error, empty message of sms..."):nh();break;case"COURSE":j(""),K(""),null!==c&&""!==z?nh():alert("Error, empty message of sms or course...");break;case"GROUP":""!==b&&""!==z?nh():alert("Error, empty message of sms or name of group...");break;case"STUDENT":""!==G&&""!==z?nh():alert("Error, empty message of sms or do not choose student...")}},nh=function(){var n=localStorage.getItem(s.TOKEN),t={Authorization:s.TokenType+n,"Access-Control-Allow-Origin":"*"};f.default.post(s.BASE_URL+s.DEKAN.SMS_CREATE,F,{headers:t}).then(function(n){200===n.status&&p.toast.success("Sending SMS successfully!")}).catch(function(n){p.toast.warning("Error...")})};return(0,a.jsxs)(np,{children:[(0,a.jsxs)(h.default,{sx:{display:"flex",justifyContent:"space-between",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[(0,a.jsxs)(ns,{children:["Message: ","COURSE"===t?t+" - "+c:"GROUP"===t?t+" "+b:"STUDENT"===t?t+" "+N:t]}),(0,a.jsx)(g.default,{component:H,onClick:function(){return M("smsHistory")},variant:"contained",endIcon:(0,a.jsx)(m.BiMailSend,{size:25}),children:"message history"})]}),(0,a.jsxs)(nd,{onSubmit:function(n){return nx(n)},children:[(0,a.jsx)(nf,{children:(0,a.jsx)(nc,{name:z,value:z,onChange:function(n){return L(n.target.value)}})}),(0,a.jsxs)(nt,{children:[(0,a.jsxs)(nl,{children:[(0,a.jsxs)(na,{children:[(0,a.jsx)(ni,{id:"all",name:"type",checked:"ALL"===t,onChange:function(){return e(function(){return"ALL"})}}),(0,a.jsx)(no,{htmlFor:"all",children:"All"})]}),(0,a.jsxs)(nu,{children:[(0,a.jsxs)(na,{children:[(0,a.jsx)(ni,{id:"course",name:"type",onChange:function(){return e(function(){return"COURSE"})}}),(0,a.jsx)(no,{htmlFor:"course",children:"Course"})]}),(0,a.jsx)(Y,{children:"COURSE"===t&&(0,a.jsxs)(nn,{value:c,onChange:function(n){return x(function(){return n.target.value})},children:[(0,a.jsx)("option",{value:1,children:"Course - 1"}),(0,a.jsx)("option",{value:2,children:"Course - 2"}),(0,a.jsx)("option",{value:3,children:"Course - 3"}),(0,a.jsx)("option",{value:4,children:"Course - 4"})]})})]}),(0,a.jsxs)(nu,{children:[(0,a.jsxs)(na,{children:[(0,a.jsx)(ni,{id:"group",name:"type",onChange:function(){e(function(){return"GROUP"});var n=localStorage.getItem(s.TOKEN),t={Authorization:s.TokenType+n,"Access-Control-Allow-Origin":"*"};f.default.get(s.BASE_URL+s.DEKAN.GET_GROUPS_NAMES_FOR_DEKAN_BY_DEKAN_ID,{headers:t}).then(function(n){j(n.data[0]),S(n.data)}).catch(function(n){})}}),(0,a.jsx)(no,{htmlFor:"group",children:"Group"})]}),(0,a.jsx)(Y,{children:"GROUP"===t&&(0,a.jsx)(nn,{value:b,onChange:function(n){return j(function(){return n.target.value})},children:(null==y?void 0:y.length)>0?y.map(function(n,t){return(0,a.jsx)("option",{value:n,children:n},t)}):""})})]}),(0,a.jsxs)(nu,{children:[(0,a.jsxs)(na,{children:[(0,a.jsx)(ni,{id:"student",name:"type",onChange:function(){return e(function(){return"STUDENT"})}}),(0,a.jsx)(no,{htmlFor:"student",children:"Student"})]}),(0,a.jsx)(Y,{children:"STUDENT"===t&&(0,a.jsxs)(Z,{children:[(0,a.jsxs)($,{children:[(0,a.jsx)(q,{value:w,onChange:function(n){return A(n.target.value)},placeholder:"StudentID or Passport"}),(0,a.jsx)(W,{onClick:function(){if(""!==w&&w.length>2){var n=localStorage.getItem(s.TOKEN),t={Authorization:s.TokenType+n,"Access-Control-Allow-Origin":"*"};f.default.get(s.BASE_URL+s.DEKAN.GET_USER_SEARCHING_FOR_DEKAN+w,{headers:t}).then(function(n){var t;(null===(t=n.data)||void 0===t?void 0:t.length)!==0?O(function(){return n.data}):(T(""),alert("\u26A0\uFE0F Not fount user!...\uD83D\uDE14"))}).catch(function(n){})}else alert("Enter search param")},children:(0,a.jsx)(d.FaSearch,{})})]}),(0,a.jsx)(X,{opacity:R.length>0?1:0,style:{display:"block",position:"absolute",top:"35px"},children:null==R?void 0:R.map(function(n){return(0,a.jsxs)(V,{onClick:function(t){t.preventDefault(),K(n.id),T(n.fullName),A("")},children:[(0,a.jsx)(Q,{children:n.fullName}),(0,a.jsx)(J,{children:n.groupData.name})]},n.id)})})]})})]})]}),(0,a.jsx)(ne,{children:(0,a.jsx)(nr,{onClick:function(){},children:"Send"})})]})]})]})}}}]);