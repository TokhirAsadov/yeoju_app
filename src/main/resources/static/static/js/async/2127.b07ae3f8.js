/*! For license information please see 2127.b07ae3f8.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2127"],{74946:function(n,e,t){"use strict";t.r(e);var l=t("58865");t("57640"),t("9924");var r=t("85893"),i=t("67294"),d=t.n(i),o=t("7104"),a=t("89589"),s=t("94718"),u=t("77352"),c=t("55693"),x=t("70231"),h=t("89583"),f=t("78951"),p=t("71893"),m=t("57024"),v=t("63750");function g(){let n=(0,l._)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap: 20px;\n    "," ","\n    ","\n"]);return g=function(){return n},n}let j=d().forwardRef(function(n,e){return(0,r.jsx)(o.Slide,{direction:"up",ref:e,...n})}),b=p.default.div(g(),(0,m.medium)({gridTemplateColumns:"repeat(3, 1fr)"}),(0,m.small)({gridTemplateColumns:"repeat(2, 1fr)"}),(0,m.extrasmall)({gridTemplateColumns:"repeat(1, 1fr)"}));e.default=(0,i.memo)(n=>{let{open:e,handleClose:t,data:l}=n;return(0,r.jsxs)(o.Dialog,{open:e,maxWidth:"lg",TransitionComponent:j,keepMounted:!0,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[(0,r.jsx)(o.DialogTitle,{id:"alert-dialog-title",children:"Free time"}),(0,r.jsxs)(o.DialogContent,{sx:{backgroundColor:u.green["50"]},children:[(0,r.jsx)(b,{children:(null==l?void 0:l.length)!==0&&(null==l?void 0:l.map((n,e)=>(0,r.jsx)(o.Card,{children:(0,r.jsxs)(o.CardContent,{children:[(0,r.jsxs)(c.default,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"center"},children:[(0,r.jsxs)(a.default,{color:u.green["600"],fontWeight:"bold",children:[" ",(0,r.jsx)(x.FaRegCalendar,{size:18})]}),(0,r.jsx)(a.default,{color:u.green["600"],fontWeight:"bold",fontSize:14,children:n[0].day})]}),(0,r.jsx)(c.default,{sx:{display:"flex",flexDirection:"column",gap:"10px",mt:"8px"},children:null==n?void 0:n.map(n=>(0,r.jsxs)(c.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",border:1,borderColor:"grey.500",borderRadius:1,p:.5},children:[(0,r.jsxs)(c.default,{display:"flex",alignItems:"center",gap:.5,children:[(0,r.jsx)(h.FaRegClock,{size:18}),(0,r.jsx)(a.default,{fontSize:"14px",children:n.schedule})]}),(0,r.jsxs)(c.default,{display:"flex",alignItems:"center",gap:.5,children:[(0,r.jsx)(v.BsFillDoorOpenFill,{size:18}),(0,r.jsx)(a.default,{fontSize:"14px",children:n.room})]})]},n))})]})},e)))}),(null==l?void 0:l.length)===0&&(0,r.jsx)(f.default,{w:200,h:180})]}),(0,r.jsx)(o.DialogActions,{children:(0,r.jsx)(s.default,{variant:"outlined",onClick:t,children:"Close"})})]})})},90432:function(n,e,t){"use strict";t.r(e);var l=t("58865");t("33948"),t("88921"),t("96248"),t("13599"),t("27561"),t("11477"),t("64362"),t("15389"),t("90401"),t("3440"),t("45164"),t("66244"),t("91238"),t("89772"),t("54837"),t("88910"),t("87485"),t("56767"),t("76651"),t("61437"),t("35285"),t("63252"),t("39865"),t("17454"),t("57640"),t("9924"),t("88449"),t("19894"),t("2490");var r=t("85893"),i=t("67294"),d=t("71893"),o=t("16393"),a=t("7104"),s=t("30381"),u=t.n(s),c=t("78951"),x=t("57024"),h=t("94718"),f=t("27233"),p=t("3506"),m=t("89583");function v(){let n=(0,l._)(["\n    margin-top: 40px;\n    ","\n"]);return v=function(){return n},n}function g(){let n=(0,l._)(["\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 7px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 7px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return g=function(){return n},n}function j(){let n=(0,l._)(["\n    position: absolute;\n    font-size: 20px;\n    color: #ffffff;\n    background-color: ",";\n    width: 100%;\n    top: -1px;\n    border-radius: 5px 5px 0 0;\n    padding: 10px;\n    z-index: 9;\n"]);return j=function(){return n},n}function b(){let n=(0,l._)(["\n    width: 100%;\n\n    .Mui-disabled {\n        color: #000000 !important;\n    }\n\n    .btn_att {\n        display: flex;\n        justify-content: end;\n        margin-bottom: 10px;\n    }\n"]);return b=function(){return n},n}let w=d.default.div(v(),(0,x.extrasmall)({marginTop:"80px"})),y=d.default.div(g(),o.mainColor),C=d.default.div(j(),o.mainColor),S=d.default.div(b());e.default=(0,i.memo)(n=>{var e,t;let{gradeDataInfo:l,openGrade:d}=n,[s,x]=(0,i.useState)([]),v=(n,e)=>{let t=parseFloat((100*n/e).toFixed(3));if(t>=0&&t<60)return"#FF0000";if(t>=60&&t<85)return"rgb(215,215,0)";if(t>=85)return"#00bd00"},g=async(n,e,t,l)=>{await f.default.get("".concat(o.BASE_URL,"/themeOfSubjectForGrading/getThemes/").concat(n,"/").concat(t,"?educationYearId=").concat(e,"&t=").concat(l),(0,o.getHeaders)()).then(n=>{x(n.data.obj)}).catch(n=>{x([])})};return(0,i.useEffect)(()=>{d&&g(l.lessonId,l.educationYearId,l.groupId,null==l?void 0:l.teacherId)},[d]),(0,r.jsxs)(S,{children:[(0,r.jsx)(C,{children:null==l?void 0:l.lessonName}),(0,r.jsx)(a.Card,{component:w,children:(0,r.jsxs)(a.CardContent,{children:[(0,r.jsx)("div",{className:"btn_att",children:(0,r.jsxs)(h.default,{size:"small",variant:"contained",disabled:!0,children:["attendance score : ",parseFloat((null==l?void 0:null===(e=l.allGradesForAttendance)||void 0===e?void 0:e.toFixed(3))||0)]})}),(0,r.jsxs)(y,{children:[(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:(0,r.jsx)("h5",{children:"Theme"})}),(0,r.jsx)("th",{children:(0,r.jsx)("h5",{children:"Score"})}),(0,r.jsx)("th",{children:(0,r.jsx)("h5",{children:"Max score"})}),(0,r.jsx)("th",{children:(0,r.jsx)("h5",{children:"Date"})})]})}),(0,r.jsxs)("tbody",{children:[null==l?void 0:l.grades.map((n,e)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(null==n?void 0:n.theme)?n.theme:"-"}),(0,r.jsx)("td",{style:{background:v(null==n?void 0:n.grade,(null==n?void 0:n.maxGrade)||6),color:"#fff"},children:null==n?void 0:n.grade}),(0,r.jsx)("td",{children:(null==n?void 0:n.maxGrade)||6}),(0,r.jsx)("td",{children:u()(new Date(null==n?void 0:n.time)).format("DD.MM.YYYY HH:mm")})]},e)),(function(n,e){let t=new Set(e.map(n=>n.themeId));return n.filter(n=>!t.has(n.id))})(s,null==l?void 0:l.grades).map((n,e)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:null==n?void 0:n.name}),(0,r.jsx)(p.default,{title:"haven't marked",arrow:!0,placement:"left",children:(0,r.jsx)("td",{children:(0,r.jsx)(m.FaExclamationTriangle,{})})}),(0,r.jsx)("td",{children:null==n?void 0:n.maxGrade}),(0,r.jsx)("td",{})]},e))]})]}),(null==l?void 0:null===(t=l.grades)||void 0===t?void 0:t.length)===0&&(0,r.jsx)(c.default,{w:200,h:180})]})]})})]})})},19289:function(n,e,t){"use strict";t.r(e);var l=t("58865");t("33948"),t("31672"),t("59461"),t("2490"),t("25387"),t("72608"),t("57658"),t("17727"),t("57640"),t("9924");var r=t("85893"),i=t("67294"),d=t.n(i),o=t("71893"),a=t("55693"),s=t("97367"),u=t("16393"),c=t("79352"),x=t("57024"),h=t("50533"),f=t("27233"),p=t("61261"),m=t("92120"),v=t("83881"),g=t("27120"),j=t("66556"),b=t("7104"),w=t("89583"),y=t("71096"),C=t("39711"),S=t("90432"),k=t("74946"),F=t("78258"),_=t("16175");function D(){let n=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n\n    overflow-x: scroll;\n\n    table {\n        margin: 0 auto;\n        min-width: 700px;\n        max-width: 1200px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #a8a8a8;\n            padding: 7px;\n            font-size: 14px;\n        }\n\n        th {\n            text-align: center;\n        }\n        \n\n        th {\n            background-color: ",";\n            color: white;\n        }\n\n        .teacher {\n            &:hover {\n                background-color: rgba(0, 0, 0, 0.2);\n                cursor: pointer;\n            }\n        }\n    }\n\n"]);return D=function(){return n},n}function I(){let n=(0,l._)(["\n    ","\n"]);return I=function(){return n},n}function z(){let n=(0,l._)(["\n    ","\n    ","\n    ","\n"]);return z=function(){return n},n}function N(){let n=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    cursor: pointer;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n"]);return N=function(){return n},n}function Y(){let n=(0,l._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]);return Y=function(){return n},n}function T(){let n=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    align-items: center;\n    gap: 15px;\n\n    span {\n        font-size: 25px;\n        font-weight: 600;\n        color: ",";\n\n    }\n"]);return T=function(){return n},n}function A(){let n=(0,l._)(["\n    padding: 1rem;\n"]);return A=function(){return n},n}let R=o.default.div(D(),u.mainColor),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",border:"none",borderRadius:2,outline:"none",boxShadow:24},G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:900,bgcolor:"background.paper",border:"none",outline:"none",borderRadius:"15px",boxShadow:24},L=o.default.div(I(),(0,x.extrasmall)({width:"97% !important"})),M=o.default.div(z(),(0,x.medium)({width:"97% !important"}),(0,x.small)({width:"97% !important"}),(0,x.extrasmall)({width:"97% !important"})),W=o.default.button(N(),u.mainColor),$=o.default.div(Y()),B=o.default.h4(T(),u.mainColor),H=o.default.div(A());e.default=()=>{let{headers:n}=(0,u.getHeaders)(),e=(0,h.useSelector)(n=>{var e;return null==n?void 0:null===(e=n.student)||void 0===e?void 0:e.student}),t=(0,h.useSelector)(n=>{var e;return null==n?void 0:null===(e=n.educationYear)||void 0===e?void 0:e.educationYear})||null,l=(0,h.useSelector)(n=>{var e;return null==n?void 0:null===(e=n.educationYearStatistics)||void 0===e?void 0:e.educationYearStatistics})||[],o=(0,h.useSelector)(n=>{var e;return null==n?void 0:null===(e=n.educationYearStatistics)||void 0===e?void 0:e.educationYearStatisticsLoadingStatus})||!1,[x,D]=(0,i.useState)(!1),[I,z]=(0,i.useState)(!1),[N,Y]=(0,i.useState)([]),[T,A]=(0,i.useState)([]),[U,O]=(0,i.useState)(!1),[q,P]=(0,i.useState)([]),[J,K]=(0,i.useState)(null),[Q,V]=(0,i.useState)(!1),[X,Z]=(0,i.useState)([]),nn=(0,C.useNavigate)(),ne=(0,h.useDispatch)(),nt=n=>{Y(l.find(e=>e.lessonName===n)),D(!0)},nl=()=>D(!1),nr=n=>{Z(null==n?void 0:n.sort((n,e)=>{let t={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return t[n.day]-t[e.day]}).reduce((n,e)=>{let t=null==n?void 0:n.find(n=>n[0].day===e.day);return t?t.push(e):n.push([e]),n},[])),V(!0)},ni=n=>{K(n),z(!0)},nd=()=>{z(!1)},no=()=>{var l;O(!0),f.default.get(u.BASE_URL+"/groupConnect/getGradesByLesson/".concat(null==t?void 0:t.id,"/").concat(e.id,"?groupName=").concat(null==e?void 0:null===(l=e.groupData)||void 0===l?void 0:l.name),{headers:n}).then(n=>{A(n.data.reduce((n,e)=>{let t=n.find(n=>{var t;return(null===(t=n[0])||void 0===t?void 0:t.lessonId)===(null==e?void 0:e.lessonId)});return t?t.push(e):n.push([e]),n},[]))}).catch(n=>{}).finally(()=>{O(!1)})},na=()=>{var l;t&&ne((0,v.fetchEducationYearStatistics)(null==t?void 0:t.id,null==e?void 0:null===(l=e.groupData)||void 0===l?void 0:l.name,null==e?void 0:e.id,n))},ns=()=>{f.default.get(u.BASE_URL+"/education/educationYearsForSelected",{headers:n}).then(n=>{var e;P(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj)}).catch(n=>{})},nu=n=>{let e={lessonName:n.lessonName,educationYearId:t.id,lessonId:n.lessonId,teacherId:n.teacherId};ne((0,y.setInfoStudentForLesson)(e)),nn("".concat(n.lessonName))};return(0,i.useEffect)(()=>{ns()},[]),(0,i.useEffect)(()=>{no()},[t]),(0,i.useEffect)(()=>{na()},[]),(0,r.jsxs)(H,{children:[(0,r.jsxs)(B,{children:[(0,r.jsx)("span",{children:" My courses"}),(0,r.jsx)(a.default,{sx:{minWidth:130,background:"#fff"},children:(0,r.jsx)(b.TextField,{fullWidth:!0,select:!0,size:"small",value:null==t?void 0:t.name,onChange:n=>{n.target.value!==(null==t?void 0:t.name)&&ne((0,g.educationYearStatisticsFetching)()),ne((0,m.fetchEducationYear)(null==q?void 0:q.find(e=>(null==e?void 0:e.name)===n.target.value)))},children:null==q?void 0:q.map((n,e)=>(0,r.jsx)(p.default,{value:null==n?void 0:n.name,children:null==n?void 0:n.name},null==n?void 0:n.id))})})]}),(0,r.jsx)(b.Card,{sx:{mt:3},children:(0,r.jsxs)(b.CardContent,{children:[(0,r.jsx)(R,{children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{textAlign:"center",width:"50px"},children:"\u2116"}),(0,r.jsx)("th",{children:"Subject"}),(0,r.jsx)("th",{children:"Teacher"}),(0,r.jsx)("th",{style:{textAlign:"center",width:"100px"},children:"Absence count"}),(0,r.jsx)("th",{style:{textAlign:"center",width:"100px"},children:"Grades"}),(0,r.jsx)("th",{style:{textAlign:"center",width:"100px"},children:"Plan"})]})}),(0,r.jsx)("tbody",{children:T.sort((n,e)=>n[0].lessonName.localeCompare(e[0].lessonName)).map((n,e)=>(0,r.jsx)(d().Fragment,{children:n.map((t,i)=>{var d,s,u,c;return(0,r.jsxs)("tr",{children:[0===i&&(0,r.jsx)("td",{rowSpan:null==n?void 0:n.length,style:{textAlign:"center"},children:e+1}),0===i&&(0,r.jsx)("td",{rowSpan:null==n?void 0:n.length,children:(0,r.jsxs)("b",{children:[" ",n[0].lessonName," "]})}),(0,r.jsx)("td",{className:"teacher",onClick:()=>nr(null==t?void 0:t.hours),children:null==t?void 0:null===(d=t.fullName)||void 0===d?void 0:d.toUpperCase()}),0===i&&(0,r.jsx)("td",{rowSpan:null==n?void 0:n.length,children:"start"===o?(0,r.jsx)(a.default,{display:"flex",justifyContent:"center",children:(0,r.jsx)(b.Skeleton,{variant:"rounded",width:50,height:50})}):(0,r.jsx)($,{onClick:()=>{var e;return nt(null===(e=n[0])||void 0===e?void 0:e.lessonName)},children:(u=null===(s=n[0])||void 0===s?void 0:s.lessonName,null===(c=l.find(n=>n.lessonName===u))||void 0===c?void 0:c.nbCount)})}),(0,r.jsx)("td",{children:(0,r.jsx)(_.default,{item2:t,handleOpenGrade:()=>ni(t)})}),(0,r.jsx)("td",{children:(0,r.jsx)($,{onClick:()=>nu(t),children:(0,r.jsx)(w.FaCalendarMinus,{size:20,color:"#08004b"})})})]},i)})},e))})]})}),U&&(0,r.jsx)(a.default,{sx:{width:"100%",marginTop:"20px"},children:(0,r.jsx)(F.default,{})})]})}),(0,r.jsx)(s.default,{open:x,onClose:nl,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.default,{sx:E,component:L,children:[(0,r.jsx)(W,{onClick:nl,children:(0,r.jsx)(c.RiCloseLine,{})}),(0,r.jsx)(j.default,{data:N})]})}),(0,r.jsx)(s.default,{open:I,onClose:nd,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.default,{sx:G,component:M,children:[(0,r.jsx)(W,{onClick:nd,children:(0,r.jsx)(c.RiCloseLine,{})}),(0,r.jsx)(S.default,{openGrade:I,gradeDataInfo:J})]})}),(0,r.jsx)(k.default,{open:Q,handleClose:()=>{V(!1),Z([])},data:X})]})}},16175:function(n,e,t){"use strict";t.r(e);var l=t("58865"),r=t("85893"),i=t("67294"),d=t("71893"),o=t("3506");function a(){let n=(0,l._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color:#ffffff;\n\n    &:hover {\n        opacity: 0.8;\n    }\n    \n"]);return a=function(){return n},n}let s=d.default.div(a(),n=>n.bgColor);e.default=(0,i.memo)(n=>{let{item2:e,handleOpenGrade:t}=n,l=parseFloat(((null==e?void 0:e.sumGrade)||0).toFixed(3));return(0,r.jsx)(o.default,{title:"max:30",arrow:!0,children:(0,r.jsx)(s,{bgColor:(n=>{let e=parseFloat((10*n/3).toFixed(3));if(e>=0&&e<60)return"#FF0000";if(e>=60&&e<=84)return"rgb(215,215,0)";if(e>=85)return"#00bd00"})(l),onClick:()=>t(e),children:l})})})},66556:function(n,e,t){"use strict";t.r(e);var l=t("58865");t("15306"),t("57640"),t("9924");var r=t("85893"),i=t("67294"),d=t("71893"),o=t("16393");function a(){let n=(0,l._)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"]);return a=function(){return n},n}function s(){let n=(0,l._)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return s=function(){return n},n}function u(){let n=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return u=function(){return n},n}let c=d.default.div(a(),n=>n.jsc,n=>n.bg),x=d.default.div(s()),h=d.default.div(u(),o.mainColor);e.default=(0,i.memo)(n=>{var e,t;let{data:l}=n,i=l&&(null==l?void 0:null===(t=l.nbData)||void 0===t?void 0:null===(e=t.slice())||void 0===e?void 0:e.sort((n,e)=>{let t=new Date(n.date.replace(/(\d{2}).(\d{2}).(\d{4})/,"$3-$2-$1")),l=new Date(e.date.replace(/(\d{2}).(\d{2}).(\d{4})/,"$3-$2-$1"))-t;return l?l:(null==e?void 0:e.section)-(null==n?void 0:n.section)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{children:null==l?void 0:l.lessonName}),(0,r.jsx)(x,{children:(null==l?void 0:l.nbData.length)>0?null==i?void 0:i.map((n,e)=>(0,r.jsxs)(c,{bg:"red",jsc:"space-between",children:[(0,r.jsx)("p",{children:null==n?void 0:n.date}),(0,r.jsxs)("p",{children:[n.section," - section"]})]},e)):(0,r.jsx)(c,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})})}}]);