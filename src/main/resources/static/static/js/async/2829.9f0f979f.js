/*! For license information please see 2829.9f0f979f.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2829"],{19755:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return q}});var i=t("38956"),o=t("58865");t("69826"),t("31672"),t("59461"),t("2490"),t("41539"),t("92222"),t("17727"),t("88674"),t("21249"),t("57640"),t("9924"),t("91038"),t("78783");var r=t("85893"),a=t("67294"),l=t("71893"),d=t("28685"),u=t("39711"),s=t("96245"),f=t("50533"),c=t("27233"),p=t("89583"),v=t("97367"),x=t("55693"),m=t("79352"),h=t("45184"),g=t("94037"),j=t("90650"),y=t("94476"),b=t("39923"),S=t("71632"),k=t("7104"),w=t("12421");function C(){var n=(0,o._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return C=function(){return n},n}function _(){var n=(0,o._)(["\n    align-self: flex-end;\n    color: ",";\n    display: flex;\n\n"]);return _=function(){return n},n}function R(){var n=(0,o._)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    font-size: 30px;\n    font-weight: 200;\n"]);return R=function(){return n},n}function T(){var n=(0,o._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    font-weight: 500;\n"]);return T=function(){return n},n}function E(){var n=(0,o._)(["\n    margin-top: -35px;\n    width: 55px;\n    height: 55px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 30px;\n    background: #deedf4;\n    border-radius: 15%;\n"]);return E=function(){return n},n}function N(){var n=(0,o._)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    font-size: 24px;\n"]);return N=function(){return n},n}function z(){var n=(0,o._)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 5px 15px !important;\n    margin-top: 10px !important;\n"]);return z=function(){return n},n}function L(){var n=(0,o._)(["\n    height: 150px;\n    width: 100%;\n    display: flex;\n    background-color: #fff;\n    border-radius: 10px;\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    }\n"]);return L=function(){return n},n}function A(){var n=(0,o._)(["\n    margin: 30px 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 40px;\n    padding: 10px 0 !important;\n\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return A=function(){return n},n}var K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},O=(0,l.default)(j.motion.button)(C(),d.mainColor),B=l.default.div(_(),function(n){return n.color?"lime":"red"}),F=l.default.div(R()),U=l.default.span(T()),D=l.default.span(E()),I=l.default.span(N()),H=l.default.div(z()),M=(0,l.default)(j.motion.div)(L(),d.mainColor),P=(0,l.default)(j.motion.div)(A(),(0,S.xlarge)({gridTemplateColumns:"repeat(3,1fr)"}),(0,S.large)({gridTemplateColumns:"repeat(3,1fr)"}),(0,S.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,S.small)({gridTemplateColumns:"repeat(2,1fr)"}),(0,S.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"})),q=function(n){var e,t,o,l,S,C=n.s,_=(0,u.useNavigate)();(0,a.useEffect)(function(){var n,e,t=localStorage.getItem(d.TOKEN),i=(0,s.default)(t),o=null==i?void 0:null===(n=i.roles.find(function(n){return"ROLE_REKTOR"===n.roleName}))||void 0===n?void 0:n.roleName,r=null==i?void 0:null===(e=i.roles.find(function(n){return"Kengash raisi"===n.roleName}))||void 0===e?void 0:e.roleName;"ROLE_REKTOR"!==o&&"Kengash raisi"!==r&&_("/login")},[]);var R=(0,i._)((0,a.useState)([]),2),T=R[0],E=R[1],N=(0,i._)((0,a.useState)(""),2),z=N[0],L=N[1],A=(0,i._)((0,a.useState)(!1),2),q=A[0],G=A[1],J=(0,i._)((0,a.useState)(!1),2),Q=J[0],V=J[1];(0,a.useEffect)(function(){G(!0),c.default.get(d.BASE_URL+"/user/rektorStaff?s=".concat(C),{headers:X}).then(function(n){E(null==n?void 0:n.data)}).catch(function(n){}).finally(function(){G(!1)})},[C]);var W=(0,f.useDispatch)(),X=(0,d.getHeaders)().headers,Y=function(n,e){L(e),V(!0),W((0,y.rektorStaffsFetching)("loading")),c.default.get(d.BASE_URL+"/user/getSectionStaffDataForRektorBySectionId?id=".concat(n,"&s=").concat(C),{headers:X}).then(function(n){var e;W((0,b.fetchRektorStaffs)(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj))}).catch(function(n){})},Z=function(){V(!1)},$=(0,f.useSelector)(function(n){return null==n?void 0:n.rektorStaffs}),nn={visible:function(n){return{scale:1,transition:{delay:.1*n}}},hidden:{scale:0}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P,{children:q?Array.from({length:5}).map(function(n,e){return(0,r.jsx)(k.Skeleton,{sx:{transform:"scale(1,1)"},height:180},e)}):null==T?void 0:T.map(function(n,e){var t,i,o,a;return(0,r.jsx)(M,{onClick:function(){return Y(n.id,n.name)},custom:e,animate:"visible",variants:nn,initial:"hidden",children:(0,r.jsxs)(H,{children:[(0,r.jsxs)(I,{children:[(0,r.jsx)(D,{children:(0,r.jsx)(p.FaUserTie,{})}),(0,r.jsx)(B,{color:(null==n?void 0:n.data)!==null&&(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.comeCount)!==null,children:(null==n?void 0:n.data)===null?0:(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.comeCount)===null?0:null==n?void 0:null===(o=n.data)||void 0===o?void 0:o.comeCount})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(U,{children:[(0,r.jsx)("span",{style:{fontSize:"14px"},children:null==n?void 0:n.name}),(0,r.jsx)(F,{children:(null==n?void 0:n.data)===null?0:null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.allCount})]})]})},n.id)})}),!q&&(0,r.jsx)(x.default,{display:"flex",justifyContent:"end",sx:{width:"100%",my:3},children:(0,r.jsx)(w.default,{direction:"Data_".concat(C?"staff":"deans"),dataToExcel:T})}),(0,r.jsx)(j.AnimatePresence,{children:Q&&(0,r.jsx)(v.default,{open:Q,onClose:Z,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:j.motion.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,r.jsxs)(x.default,{sx:K,children:[(0,r.jsx)(O,{onClick:Z,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,r.jsx)(m.RiCloseLine,{})}),(0,r.jsx)("h2",{style:{textAlign:"center",color:d.mainColor,marginBottom:"10px"},children:z}),(null==$?void 0:$.rektorStaffsLoadingStatus)==="loading"?(0,r.jsx)(h.default,{}):(0,r.jsx)(g.default,{colName:"Staffs",isTeacherUrl:!1,kafedraMudiri:null==$?void 0:null===(e=$.rektorStaffs)||void 0===e?void 0:e.boss,all:null==$?void 0:null===(t=$.rektorStaffs)||void 0===t?void 0:t.allStaffs,come:null==$?void 0:null===(o=$.rektorStaffs)||void 0===o?void 0:o.comeStaff,noCome:null==$?void 0:null===(l=$.rektorStaffs)||void 0===l?void 0:l.noComeStaff,facultyName:z,kafedraId:null==$?void 0:null===(S=$.rektorStaffs)||void 0===S?void 0:S.id})]})})})]})}}}]);