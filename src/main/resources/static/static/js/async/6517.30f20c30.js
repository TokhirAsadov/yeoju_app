/*! For license information please see 6517.30f20c30.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6517"],{726972:function(e,t,a){"use strict";a.r(t);var l=a("258865");a("333948"),a("888449"),a("959849"),a("2490"),a("931672"),a("359461"),a("857640"),a("409924");var n=a("785893"),i=a("667294"),r=a("797367"),d=a("455693"),o=a("60155"),s=a("844118"),u=a("807104"),c=a("194718"),f=a("671893"),m=a("857024"),h=a("316393"),p=a("444025"),x=a("742154"),j=a("332392"),v=a("661261"),g=a("15352"),b=a("727233"),D=a("973871"),C=a("296413"),y=a("201190"),S=a("50533"),k=a("572132");function w(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return w=function(){return e},e}function N(){let e=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return N=function(){return e},e}function I(){let e=(0,l._)(["\n    ","\n"]);return I=function(){return e},e}let F=f.default.div(w()),O=f.default.button(N(),h.mainColor),Y=f.default.div(I(),(0,m.extrasmall)({width:"97% !important"})),E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"};t.default=(0,i.memo)(e=>{let{modalCreate:t,handleCloseModalCreate:a,getNoticeFOrDean:l,putData:f}=e;(0,S.useSelector)(e=>{var t;return null===(t=e.dekanat.dekanat)||void 0===t?void 0:t.faculties});let m=["SIRTQI"],w=(0,S.useSelector)(e=>e.dekanat.dekanat.id),[N,I]=(0,i.useState)(""),[T,A]=(0,i.useState)(m[0]),[M,W]=(0,i.useState)([]),[_,L]=(0,i.useState)([]),[R,P]=(0,i.useState)([]),[B,U]=(0,i.useState)([]),[G,z]=(0,i.useState)([]),[H,q]=(0,i.useState)({fromDate:"",toDate:""}),[V,Q]=(0,i.useState)(""),[J,K]=(0,i.useState)(""),{headers:X}=(0,h.getHeaders)(),Z=()=>{I(""),L([]),U([]),K(""),q({fromDate:"",toDate:""}),Q("")},$=()=>{a(),Z()},ee=()=>{if(f){if(f.course&&I(f.course),(null==f?void 0:f.dynamicSection)&&Q(f.dynamicSection),f.facultyNames&&L(M.filter(e=>f.facultyNames.includes(e.name))),f.educationYear&&G){var e;K((null===(e=G.find(e=>e.name===f.educationYear))||void 0===e?void 0:e.id)||"")}f.fromDate&&f.toDate&&q({fromDate:f.fromDate,toDate:f.toDate})}},et=e=>{I(e),L([]),U([])},ea=async()=>{await b.default.get(h.BASE_URL+"/education/educationYearsForSelected",{headers:X}).then(e=>{z(e.data.obj)}).catch(e=>{})},el=()=>{b.default.get(h.BASE_URL+"/faculty/allFacultiesWithShortName").then(e=>{var t;W(null===(t=e.data.obj)||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.name)<(null==t?void 0:t.name)?-1:(null==e?void 0:e.name)>(null==t?void 0:t.name)?1:0))}).catch(e=>{W([])})},en=(e,t,a)=>{""!==e&&""!==t&&0!==a.length&&b.default.get(h.BASE_URL+"/group/getGroupsByFacultiesIds?course=".concat(e,"&educationType=").concat(t,"&facultiesIds=").concat(a.map(e=>e.id))).then(e=>{var t;P(null===(t=e.data.obj)||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.name)<(null==t?void 0:t.name)?-1:(null==e?void 0:e.name)>(null==t?void 0:t.name)?1:0)),(null==f?void 0:f.groupNames)&&U(e.data.obj.filter(e=>f.groupNames.includes(e.name)))}).catch(e=>{P([])})};return(0,i.useEffect)(()=>{el(),ea()},[]),(0,i.useEffect)(()=>{en(N,T,_)},[N,T,_]),(0,i.useEffect)(()=>{ee()},[f]),(0,n.jsx)(r.default,{open:t,onClose:$,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,n.jsxs)(d.default,{sx:E,component:Y,children:[(0,n.jsxs)(F,{children:[(0,n.jsx)("h4",{children:" Notice"}),(0,n.jsxs)(O,{onClick:$,children:[" ",(0,n.jsx)(o.IoClose,{size:22})]})]}),(0,n.jsxs)(d.default,{children:[(0,n.jsxs)(d.default,{sx:{overflowY:"scroll",marginY:3,height:"70vh",display:"flex",flexDirection:"column",gap:3},children:[(0,n.jsxs)(x.default,{fullWidth:!0,sx:{mt:1},children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Years of education"}),(0,n.jsx)(p.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:J,label:"Years of education",onChange:e=>K(e.target.value),children:G.map(e=>(0,n.jsx)(v.default,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},null==e?void 0:e.id))})]}),(0,n.jsxs)(d.default,{display:"flex",gap:3,children:[(0,n.jsxs)(x.default,{fullWidth:!0,children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Course"}),(0,n.jsx)(p.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:N,label:"Course",onChange:e=>et(e.target.value),children:[1,2,3,4].map(e=>(0,n.jsx)(v.default,{value:e,children:e},e))})]}),(0,n.jsxs)(x.default,{fullWidth:!0,children:[(0,n.jsx)(j.default,{id:"demo-simple-select-label",children:"Edu type"}),(0,n.jsx)(p.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:T,label:"Edu type",disabled:!0,onChange:e=>A(e.target.value),children:m.map(e=>(0,n.jsx)(v.default,{value:e,children:e},e))})]})]}),(0,n.jsxs)(d.default,{display:"flex",gap:3,children:[(0,n.jsx)(D.LocalizationProvider,{dateAdapter:C.AdapterMoment,children:(0,n.jsx)(y.DatePicker,{label:"Start date",value:H.fromDate,onChange:e=>q(t=>({...t,fromDate:e})),renderInput:e=>(0,n.jsx)(u.TextField,{...e}),shouldDisableDate:e=>e<=new Date(h.serverTimeStorage)})}),(0,n.jsx)(D.LocalizationProvider,{dateAdapter:C.AdapterMoment,children:(0,n.jsx)(y.DatePicker,{label:"End date",value:H.toDate,onChange:e=>q(t=>({...t,toDate:e})),renderInput:e=>(0,n.jsx)(u.TextField,{...e}),shouldDisableDate:e=>e<=new Date(h.serverTimeStorage)})})]}),(0,n.jsx)(s.default,{multiple:!0,limitTags:3,id:"faculties-autocomplete",options:M||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.name)||"",renderOption:(e,t,a)=>{let{selected:l}=a;return(0,n.jsxs)("li",{...e,children:[(0,n.jsx)(g.default,{style:{marginRight:8},checked:l}),null==t?void 0:t.name]})},value:_,onChange:(e,t)=>L(t),renderInput:e=>(0,n.jsx)(u.TextField,{...e,label:"Faculties",placeholder:"Select Faculties"})}),(0,n.jsx)(s.default,{multiple:!0,limitTags:3,id:"faculties-autocomplete654",options:R||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.name)||"",renderOption:(e,t,a)=>{let{selected:l}=a;return(0,n.jsxs)("li",{...e,children:[(0,n.jsx)(g.default,{style:{marginRight:8},checked:l}),null==t?void 0:t.name]})},value:B,onChange:(e,t)=>U(t),renderInput:e=>(0,n.jsx)(u.TextField,{...e,label:"Groups",placeholder:"Select Groups"})})]}),(0,n.jsx)(d.default,{sx:{display:"flex",justifyContent:"end",gap:5},children:(0,n.jsxs)(u.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,n.jsx)(c.default,{variant:"outlined",onClick:$,children:"Cancel"}),(0,n.jsx)(c.default,{variant:"contained",onClick:()=>{if(!N||!T||!_.length||!B.length||!H.fromDate||!H.toDate){k.toast.error("Validation failed. Please fill in all the required fields.");return}let e={dekanatId:w,course:N,educationId:J,facultiesId:_.map(e=>e.id),groupsId:B.map(e=>e.id),fromDate:H.fromDate.valueOf(),toDate:H.toDate.valueOf(),dynamicSection:V};if(f){let t={...e,id:f.id};b.default.put(h.BASE_URL+"/notificationOuter/update",t,{headers:X}).then(e=>{k.toast.success("Update success"),$(),l()}).catch(e=>{k.toast.error(" Update error")})}else b.default.post(h.BASE_URL+"/notificationOuter/save",e,{headers:X}).then(e=>{k.toast.success("Success"),$(),l()}).catch(e=>{k.toast.error("Error")})},children:f?"update":"save"})]})})]})]})})})},98493:function(e,t,a){"use strict";a.r(t);var l=a("785893");a("667294");var n=a("807104"),i=a("816356"),r=a("730381"),d=a.n(r),o=a("574113"),s=a("463750"),u=a("405434"),c=a("503506"),f=a("727233"),m=a("316393"),h=a("572132");t.default=e=>{let{data:t,isLoading:a,setPutData:r,setModalCreate:p,getNoticeFOrDean:x}=e,j=e=>{r(e),p(!0)},v=e=>{f.default.delete("".concat(m.BASE_URL,"/notificationOuter/deleteNO/").concat(e),(0,m.getHeaders)()).then(e=>{h.toast.warning(e.data.message||"Deleted"),x()}).catch(e=>{h.toast.error(e.response.data.message||"Error")})};return(0,l.jsx)(n.Card,{sx:{mt:2},children:(0,l.jsx)(n.CardContent,{children:(0,l.jsx)(i.DataGrid,{columns:[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:.4,field:"educationYear",headerName:"Year",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"dekanat",headerName:"Dean",sortable:!0,align:"center",justifyContent:"center"},{minWidth:80,flex:.3,field:"course",headerName:"Course",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"fromDate",headerName:"From date",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)("p",{children:d()(e.row.fromDate).format("DD.MM.YYYY")})},{minWidth:100,flex:.5,field:"toDate",headerName:"To date",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsx)("p",{children:d()(e.row.toDate).format("DD.MM.YYYY")})},{minWidth:100,flex:.5,field:"facultyNames",headerName:"Faculty names",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"groupNames",headerName:"Group names",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.default,{onClick:()=>j(e.row),children:(0,l.jsx)(s.BsPencilSquare,{size:20,color:"green"})}),(0,l.jsx)(c.default,{title:"Delete",arrow:!0,children:(0,l.jsx)(o.default,{onClick:()=>{var t;return v(null===(t=e.row)||void 0===t?void 0:t.id)},children:(0,l.jsx)(u.MdDelete,{size:20,color:"red"})})})]})}],rows:t||[],loading:a,components:{Toolbar:i.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})})}},245276:function(e,t,a){"use strict";a.r(t);var l=a("258865");a("333948"),a("857640"),a("409924"),a("117727");var n=a("785893"),i=a("667294"),r=a("671893"),d=a("194718"),o=a("726972"),s=a("455693"),u=a("98493"),c=a("50533"),f=a("889583"),m=a("639711"),h=a("405434"),p=a("193065");function x(){let e=(0,l._)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return x=function(){return e},e}let j=r.default.div(x());t.default=()=>{(0,c.useSelector)(e=>{var t;return null===(t=e.dekanat.dekanat)||void 0===t?void 0:t.name});let[e,t]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),[r,x]=(0,i.useState)(!1),[v,g]=(0,i.useState)(null),b=(0,m.useNavigate)(),D=()=>{l(!0),p.default.get("/notificationOuter/getAllOuterNotifications").then(e=>{var a,l;t(null===(l=e.data.obj)||void 0===l?void 0:null===(a=l.sort((e,t)=>e.fromDate<t.fromDate?1:e.fromDate>t.fromDate?-1:0))||void 0===a?void 0:a.map((e,t)=>({...e,count:t+1})))}).catch(e=>{}).finally(()=>{l(!1)})};return(0,i.useEffect)(()=>{D()},[]),(0,n.jsxs)(j,{children:[(0,n.jsxs)(s.default,{mt:3,display:"flex",justifyContent:"end",gap:5,children:[(0,n.jsx)(d.default,{variant:"contained",endIcon:(0,n.jsx)(h.MdCreateNewFolder,{}),onClick:()=>x(!0),children:"create"}),(0,n.jsx)(d.default,{variant:"contained",color:"inherit",endIcon:(0,n.jsx)(f.FaFileAlt,{}),onClick:()=>b("history"),children:"History"})]}),(0,n.jsx)(u.default,{getNoticeFOrDean:()=>D(),data:e,isLoading:a,setPutData:g,setModalCreate:x}),(0,n.jsx)(o.default,{modalCreate:r,getNoticeFOrDean:D,handleCloseModalCreate:()=>{x(!1),g(null)},putData:v})]})}}}]);