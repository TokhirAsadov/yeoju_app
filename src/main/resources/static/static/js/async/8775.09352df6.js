/*! For license information please see 8775.09352df6.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["8775"],{77918:function(e,t,a){"use strict";a.r(t);var r=a("58865");a("33948"),a("57658"),a("15581"),a("34514"),a("2490"),a("17727");var l=a("85893"),o=a("67294"),i=a("71893"),n=a("16393"),u=a("27233"),s=a("54520"),d=a("50533"),c=a("30381"),f=a.n(c);function v(){let e=(0,r._)(["\n    color: ",";\n    margin-bottom: 20px;\n"]);return v=function(){return e},e}function h(){let e=(0,r._)(["\n    width: 100%;\n    padding: 1rem !important;\n"]);return h=function(){return e},e}a("21793");let m=i.default.h3(v(),n.mainColor),k=i.default.div(h());t.default=()=>{let{headers:e}=(0,n.getHeaders)(),[t,a]=(0,o.useState)([]),[r,i]=(0,o.useState)(null),c=(0,d.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.user}),[v,h]=(0,o.useState)(!1),[S,g]=(0,o.useState)({date:new Date(n.serverTimeStorage),dateFrom:f()(n.serverTimeStorage).startOf("isoWeek").toDate(),dateTo:f()(n.serverTimeStorage).endOf("isoWeek").toDate(),weekNumber:f()(n.serverTimeStorage).isoWeek(),daysOfWeek:((e,t)=>{f().locale("ru");let a=f()(n.serverTimeStorage).year(t).isoWeek(e).startOf("isoWeek"),r=[];for(let e=0;e<6;e++)r.push(a.clone().add(e,"days").toDate());return r})(f()(n.serverTimeStorage).isoWeek(),f()(n.serverTimeStorage).year())});return(0,o.useEffect)(()=>{h(!0),u.default.get(n.BASE_URL+"/timeTableByWeekOfYear/getTeacherTimeTable?t="+(null==c?void 0:c.id)+"&week="+(null==S?void 0:S.weekNumber)+"&year="+f()(null==S?void 0:S.date).format("YYYY"),{headers:e}).then(e=>{var t;let r=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj,l=[],o={};for(let e in null==r||r.forEach(e=>{e.shows.forEach(t=>{let a=t.daysName;!o[a]&&(o[a]={teacherData:e.teacherData,shows:[]}),o[a].shows.push(t)})}),o)l.push(o[e]);a(l)}).catch(e=>{}).finally(()=>{h(!1)}),u.default.get(n.BASE_URL+"/user/getTeacherStatisticsForTimeTableByWeek?teacherId="+(null==c?void 0:c.id)+"&week="+(null==S?void 0:S.weekNumber)+"&year="+f()(null==S?void 0:S.date).format("YYYY"),{headers:e}).then(e=>{var t;i(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{i([])})},[]),(0,l.jsxs)(k,{children:[(0,l.jsx)(m,{children:"Schedule of lessons"}),null!==r&&(0,l.jsx)(s.default,{isLoading:v,obj:S,data:t,statistics:r})]})}}}]);