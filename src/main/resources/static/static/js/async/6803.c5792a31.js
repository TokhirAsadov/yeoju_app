/*! For license information please see 6803.c5792a31.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6803"],{58990:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t("7409"),l=t("99282"),i=t("38956"),a=t("58865"),o=t("37098");t("92222"),t("57658"),t("21249"),t("57640"),t("9924"),t("91038"),t("78783"),t("66992"),t("33948"),t("41539"),t("69826"),t("31672"),t("59461"),t("2490"),t("70189"),t("88921"),t("96248"),t("13599"),t("27561"),t("11477"),t("64362"),t("15389"),t("90401"),t("3440"),t("45164"),t("66244"),t("91238"),t("89772"),t("54837"),t("88910"),t("87485"),t("56767"),t("76651"),t("61437"),t("35285"),t("63252"),t("39865"),t("17454"),t("85827"),t("25387"),t("72608"),t("57327"),t("88449"),t("19894"),t("2707"),t("17727"),t("88674");var d=t("85893"),u=t("67294"),s=t("55693"),c=t("94718"),f=t("45155"),h=t("30381"),x=t.n(h),p=t("71893"),v=t("28685"),m=t("37595"),j=t("27233"),g=t("50533"),b=t("18573"),y=t("78258"),S=t("52483");function _(){var e=(0,a._)(["\n  margin-top: 25px;\n  width: 100%;\n  overflow: scroll;\n  height: 400px;\n\n  table {\n    min-width: 1500px;\n    border-collapse: collapse;\n    width: 100%;\n    border-radius: 5px;\n    overflow: hidden;\n\n    td, th {\n      border: 1px solid #ddd;\n      padding: 8px;\n      font-size: 15px;\n    }\n\n    th {\n      text-align: center;\n    }\n\n    tr {\n      &:nth-child(even) {\n        background-color: #fcf9f9;\n      }\n    }\n\n    th {\n      background-color: ",";\n      color: white;\n    }\n  }\n\n"]);return _=function(){return e},e}var w=p.default.div(_(),v.mainColor),C={border:"none",outline:"none",background:"transparent"},D={width:"40px!important",height:"40px!important",fontSize:"24px"},k=function(e){var n=e.groups,t=e.lessons,a=e.groupSelect,h=e.scien,p=(0,v.getHeaders)().headers,_=(0,i._)((0,u.useState)(new Date),2),k=_[0],Y=_[1],H=(0,i._)((0,u.useState)([]),2),I=H[0],M=H[1],A=(0,g.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear})||null,N=(0,i._)((0,u.useState)([]),2),T=N[0],E=N[1],F=(0,i._)((0,u.useState)(!0),2),G=F[0],B=F[1];return(0,u.useEffect)(function(){M(function(){return Array.from(Array(x()(k).daysInMonth()).keys()).map(function(e){return e+1})})},[k]),(0,u.useEffect)(function(){var e,i;console.log(A,n,a,t,h,"config"),j.default.get("".concat(v.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==A?void 0:A.id,"/").concat(null==n?void 0:null===(e=n.find(function(e){return(null==e?void 0:e.name)===a}))||void 0===e?void 0:e.id,"?subjectId=").concat(null==t?void 0:null===(i=t.find(function(e){return(null==e?void 0:e.name)===h}))||void 0===i?void 0:i.id),{headers:p}).then(function(e){var n,t;E(null===(t=e.data[0][0])||void 0===t?void 0:null===(n=t.students)||void 0===n?void 0:n.map(function(e){var n=new Set,t=null==e?void 0:e.subjects.reduce(function(e,t){var r="".concat(t.day,"-").concat(t.week,"-").concat(t.year,"-").concat(t.section);return!n.has(r)&&(n.add(r),e.push(t)),e},[]).filter(function(e){return 0===e.statistics.length}).length;return(0,l._)((0,r._)({},e),{subjectNb:t})}).sort(function(e,n){return e.fullName<n.fullName?-1:e.fullName>n.fullName?1:0}))}).catch(function(e){console.log(e)}).finally(function(){B(!1)})},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.default,{sx:{display:"flex",justifyContent:"center"},children:(0,d.jsxs)(c.default,{sx:{display:"flex",justifyContent:"center",gap:1,alignItems:"center",backgroundColor:"#fcfafa"},children:[(0,d.jsx)("div",{style:D,onClick:function(){Y(new Date(k.getFullYear(),k.getMonth()-1))},children:(0,d.jsx)(f.GrFormPrevious,{})}),(0,d.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:x()(k).format("YYYY-MM"),onChange:function(e){return Y(new Date(e.target.value))},style:C}),(0,d.jsx)("div",{style:D,onClick:function(){Y(new Date(k.getFullYear(),k.getMonth()+1))},children:(0,d.jsx)(f.GrFormNext,{})})]})}),(0,d.jsxs)(w,{children:[(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u2116"}),(0,d.jsx)("th",{children:(0,d.jsx)("p",{children:"Full name"})}),I.map(function(e){return(0,d.jsx)("th",{children:e},e)}),(0,d.jsx)("th",{children:"\u2211"})]})}),(0,d.jsx)("tbody",{children:!G&&(null==T?void 0:T.map(function(e,n){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{textAlign:"center"},children:n+1}),(0,d.jsx)("td",{children:null==e?void 0:e.fullName}),I.map(function(n,t){return new Date(k.getFullYear(),k.getMonth(),n)<=new Date?(0,d.jsx)("td",{style:{textAlign:"center"},children:(0,d.jsx)(b.default,{data:e,day:n,time:k})},t):(0,d.jsx)("td",{},t)}),(0,d.jsx)("td",{children:null==e?void 0:e.subjectNb})]},n)}))})]}),G&&(0,d.jsx)(s.default,{sx:{width:"100%",marginTop:"20px"},children:(0,d.jsx)(y.default,{})})]}),(0,d.jsx)(s.default,{sx:{mt:"10px",display:"flex",justifyContent:"end"},children:(0,d.jsx)(c.default,{onClick:function(){var e=[],n=["\u2116","Full name"].concat((0,o._)(I),["total"]);e.push(n),T.map(function(n,t){var r=[t+1,n.fullName].concat((0,o._)(I.map(function(e){var t;return new Date(k.getFullYear(),k.getMonth(),e)<=new Date?Array.isArray(t=(0,S.default)({data:n,day:e,time:k}))?t.join(","):"":""})),[null==n?void 0:n.subjectNb]);e.push(r),console.log(r)});var t=m.utils.book_new(),r=m.utils.aoa_to_sheet(e);m.utils.book_append_sheet(t,r,"StudentsData"),m.writeFile(t,"students_data.xlsx")},variant:"contained",children:"Export"})})]})}},99122:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return et}});var r=t("76150"),l=t("7409"),i=t("99282"),a=t("93820"),o=t("38956"),d=t("58865"),u=t("18965");t("92222"),t("91058"),t("88674"),t("41539"),t("66992"),t("33948"),t("78783"),t("21249"),t("57640"),t("9924"),t("82526"),t("41817");var s=t("85893"),c=t("67294"),f=t.n(c),h=t("71893"),x=t("28685"),p=t("71632"),v=t("8193"),m=t("30381"),j=t.n(m),g=t("94718"),b=t("7104"),y=t("19237"),S=t("26178"),_=t("52861"),w=t("50533"),C=t("53854"),D=t("74113"),k=t("27233"),Y=t("97367"),H=t("55693"),I=t("60155"),M=t("89589"),A=t("72132"),N=t("90199"),T=t("3506"),E=t("51649"),F=t("92037"),G=t("60023"),B=t("37130");function R(){var e=(0,d._)(["\n    ","\n"]);return R=function(){return e},e}function O(){var e=(0,d._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return O=function(){return e},e}function z(){var e=(0,d._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return z=function(){return e},e}function L(){var e=(0,d._)(["\n\n"]);return L=function(){return e},e}function U(){var e=(0,d._)(["\n    margin-top: 10px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return U=function(){return e},e}function P(){var e=(0,d._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 12px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .score {\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.1);\n            cursor: pointer;\n        }\n    }\n"]);return P=function(){return e},e}function W(){var e=(0,d._)(["\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 20px;\n\n    h3 {\n        font-size: 25px;\n        color: ",";\n        font-weight: bold;\n\n    }\n\n    ","\n"]);return W=function(){return e},e}function q(){var e=(0,d._)(["\n\n"]);return q=function(){return e},e}var K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},V=h.default.div(R(),(0,p.extrasmall)({width:"95% !important"})),Q=h.default.button(O(),x.mainColor),X=h.default.div(z()),Z=h.default.div(L()),$=h.default.div(U()),J=h.default.div(P(),x.mainColor),ee=h.default.div(W(),x.mainColor,(0,p.extrasmall)({justifyContent:"center"})),en=h.default.div(q()),et=function(e){var n,t,d,h,m,R,O,z=e.oneSciencesScore,L=e.fetchCoreDataStudents;e.groupSelect,e.maxStep;var U=z.subjectId,P=z.studentId,W=z.groupId,q=z.fullName;z.sumGrade;var et=(0,w.useSelector)(function(e){return e.teacher.teacher}),er=et.id;et.kafedraName;var el=(0,w.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear}),ei=(0,o._)(f().useState(!1),2),ea=ei[0],eo=ei[1],ed=(0,o._)((0,c.useState)(!1),2),eu=ed[0],es=ed[1],ec=(0,o._)((0,c.useState)(!1),2),ef=ec[0],eh=ec[1],ex=(0,S.useTheme)(),ep=(0,y.default)(ex.breakpoints.down("sm")),ev=(0,o._)((0,c.useState)(null),2),em=ev[0],ej=ev[1],eg=(0,o._)((0,c.useState)(null),2),eb=eg[0],ey=eg[1],eS={id:null,studentId:P,subjectId:U,educationYearId:null==el?void 0:el.id,grade:null,time:null,description:null},e_=(0,o._)((0,c.useState)(eS),2),ew=e_[0],eC=e_[1],eD=(0,x.getHeaders)().headers,ek=(0,o._)((0,c.useState)([]),2),eY=ek[0],eH=ek[1],eI=(0,o._)((0,c.useState)(null),2),eM=eI[0],eA=eI[1],eN=(0,o._)((0,c.useState)(!1),2),eT=eN[0],eE=eN[1],eF=(0,o._)((0,c.useState)(!1),2),eG=eF[0],eB=eF[1],eR=(0,o._)((0,c.useState)(!1),2),eO=eR[0],ez=eR[1],eL=(0,o._)((0,c.useState)([]),2),eU=eL[0],eP=eL[1],eW=function(){eC(eS),eo(!1),eB(!1)},eq=function(e){ej(e),es(!0)},eK=function(){ej(null),es(!1)},eV=function(){eh(!1)};var eQ=(n=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,k.default.get("".concat(x.BASE_URL,"/permissionForTeacherGrading/checkExistsPermission/").concat(null==el?void 0:el.id,"?teacherId=").concat(er,"&subjectId=").concat(U,"&groupId=").concat(W,"&status=AT_PROCESS"),{headers:eD}).then(function(e){var n;console.log(e," response p"),(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.success)?A.toast.warning("You already send a request. Please, wait response of education department.."):eh(!0)}).catch(function(e){console.log(e,"error ")})];case 1:return e.sent(),[2]}})}),function(){return n.apply(this,arguments)});var eX=(t=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,k.default.get("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/getGradesOfStudent/").concat(null==el?void 0:el.id,"?studentId=").concat(P,"&subjectId=").concat(U),{headers:eD}).then(function(e){var n;eH(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e)})];case 1:return e.sent(),[2]}})}),function(){return t.apply(this,arguments)});var eZ=(d=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,k.default.get("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/getMiddleGrade/").concat(null==el?void 0:el.id,"?studentId=").concat(P,"&subjectId=").concat(U,"&groupId=").concat(W),{headers:eD}).then(function(e){var n;eA(((null===(n=e.data)||void 0===n?void 0:n.obj)||0).toFixed(2))}).catch(function(e){console.log(e)})];case 1:return e.sent(),[2]}})}),function(){return d.apply(this,arguments)});var e$=(h=(0,r._)(function(e){var n;return(0,u._)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),console.log(n=(0,i._)((0,l._)({},ew),{time:new Date().getTime(),grade:+ew.grade})),!(+n.grade>=0&&6>=+n.grade))return[3,2];return[4,k.default.post("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/create"),n,{headers:eD}).then(function(e){eo(!1),eX(),L(),eZ(),A.toast.success("Grade was created successfully"),eC(eS)}).catch(function(e){console.log(e),A.toast.error("Error evaluation")})];case 1:return t.sent(),[3,3];case 2:A.toast.error("min:0  max:6"),t.label=3;case 3:return[2]}})}),function(e){return h.apply(this,arguments)});var eJ=(m=(0,r._)(function(e){var n,t;return(0,u._)(this,function(r){switch(r.label){case 0:if(e.preventDefault(),console.log(n=(0,i._)((0,l._)({},ew),{time:new Date().getTime()})),!(parseInt(n.grade)>=0&&6>=parseInt(n.grade)))return[3,3];if(!(t=(null==ew?void 0:ew.id)&&(null==ew?void 0:ew.id)!==""))return[3,2];return[4,k.default.put("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/update"),n,{headers:eD}).then(function(e){eo(!1),eX(),L(),eZ(),A.toast.success("Grade was updated successfully"),eC(eS)}).catch(function(e){var n,t;console.log(e),A.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)})];case 1:t=r.sent(),r.label=2;case 2:return[3,4];case 3:A.toast.error("min:0 max:6"),r.label=4;case 4:return[2]}})}),function(e){return m.apply(this,arguments)});var e0=(R=(0,r._)(function(e){var n,t,r,o,d;return(0,u._)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),(n=(0,i._)((0,l._)({},ew),{time:new Date().getTime(),failGradeId:ew.id})).id,n.createdAt,console.log(o=(0,a._)(n,["id","createdAt"])),!(parseInt(o.grade)>=0&&6>=parseInt(o.grade)))return[3,3];if(!(d=(null==ew?void 0:ew.id)&&(null==ew?void 0:ew.id)!==""))return[3,2];return[4,k.default.post("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/retake"),o,{headers:eD}).then(function(e){eo(!1),eB(!1),eX(),L(),eZ(),A.toast.success("Grade was updated successfully"),eC(eS)}).catch(function(e){console.log(e),A.toast.error("Error evaluation")})];case 1:d=t.sent(),t.label=2;case 2:return[3,4];case 3:A.toast.error("min:0 max:6"),t.label=4;case 4:return[2]}})}),function(e){return R.apply(this,arguments)}),e1=function(e){var n,t=(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(n=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===n?void 0:n.grade;eC(function(n){return(0,i._)((0,l._)({},n,e),{grade:t})}),eo(!0)},e2=function(e){eP(e),ez(!0)},e5=function(e){var n=e.target.value;parseInt(eM)+parseInt(n)<=30?(eE(!1),eC(function(e){return(0,i._)((0,l._)({},e),{grade:n})})):eE(!0)};var e8=(O=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,k.default.get("".concat(x.BASE_URL,"/permissionForTeacherGrading/getConfirmPermission/").concat(null==el?void 0:el.id,"?teacherId=").concat(er,"&subjectId=").concat(U,"&groupId=").concat(W)).then(function(e){var n,t;ey((null===(t=e.data)||void 0===t?void 0:null===(n=t.obj)||void 0===n?void 0:n.deadline)||null)}).catch(function(e){console.log(e,"get permissions error")})];case 1:return e.sent(),[2]}})}),function(){return O.apply(this,arguments)}),e9=function(e){var n=j()(e),t=j()(),r=j()(e).add(2,"days");return n.isBefore(t)&&t.isBefore(r)};return(0,c.useEffect)(function(){Promise.all([eX(),eZ(),e8()])},[]),(0,s.jsxs)(en,{children:[(0,s.jsxs)(ee,{children:[(0,s.jsx)("h3",{children:q}),(0,s.jsx)(g.default,{variant:"contained",onClick:function(){eo(!0)},endIcon:(0,s.jsx)(v.AiFillFileAdd,{}),children:"evaluation"})]}),(0,s.jsx)(H.default,{sx:{mt:"25px"},children:(0,s.jsx)(b.Card,{sx:(0,l._)({width:250},(0,p.extrasmall)({width:"100%"})),children:(0,s.jsx)(b.CardContent,{children:(0,s.jsxs)(M.default,{sx:{fontSize:20,textAlign:"center",fontWeight:"bold"},color:x.mainColor,gutterBottom:!0,children:["Rating : ",eM&&eM||0]})})})}),eb?(0,s.jsx)(H.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:(0,s.jsxs)(g.default,{variant:"outlined",color:"primary",startIcon:(0,s.jsx)(v.AiFillUnlock,{}),children:["Grades can be changed until ",j()(eb).format("DD.MM.YYYY")]})}):(0,s.jsxs)(H.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:[(0,s.jsx)(T.default,{title:"The time to change the assessment has passed.",children:(0,s.jsx)(g.default,{variant:"contained",color:"inherit",onClick:eQ,size:"small",children:"Access to changes"})}),(0,s.jsx)(T.default,{title:"Points can be changed within 3 days!",children:(0,s.jsx)(D.default,{size:"medium",color:"warning",children:(0,s.jsx)(E.IoIosWarning,{})})})]}),(0,s.jsxs)(J,{children:[(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Description"})}),(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Score"})}),(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Date"})}),(0,s.jsx)("th",{children:(0,s.jsx)("h5",{children:"Actions"})})]})}),(0,s.jsx)("tbody",{children:eY.map(function(e,n){var t,r;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(null==e?void 0:e.retakes.length)===0?e.description||"-":(null==e?void 0:null===(t=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===t?void 0:t.description)||"-"}),(0,s.jsx)("td",{className:"score",onClick:function(){return e2(null==e?void 0:e.retakes)},children:(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:null===(r=e.retakes[(null==e?void 0:e.retakes.length)-1])||void 0===r?void 0:r.grade}),(0,s.jsx)("td",{children:j()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")}),(0,s.jsx)("td",{children:(0,s.jsxs)(b.Stack,{direction:"row",spacing:2,justifyContent:"center",children:[(0,s.jsx)(D.default,{disabled:!(eb?(null==e?void 0:e.time)<=eb:e9(null==e?void 0:e.time)),"aria-label":"change",color:"success",onClick:function(){return e1(e)},children:(0,s.jsx)(C.HiPencilAlt,{})}),(0,s.jsx)(D.default,{disabled:!(eb?(null==e?void 0:e.time)<=eb:e9(null==e?void 0:e.time)),"aria-label":"delete",color:"error",onClick:function(){return eq(null==e?void 0:e.id)},children:(0,s.jsx)(v.AiFillDelete,{})})]})})]},n)})})]}),0===eY.length&&(0,s.jsx)(N.default,{w:200,h:180})]}),(0,s.jsxs)(b.Dialog,{fullScreen:ep,open:ea,onClose:eW,"aria-labelledby":"responsive-dialog-title",children:[(0,s.jsx)(b.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,s.jsxs)("form",{onSubmit:(null==ew?void 0:ew.id)==null?e$:eG?e0:eJ,children:[(0,s.jsx)(b.DialogContent,{sx:{pt:0},children:(0,s.jsxs)($,{children:[(null==ew?void 0:ew.id)!==null&&(0,s.jsx)(Z,{style:{display:"flex",justifyContent:"end"},children:(0,s.jsx)(F.default,{control:(0,s.jsx)(G.default,{checked:eG,onChange:function(){eB(function(e){return!e})},color:"primary"}),label:"Retake",labelPlacement:"end"})}),(0,s.jsx)(Z,{children:(0,s.jsx)(_.default,{sx:{width:"300px"},type:"number",value:ew.grade,onChange:function(e){return e5(e)},label:"Score"})}),(0,s.jsx)(Z,{children:(0,s.jsx)(_.default,{value:ew.description,onChange:function(e){return eC(function(n){return(0,i._)((0,l._)({},n),{description:e.target.value})})},id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,s.jsxs)(b.DialogActions,{children:[(0,s.jsx)(g.default,{variant:"outlined",type:"reset",onClick:eW,children:"cancel"}),(0,s.jsx)(g.default,{disabled:eT,variant:"contained",type:"submit",children:(null==ew?void 0:ew.id)===null?"save":"update"})]})]})]}),(0,s.jsx)(Y.default,{open:eu,onClose:eK,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(H.default,{sx:K,component:V,children:[(0,s.jsxs)(X,{children:[(0,s.jsx)("h5",{children:"Delete"}),(0,s.jsxs)(Q,{onClick:eK,children:[" ",(0,s.jsx)(I.IoClose,{size:22})]})]}),(0,s.jsxs)(H.default,{children:[(0,s.jsx)(b.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,s.jsx)(M.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,s.jsxs)(b.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,s.jsx)(g.default,{variant:"outlined",onClick:eK,children:"Cancel"}),(0,s.jsx)(g.default,{variant:"contained",color:"error",onClick:function(){em&&k.default.delete("".concat(x.BASE_URL,"/gradeOfStudentByTeacher/delete/").concat(em),{headers:eD}).then(function(e){eX(),eK(),L(),eZ(),A.toast.success("Grade was deleted successfully")}).catch(function(e){var n,t;console.log(e),A.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)})},children:"Ok"})]})]})]})}),(0,s.jsx)(Y.default,{open:ef,onClose:eV,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(H.default,{sx:K,component:V,children:[(0,s.jsxs)(X,{children:[(0,s.jsx)("h5",{children:"Access to changes"}),(0,s.jsxs)(Q,{onClick:eV,children:[" ",(0,s.jsx)(I.IoClose,{size:22})]})]}),(0,s.jsxs)(H.default,{children:[(0,s.jsx)(b.Stack,{sx:{height:"150px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,s.jsxs)(M.default,{variant:"h6",color:"black",children:["You can only change today's points within 3 days. ",(0,s.jsx)("br",{}),"Approval of the Department of Education is required for grade changes."]})}),(0,s.jsxs)(b.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,s.jsx)(g.default,{variant:"outlined",onClick:eV,children:"Cancel"}),(0,s.jsx)(g.default,{onClick:function(){var e={groupId:W,status:"AT_PROCESS",subjectId:U,teacherId:er,educationYearId:null==el?void 0:el.id};k.default.post(x.BASE_URL+"/permissionForTeacherGrading/createPermissionForTeacherGrading",e,{headers:eD}).then(function(e){A.toast.success("Successfully sent"),eh(!1)}).catch(function(e){console.log(e),A.toast.error("Error")})},variant:"contained",children:"gain access"})]})]})]})}),(0,s.jsx)(B.default,{data:eU,open:eO,handleClose:function(){ez(!1)}})]})}},49275:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t("76150"),l=t("7409"),i=t("99282"),a=t("38956"),o=t("58865"),d=t("18965");t("73210"),t("92222"),t("91058"),t("82526"),t("41817");var u=t("85893"),s=t("67294"),c=t("7104"),f=t("52861"),h=t("94718"),x=t("71893"),p=t("26178"),v=t("19237"),m=t("50533"),j=t("72132"),g=t("27233"),b=t("28685");function y(){var e=(0,o._)(["\n\n"]);return y=function(){return e},e}function S(){var e=(0,o._)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return S=function(){return e},e}var _=x.default.div(y()),w=x.default.div(S()),C=(0,s.memo)(function(e){var n,t=e.setTodayGrade,o=e.openEvaluateToday,x=e.setOpenEvaluateToday,y=e.oneSciencesScore;console.log(y);var S=(0,p.useTheme)(),C=(0,v.default)(S.breakpoints.down("sm")),D=(0,m.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear}),k=(0,a._)((0,s.useState)(!1),2),Y=k[0],H=k[1],I={studentId:null==y?void 0:y.studentId,subjectId:null==y?void 0:y.subjectId,educationYearId:null==D?void 0:D.id,grade:null,time:null,description:null},M=(0,a._)((0,s.useState)(I),2),A=M[0],N=M[1],T=function(){x(!1)},E=(0,b.getHeaders)().headers;var F=(n=(0,r._)(function(e){var n;return(0,d._)(this,function(r){switch(r.label){case 0:if(e.preventDefault(),console.log(n=(0,i._)((0,l._)({},A),{time:new Date})),!(n.grade>=0&&n.grade<=6&&null!=n.grade&&""!==n.grade.trim()))return[3,2];return t(function(e){return(0,i._)((0,l._)({},e),{id:null==y?void 0:y.studentId,grade:null==A?void 0:A.grade})}),[4,g.default.post("".concat(b.BASE_URL,"/gradeOfStudentByTeacher/create"),n,{headers:E}).then(function(e){j.toast.success("Successfully"),x(!1),N(I)}).catch(function(e){console.log(e),j.toast.error("Error evaluation")})];case 1:return r.sent(),[3,3];case 2:j.toast.error("min:0 max:6"),r.label=3;case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),G=function(e){var n=e.target.value;parseInt((null==y?void 0:y.sumGrade)||0)+parseInt(n)<=30?(H(!1),N(function(e){return(0,i._)((0,l._)({},e),{grade:n})})):H(!0)};return(0,s.useEffect)(function(){N({studentId:null==y?void 0:y.studentId,subjectId:null==y?void 0:y.subjectId,educationYearId:null==D?void 0:D.id,grade:null,time:null,description:null})},[y]),(0,u.jsxs)(c.Dialog,{fullScreen:C,open:o,onClose:T,"aria-labelledby":"responsive-dialog-title",children:[(0,u.jsx)(c.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,u.jsxs)("form",{onSubmit:F,children:[(0,u.jsx)(c.DialogContent,{children:(0,u.jsxs)(w,{children:[(0,u.jsx)(_,{children:(0,u.jsx)(f.default,{sx:{width:"300px"},type:"number",value:A.grade,onChange:function(e){return G(e)},label:"Score"})}),(0,u.jsx)(_,{children:(0,u.jsx)(f.default,{value:A.description,onChange:function(e){return N(function(n){return(0,i._)((0,l._)({},n),{description:e.target.value})})},id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,u.jsxs)(c.DialogActions,{children:[(0,u.jsx)(h.default,{variant:"outlined",type:"reset",onClick:T,children:"cancel"}),(0,u.jsx)(h.default,{disabled:Y,variant:"contained",type:"submit",children:"save"})]})]})]})})},79535:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t("38956");t("92222");var l=t("85893"),i=t("67294"),a=t("41087"),o=t("50533"),d=t("27233"),u=t("28685"),s=(0,i.memo)(function(e){var n=e.educationYear,t=e.content,s=e.groupName,c=e.subjectName,f=e.maxStep,h=(0,o.useSelector)(function(e){return e.teacher.teacher}),x=(0,u.getHeaders)().headers,p=(0,r._)((0,i.useState)(null),2),v=p[0],m=p[1];return(0,i.useEffect)(function(){d.default.get("".concat(u.BASE_URL,"/teacher/getDataOfLeaders/").concat(null==h?void 0:h.id,"/").concat(s," "),{headers:x}).then(function(e){m(e.data.obj)}).catch(function(e){console.log(e)})},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.default,{dataOfLeaders:v,teacherData:h,educationYear:n,content:t,groupName:s,subjectName:c,maxStep:f})})})},37130:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var r=t("58865");t("21249"),t("57640"),t("9924"),t("82526"),t("41817");var l=t("85893"),i=t("67294"),a=t("7104"),o=t("94718"),d=t("28685"),u=t("71893"),s=t("30381"),c=t.n(s);function f(){var e=(0,r._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n    color: #000;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 5px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 8px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return f=function(){return e},e}var h=u.default.div(f(),d.mainColor),x=(0,i.memo)(function(e){var n=e.data,t=e.open,r=e.handleClose;return console.log(n),(0,l.jsxs)(a.Dialog,{open:t,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(a.DialogTitle,{id:"alert-dialog-title",children:"Retake history"}),(0,l.jsx)(a.DialogContent,{children:(0,l.jsx)(a.DialogContentText,{id:"alert-dialog-description",children:(0,l.jsx)(h,{children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"\u2116"}),(0,l.jsx)("th",{children:"Description"}),(0,l.jsx)("th",{children:"Score"}),(0,l.jsx)("th",{children:"Date"})]})}),(0,l.jsx)("tbody",{children:null==n?void 0:n.map(function(e,n){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:n+1}),(0,l.jsx)("td",{children:(null==e?void 0:e.description)||"-"}),(0,l.jsx)("td",{children:null==e?void 0:e.grade}),(0,l.jsx)("td",{children:c()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")})]},n)})})]})})})}),(0,l.jsx)(a.DialogActions,{children:(0,l.jsx)(o.default,{onClick:r,children:"close"})})]})})},18573:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t("7409"),l=t("99282");t("51532"),t("10072"),t("23042"),t("99137"),t("71957"),t("96306"),t("103"),t("74592"),t("58276"),t("35082"),t("12813"),t("18222"),t("38563"),t("50336"),t("7512"),t("66992"),t("33948"),t("78783"),t("41539"),t("57327"),t("88449"),t("19894"),t("2490"),t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("92222"),t("85827"),t("25387"),t("72608"),t("57658"),t("2707");var i=t("85893");t("67294");var a=t("30381"),o=t.n(a),d=function(e){var n,t=e.data,a=e.day,d=e.time,u=o()();t.firstName,t.lastName;var s=t.subjects,c=new Date,f=new Map,h=[{number:1,hour:"9:00 - 9:50",start:c.setHours(9,0,0),end:c.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:c.setHours(10,0,0),end:c.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:c.setHours(11,0,0),end:c.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:c.setHours(12,0,0),end:c.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:c.setHours(13,0,0),end:c.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:c.setHours(14,0,0),end:c.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:c.setHours(15,0,0),end:c.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:c.setHours(16,0,0),end:c.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:c.setHours(17,0,0),end:c.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:c.setHours(18,0,0),end:c.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:c.setHours(19,0,0),end:c.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:c.setHours(20,0,0),end:c.setHours(20,50,0)}],x=null==s?void 0:null===(n=s.filter(function(e){return(null==e?void 0:e.statistics.length)===0}))||void 0===n?void 0:n.map(function(e){var n=o()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),t=h.find(function(n){return n.number===e.section}).start;return(0,l._)((0,r._)({},e),{date:n,hourStart:o()(t).format("HH:mm")})}).filter(function(e){return o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(u)}),p=null==x?void 0:x.reduce(function(e,n){var t=n.date+n.hourStart;return!f.has(t)&&(f.set(t,!0),e.push(n)),e},[]).sort(function(e,n){var t=o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return o()("".concat(n.date," ").concat(n.hourStart),"DD.MM.YYYY HH:mm").diff(t)});return(0,i.jsx)(i.Fragment,{children:p.map(function(e,n){return o()(new Date(d.getFullYear(),d.getMonth(),a)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?(0,i.jsx)("p",{style:{color:"red"},children:null==e?void 0:e.section},n):""})})}},52483:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t("7409"),l=t("99282");t("51532"),t("10072"),t("23042"),t("99137"),t("71957"),t("96306"),t("103"),t("74592"),t("58276"),t("35082"),t("12813"),t("18222"),t("38563"),t("50336"),t("7512"),t("66992"),t("33948"),t("78783"),t("41539"),t("57327"),t("88449"),t("19894"),t("2490"),t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("92222"),t("85827"),t("25387"),t("72608"),t("57658"),t("2707");var i=t("30381"),a=t.n(i),o=function(e){var n,t=e.data,i=e.day,o=e.time,d=a()();t.firstName,t.lastName;var u=t.subjects,s=new Date,c=new Map,f=[{number:1,hour:"9:00 - 9:50",start:s.setHours(9,0,0),end:s.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:s.setHours(10,0,0),end:s.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:s.setHours(11,0,0),end:s.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:s.setHours(12,0,0),end:s.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:s.setHours(13,0,0),end:s.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:s.setHours(14,0,0),end:s.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:s.setHours(15,0,0),end:s.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:s.setHours(16,0,0),end:s.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:s.setHours(17,0,0),end:s.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:s.setHours(18,0,0),end:s.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:s.setHours(19,0,0),end:s.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:s.setHours(20,0,0),end:s.setHours(20,50,0)}],h=null==u?void 0:null===(n=u.filter(function(e){return(null==e?void 0:e.statistics.length)===0}))||void 0===n?void 0:n.map(function(e){var n=a()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),t=f.find(function(n){return n.number===e.section}).start;return(0,l._)((0,r._)({},e),{date:n,hourStart:a()(t).format("HH:mm")})}).filter(function(e){return a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(d)});return(null==h?void 0:h.reduce(function(e,n){var t=n.date+n.hourStart;return!c.has(t)&&(c.set(t,!0),e.push(n)),e},[]).sort(function(e,n){var t=a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return a()("".concat(n.date," ").concat(n.hourStart),"DD.MM.YYYY HH:mm").diff(t)})).map(function(e){return(console.log((null==e?void 0:e.date)+"/"+(null==e?void 0:e.section),"nb logg"),a()(new Date(o.getFullYear(),o.getMonth(),i)).format("DD.MM.YYYY")===(null==e?void 0:e.date))?null==e?void 0:e.section:""}).filter(function(e){return""!==e})}},2981:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ep}});var r=t("76150"),l=t("7409"),i=t("99282"),a=t("38956"),o=t("58865"),d=t("37098"),u=t("18965");t("69826"),t("31672"),t("59461"),t("2490"),t("41539"),t("92222"),t("21249"),t("57640"),t("9924"),t("70189"),t("88921"),t("96248"),t("13599"),t("27561"),t("11477"),t("64362"),t("15389"),t("90401"),t("3440"),t("45164"),t("66244"),t("91238"),t("89772"),t("54837"),t("88910"),t("87485"),t("56767"),t("76651"),t("61437"),t("35285"),t("63252"),t("39865"),t("17454"),t("66992"),t("33948"),t("78783"),t("85827"),t("25387"),t("72608"),t("57658"),t("57327"),t("88449"),t("19894"),t("2707");var s=t("85893"),c=t("67294"),f=t.n(c),h=t("71893"),x=t("55693"),p=t("32392"),v=t("61261"),m=t("42154"),j=t("44025"),g=t("71632"),b=t("97367"),y=t("79352"),S=t("28685"),_=t("99122"),w=t("50533"),C=t("85478"),D=t("68567"),k=t("27233"),Y=t("30381"),H=t.n(Y),I=t("78258"),M=t("8193"),A=t("29489"),N=t("26118"),T=t("816"),E=t("94718"),F=t("47516"),G=t("49275"),B=t("90199"),R=t("74113"),O=t("89583"),z=t("7104"),L=t("63750"),U=t("3506"),P=t("60023"),W=t("92037"),q=t("58990"),K=t("79535");function V(){var e=(0,o._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return V=function(){return e},e}function Q(){var e=(0,o._)(["\n    margin-left: 15px;\n    color: black;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 20px;\n"]);return Q=function(){return e},e}function X(){var e=(0,o._)(["\n    ","\n"]);return X=function(){return e},e}function Z(){var e=(0,o._)(["\n    ","\n"]);return Z=function(){return e},e}function $(){var e=(0,o._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n"]);return $=function(){return e},e}function J(){var e=(0,o._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return J=function(){return e},e}function ee(){var e=(0,o._)(["\n    background-color: #ffffff;\n    border-radius: 5px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    padding: 25px;\n    ","\n"]);return ee=function(){return e},e}function en(){var e=(0,o._)(["\n    padding: 15px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    ","\n"]);return en=function(){return e},e}function et(){var e=(0,o._)(["\n    padding: 10px;\n"]);return et=function(){return e},e}var er=h.default.div(V(),S.mainColor),el=h.default.div(Q()),ei={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},ea=h.default.div(X(),(0,g.extrasmall)({width:"97% !important"})),eo={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"97%",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24,p:2},ed={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"45%",height:"98vh",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},eu=h.default.div(Z(),(0,g.extrasmall)({width:"98% !important"})),es=h.default.button($(),S.mainColor),ec=h.default.div(J(),function(e){return e.color?e.color:"#000"}),ef=h.default.div(ee(),(0,g.extrasmall)({padding:"10px"})),eh=h.default.div(en(),(0,g.extrasmall)({justifyContent:"center"})),ex=h.default.div(et()),ep=function(){var e,n,t=["ALL","KUNDUZGI_KECHKI","SIRTQI","MAGISTRATURE"],o=(0,a._)((0,c.useState)(t[0]),2),h=o[0],g=o[1],Y=(0,a._)((0,c.useState)(""),2),V=Y[0],Q=Y[1],X=(0,a._)((0,c.useState)(""),2),Z=X[0],$=X[1],J=(0,a._)((0,c.useState)(!1),2),ee=J[0],en=J[1],et=(0,a._)((0,c.useState)(!1),2),ep=et[0],ev=et[1],em=(0,a._)((0,c.useState)(!1),2),ej=em[0],eg=em[1],eb=(0,a._)((0,c.useState)(!1),2),ey=eb[0],eS=eb[1],e_=(0,a._)((0,c.useState)({}),2),ew=e_[0],eC=e_[1],eD=(0,a._)((0,c.useState)([]),2),ek=eD[0],eY=eD[1],eH=(0,a._)((0,c.useState)({id:null,grade:null}),2),eI=eH[0],eM=eH[1],eA=(0,S.getHeaders)().headers,eN=(0,a._)((0,c.useState)([]),2),eT=eN[0],eE=eN[1],eF=(0,a._)((0,c.useState)([]),2),eG=eF[0],eB=eF[1],eR=(0,a._)((0,c.useState)([]),2),eO=eR[0],ez=eR[1],eL=(0,w.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.user})||null,eU=(0,w.useSelector)(function(e){var n;return null==e?void 0:null===(n=e.educationYear)||void 0===n?void 0:n.educationYear})||null,eP=(0,w.useDispatch)(),eW=(0,a._)((0,c.useState)([]),2),eq=eW[0],eK=eW[1],eV=(0,a._)((0,c.useState)(!1),2),eQ=eV[0],eX=eV[1],eZ=(0,a._)((0,c.useState)(!1),2),e$=eZ[0],eJ=eZ[1],e0=(0,a._)((0,c.useState)(null),2),e1=e0[0],e2=e0[1],e5=(0,a._)((0,c.useState)(!1),2),e8=e5[0],e9=e5[1],e3=(0,a._)((0,c.useState)(!1),2),e7=e3[0],e4=e3[1],e6=(0,a._)((0,c.useState)(!1),2),ne=e6[0],nn=e6[1],nt=(0,a._)((0,c.useState)(!1),2),nr=nt[0],nl=nt[1],ni=(0,a._)((0,c.useState)(!1),2),na=ni[0],no=ni[1],nd=(0,a._)((0,c.useState)(!1),2),nu=nd[0],ns=nd[1],nc=(0,a._)((0,c.useState)("fullNames"),2),nf=nc[0],nh=nc[1],nx=(0,a._)((0,c.useState)(!1),2),np=nx[0],nv=nx[1],nm=(0,a._)(f().useState(null),2),nj=nm[0],ng=nm[1],nb=!!nj,ny=(0,a._)((0,c.useState)(null),2),nS=ny[0],n_=ny[1],nw=function(e,n,t){var r=H()().year(e).isoWeek(n).day(t);return r.isValid?r.format("DD.MM.YYYY"):"Invalid Date"};var nC=(e=(0,r._)(function(){return(0,u._)(this,function(e){switch(e.label){case 0:return[4,k.default.get(S.BASE_URL+"/education/educationYearsForSelected",{headers:eA}).then(function(e){var n,t,r;ez(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj),eP((0,C.fetchEducationYear)(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(t=r.obj)||void 0===t?void 0:t[0]))}).catch(function(e){console.log(e)})];case 1:return e.sent(),[2]}})}),function(){return e.apply(this,arguments)});(0,c.useEffect)(function(){nC(),nD()},[]);var nD=(n=(0,r._)(function(){var e;return(0,u._)(this,function(n){switch(n.label){case 0:if(!(e=eU&&(null==eU?void 0:eU.id)))return[3,2];return[4,k.default.get("".concat(S.BASE_URL,"/groupConnect/subjectsOfTeacher/").concat(null==eL?void 0:eL.id,"?educationId=").concat(null==eU?void 0:eU.id)).then(function(e){var n,t,r;eE(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj),Q(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(t=r.obj[0])||void 0===t?void 0:t.name)}).catch(function(e){console.log(e)})];case 1:e=n.sent(),n.label=2;case 2:return[2]}})}),function(){return n.apply(this,arguments)});(0,c.useEffect)(function(){var e;$(""),V&&k.default.get("".concat(S.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(null==eL?void 0:eL.id,"?educationId=").concat(null==eU?void 0:eU.id,"&subjectId=").concat(null==eT?void 0:null===(e=eT.find(function(e){return(null==e?void 0:e.name)===V}))||void 0===e?void 0:e.id,"&eduType=").concat(h)).then(function(e){var n;eB(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e,"error getting")})},[V,h]);var nk=function(){if(""!==Z){var e,n,t,r;np?(eJ(!0),k.default.get("".concat(S.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==eU?void 0:eU.id,"/").concat(null==eG?void 0:null===(t=eG.find(function(e){return(null==e?void 0:e.name)===Z}))||void 0===t?void 0:t.id,"?subjectId=").concat(null==eT?void 0:null===(r=eT.find(function(e){return(null==e?void 0:e.name)===V}))||void 0===r?void 0:r.id),{headers:eA}).then(function(e){var n,t,r=null===(n=e.data[0][0])||void 0===n?void 0:n.students.map(function(e){var n=new Set,t=null==e?void 0:e.subjects.reduce(function(e,t){var r="".concat(t.day,"-").concat(t.week,"-").concat(t.year,"-").concat(t.section);return!n.has(r)&&(n.add(r),e.push(t)),e},[]).filter(function(e){return 0===e.statistics.length}).map(function(e){if(H()(nw(e.year,e.week,e.day),"DD.MM.YYYY").isSameOrBefore(H()(),"day"))return e}).filter(Boolean).length;return(0,i._)((0,l._)({},e),{subjectNb:t})});eK(r),console.log(r,"fffff"),n_(null===(t=e.data[0][0])||void 0===t?void 0:t.maxStep),eJ(!1)}).catch(function(e){console.log(e),eJ(!1)})):(eX(!0),k.default.get("".concat(S.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacherForTodayWithMax/").concat(null==eU?void 0:eU.id,"/").concat(null==eG?void 0:null===(e=eG.find(function(e){return(null==e?void 0:e.name)===Z}))||void 0===e?void 0:e.id,"?subjectId=").concat(null==eT?void 0:null===(n=eT.find(function(e){return(null==e?void 0:e.name)===V}))||void 0===n?void 0:n.id,"&year=").concat(H()(new Date).year(),"&week=").concat(H()(new Date).week(),"&day=").concat(H()(new Date).day()),{headers:eA}).then(function(e){var n,t,r;eK(null===(n=e.data)||void 0===n?void 0:n[0][0].students),n_(null===(r=e.data)||void 0===r?void 0:null===(t=r[0][0])||void 0===t?void 0:t.maxStep),eX(!1)}).catch(function(e){console.log(e),eX(!1)}))}};(0,c.useEffect)(function(){nk()},[Z,e7,np]),(0,c.useEffect)(function(){nD()},[eU]),(0,c.useEffect)(function(){eT&&Q(null==eT?void 0:eT[0])},[eT]);var nY=function(e){eC(e),en(!0)},nH=function(){return ev(!1)},nI=function(){return eg(!1)},nM=function(){return eS(!1)},nA=function(e){eg(!0),e2(e)},nN=function(e,n){e9(!0),eY((0,i._)((0,l._)({},e),{alph:n}))},nT=function(e){eY(e)};(0,c.useEffect)(function(){null!==ek&&e7&&nn(!0)},[ek]),(0,c.useEffect)(function(){ne||eY(null)},[ne]),(0,c.useEffect)(function(){e4(e7),nv(np)},[]);var nE=function(){return en(!1)},nF=function(e){var n=[{alph:"A+",Min:95,Max:100},{alph:"A",Min:90,Max:94},{alph:"B+",Min:85,Max:89},{alph:"B",Min:80,Max:84},{alph:"C+",Min:75,Max:79},{alph:"C",Min:70,Max:74},{alph:"D+",Min:65,Max:69},{alph:"D",Min:60,Max:64},{alph:"F",Min:0,Max:59},{alph:"FA",Min:0,Max:0}];return 0!==e?n.find(function(n){return n.Min<=e}):n.find(function(n){return n.Min<=e&&n.Max<=e})};return(0,c.useEffect)(function(){console.log(eI," today grade"),(null==eI?void 0:eI.id)&&(null==eI?void 0:eI.grade)&&eK((0,d._)(null==eq?void 0:eq.filter(function(e){return(null==e?void 0:e.studentId)!==(null==eI?void 0:eI.id)})).concat([(0,i._)((0,l._)({},null==eq?void 0:eq.find(function(e){return(null==e?void 0:e.studentId)===(null==eI?void 0:eI.id)})),{todayGrade:null==eI?void 0:eI.grade})]))},[eI]),(0,s.jsxs)(ex,{children:[e8&&(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"end"},children:(0,s.jsx)(E.default,{onClick:function(){return e9(!1)},variant:"outlined",startIcon:(0,s.jsx)(F.BiArrowBack,{}),children:"Back"})}),(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"30px"},children:(0,s.jsxs)(eh,{children:[(0,s.jsx)(x.default,{sx:{minWidth:180,background:"#fff"},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{htmlFor:"semestr",children:"O'quv yilli"}),(0,s.jsx)(j.default,{labelId:"semestr",id:"demo-simple-select",value:null==eU?void 0:eU.name,onChange:function(e){e.target.value!==(null==eU?void 0:eU.name)&&eP((0,D.educationYearStatisticsFetching)()),eP((0,C.fetchEducationYear)(null==eO?void 0:eO.find(function(n){return(null==n?void 0:n.name)===e.target.value})))},label:"O'quv yili",disabled:e8,children:null==eO?void 0:eO.map(function(e,n){return(0,s.jsx)(v.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]})}),(0,s.jsx)(x.default,{sx:{width:200},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{id:"fanselect",children:"Fan"}),(0,s.jsx)(j.default,{labelId:"fanselect",id:"demo-simple-select2",value:V,label:"Fan",onChange:function(e){Q(e.target.value)},disabled:e8,children:null==eT?void 0:eT.map(function(e,n){return(0,s.jsx)(v.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]})}),(0,s.jsx)(x.default,{sx:{width:200},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{id:"demo-simple-select-label",children:"Education type"}),(0,s.jsx)(j.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,label:"Education type",onChange:function(e){return g(e.target.value)},disabled:e8,children:null==t?void 0:t.map(function(e,n){return(0,s.jsx)(v.default,{value:e,children:e},n)})})]})}),(0,s.jsx)(x.default,{sx:{width:200},children:(0,s.jsxs)(m.default,{fullWidth:!0,children:[(0,s.jsx)(p.default,{id:"demo-simple-select-label1",children:"Group"}),(0,s.jsx)(j.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:Z,label:"Group",onChange:function(e){$(e.target.value),nv(!1)},disabled:e8,children:null==eG?void 0:eG.map(function(e,n){return(0,s.jsx)(v.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id)})})]})})]})}),e8?(0,s.jsx)(ef,{children:(0,s.jsx)(_.default,{oneSciencesScore:ek,maxStep:nS,groupSelect:Z,fetchCoreDataStudents:nk})}):(0,s.jsxs)(ef,{children:[(0,s.jsxs)(el,{children:[(0,s.jsxs)("h4",{children:["Group: ",Z]}),(0,s.jsx)(U.default,{title:"Settings",children:(0,s.jsx)(R.default,{onClick:function(e){ng(e.currentTarget)},size:"medium",sx:{ml:2},"aria-controls":nb?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":nb?"true":void 0,children:(0,s.jsx)(L.BsThreeDotsVertical,{})})})]}),(0,s.jsxs)(er,{children:[(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"\u2116"}),(0,s.jsx)("th",{children:(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Full name"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){nl(function(e){return!e}),nh("fullNames")},children:nr?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]})}),np&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("th",{children:"Today"}),(0,s.jsx)("th",{children:(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Attendance"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){ns(function(e){return!e}),nh("attendance")},children:nu?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]})})]}),(0,s.jsx)("th",{children:e7?(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Evaluate"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){no(function(e){return!e}),nh("evaluate")},children:na?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]}):(0,s.jsxs)(x.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)("p",{children:"Score"}),(0,s.jsx)(R.default,{size:"small",onClick:function(){no(function(e){return!e}),nh("score")},children:na?(0,s.jsx)(O.FaSortUp,{}):(0,s.jsx)(O.FaSortDown,{})})]})}),(0,s.jsx)("th",{children:"Info"})]})}),(0,s.jsx)("tbody",{children:!eQ&&(null==eq?void 0:eq.sort(function(e,n){if("fullNames"===nf){if(nr){if(nr)return e.fullName<n.fullName?1:e.fullName>n.fullName?-1:0}else return e.fullName>n.fullName?1:e.fullName<n.fullName?-1:0}if("attendance"===nf){if(nu){if(nu)return e.subjectNb<n.subjectNb?1:e.subjectNb>n.subjectNb?-1:0}else return e.subjectNb>n.subjectNb?1:e.subjectNb<n.subjectNb?-1:0}if("score"===nf){if(na){if(na)return e.middleGrade<n.middleGrade?1:e.middleGrade>n.middleGrade?-1:0}else return e.middleGrade>n.middleGrade?1:e.middleGrade<n.middleGrade?-1:0}if("evaluate"===nf){if(na){if(na)return e.todayGrade<n.todayGrade?1:e.todayGrade>n.todayGrade?-1:0}else return e.todayGrade>n.todayGrade?1:e.todayGrade<n.todayGrade?-1:0}}).map(function(e,n){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center"},children:n+1}),(0,s.jsx)("td",{children:null==e?void 0:e.fullName}),np&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{children:(0,s.jsx)(N.default,{data:null==e?void 0:e.subjects})}),(0,s.jsx)("td",{children:e$?(0,s.jsx)(z.Skeleton,{sx:{margin:"0 auto"},width:100,height:50}):(0,s.jsx)(ec,{onClick:function(){return nY(e)},children:null==e?void 0:e.subjectNb})})]}),e7?(0,s.jsx)("td",{children:(0,s.jsx)(ec,{onClick:function(){return nT(e)},children:null!==e.todayGrade?(null==e?void 0:e.todayGrade).toFixed(2):0})}):(0,s.jsx)("td",{children:(0,s.jsx)(ec,{onClick:function(){return nN(e,nF(null!==e.middleGrade?e.middleGrade:0).alph)},children:null!==e.sumGrade?e.sumGrade.toFixed(2):0})}),(0,s.jsx)("td",{children:(0,s.jsx)(ec,{onClick:function(){return nA(e)},children:(0,s.jsx)(M.AiFillInfoCircle,{})})})]},n)}))})]}),eQ&&(0,s.jsx)(x.default,{sx:{width:"100%",marginTop:"20px"},children:(0,s.jsx)(I.default,{})}),0===eq.length&&(0,s.jsx)(B.default,{w:200,h:180})]})]}),(0,s.jsxs)(z.Menu,{anchorEl:nj,id:"account-menu",open:nb,onClose:function(){ng(null)},PaperProps:{elevation:0,sx:{p:1,width:"225px",overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,s.jsxs)(z.FormGroup,{children:[(0,s.jsx)(W.default,{control:(0,s.jsx)(P.default,{checked:e7,onChange:function(e){e4(e.target.checked)}}),label:"Evaluate only today"}),(0,s.jsx)(W.default,{control:(0,s.jsx)(P.default,{checked:np,onChange:function(e){nv(e.target.checked)}}),label:"Show attendance"})]}),eq.length>0&&(0,s.jsxs)(x.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",gap:"10px",mt:"10px"},children:[(0,s.jsx)(E.default,{onClick:function(){eS(!0)},sx:{width:"100%"},variant:"outlined",children:"all attendance "}),(0,s.jsx)(K.default,{educationYear:eU,content:eq,groupName:Z,subjectName:V,maxStep:nS})]})]}),(0,s.jsx)(b.default,{open:ee,onClose:nE,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(x.default,{sx:ei,component:ea,children:[(0,s.jsx)(es,{onClick:nE,children:(0,s.jsx)(y.RiCloseLine,{})}),(0,s.jsx)(A.default,{data:ew})]})}),(0,s.jsx)(b.default,{open:ep,onClose:nH,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(x.default,{sx:ed,component:eu,children:[(0,s.jsx)(es,{onClick:nH,children:(0,s.jsx)(y.RiCloseLine,{})}),(0,s.jsx)(_.default,{oneSciencesScore:ek,setOpen2:ev})]})}),(0,s.jsx)(G.default,{setTodayGrade:eM,openEvaluateToday:ne,setOpenEvaluateToday:nn,oneSciencesScore:ek}),(0,s.jsx)(b.default,{open:ej,onClose:nI,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsxs)(x.default,{sx:ei,component:ea,children:[(0,s.jsx)(es,{onClick:nI,children:(0,s.jsx)(y.RiCloseLine,{})}),(0,s.jsx)(T.default,{studentData:e1})]})}),(0,s.jsx)(b.default,{open:ey,onClose:nM,children:(0,s.jsxs)(x.default,{sx:eo,component:ea,children:[(0,s.jsx)(x.default,{sx:{display:"flex",justifyContent:"end"},onClick:nM,children:(0,s.jsx)(R.default,{children:(0,s.jsx)(y.RiCloseLine,{})})}),(0,s.jsx)(q.default,{groups:eG,lessons:eT,groupSelect:Z,scien:V})]})})]})}},26118:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var r=t("58865");t("21249"),t("57640"),t("9924"),t("57327"),t("88449"),t("19894"),t("2490"),t("41539");var l=t("85893");t("67294");var i=t("71893"),a=t("8193");function o(){var e=(0,r._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return o=function(){return e},e}var d=i.default.div(o(),function(e){return e.color?e.color:"#000"}),u=function(e){var n,t,r=e.data,i=null==r?void 0:r.map(function(e){return null==e?void 0:e.time});return(0,l.jsx)("div",{children:(0,l.jsx)(d,{color:(null==i?void 0:null===(n=i.filter(function(e){return null!==e}))||void 0===n?void 0:n.length)===0?"red":"green",children:(null==i?void 0:null===(t=i.filter(function(e){return null!==e}))||void 0===t?void 0:t.length)===0?(0,l.jsx)(a.AiFillCloseCircle,{}):(0,l.jsx)(a.AiFillCheckCircle,{})})})}},29489:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t("7409"),l=t("99282"),i=t("58865");t("51532"),t("10072"),t("23042"),t("99137"),t("71957"),t("96306"),t("103"),t("74592"),t("58276"),t("35082"),t("12813"),t("18222"),t("38563"),t("50336"),t("7512"),t("66992"),t("33948"),t("78783"),t("41539"),t("57327"),t("88449"),t("19894"),t("2490"),t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("92222"),t("85827"),t("25387"),t("72608"),t("57658"),t("2707");var a=t("85893");t("67294");var o=t("71893"),d=t("28685"),u=t("30381"),s=t.n(u);function c(){var e=(0,i._)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"]);return c=function(){return e},e}function f(){var e=(0,i._)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return f=function(){return e},e}function h(){var e=(0,i._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return h=function(){return e},e}function x(){var e=(0,i._)(["\n"]);return x=function(){return e},e}var p=o.default.div(c(),function(e){return e.jsc},function(e){return e.bg}),v=o.default.div(f()),m=o.default.div(h(),d.mainColor),j=o.default.div(x()),g=function(e){var n,t=e.data,i=t.subjects,o=t.fullName,d=new Date,u=new Map,c=[{number:1,hour:"9:00 - 9:50",start:d.setHours(9,0,0),end:d.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:d.setHours(10,0,0),end:d.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:d.setHours(11,0,0),end:d.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:d.setHours(12,0,0),end:d.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:d.setHours(13,0,0),end:d.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:d.setHours(14,0,0),end:d.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:d.setHours(15,0,0),end:d.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:d.setHours(16,0,0),end:d.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:d.setHours(17,0,0),end:d.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:d.setHours(18,0,0),end:d.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:d.setHours(19,0,0),end:d.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:d.setHours(20,0,0),end:d.setHours(20,50,0)}],f=null==i?void 0:null===(n=i.filter(function(e){return(null==e?void 0:e.statistics.length)===0}))||void 0===n?void 0:n.map(function(e){var n=s()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),t=c.find(function(n){return n.number===e.section}).start;return(0,l._)((0,r._)({},e),{date:n,hourStart:s()(t).format("HH:mm")})}).filter(function(e){return s()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(s()(),"minute")}),h=null==f?void 0:f.reduce(function(e,n){var t=n.date+n.hourStart;return!u.has(t)&&(u.set(t,!0),e.push(n)),e},[]).sort(function(e,n){var t=s()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return s()("".concat(n.date," ").concat(n.hourStart),"DD.MM.YYYY HH:mm").diff(t)});return(0,a.jsxs)(j,{children:[(0,a.jsx)(m,{children:o}),(0,a.jsx)(v,{children:(null==h?void 0:h.length)>0?null==h?void 0:h.map(function(e,n){return(0,a.jsxs)(p,{bg:"red",jsc:"space-between",children:[(0,a.jsx)("p",{children:e.date}),(0,a.jsxs)("p",{children:[e.section," - para"]})]},n)}):(0,a.jsx)(p,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})}},816:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var r=t("76150"),l=t("38956"),i=t("58865"),a=t("18965");t("92222"),t("21249"),t("57640"),t("9924"),t("82772");var o=t("85893"),d=t("67294"),u=t("85466"),s=t("87980"),c=t("43927"),f=t("89589"),h=t("23508"),x=t("71893"),p=t("28685"),v=t("30381"),m=t.n(v),j=t("90199"),g=t("27233");function b(){var e=(0,i._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return b=function(){return e},e}function y(){var e=(0,i._)(["\n  text-align: center;\n  border: 1px solid silver;\n  padding: 5px;\n"]);return y=function(){return e},e}function S(){var e=(0,i._)(["\n  margin-top: 50px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return S=function(){return e},e}function _(){var e=(0,i._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return _=function(){return e},e}function w(){var e=(0,i._)(["\n"]);return w=function(){return e},e}var C=x.default.div(b()),D=x.default.div(y()),k=x.default.div(S()),Y=x.default.div(_(),p.mainColor),H=x.default.div(w()),I=function(e){var n,t,i,x=e.studentData,v=x.firstName,b=x.lastName,y=x.studentId,S=x.subjectId,_=x.groupId,w=x.educationId,I=(0,l._)((0,d.useState)([]),2),M=I[0],A=I[1],N=(0,l._)((0,d.useState)(!1),2),T=N[0],E=N[1],F=(0,p.getHeaders)().headers;var G=(n=(0,r._)(function(){return(0,a._)(this,function(e){switch(e.label){case 0:return[4,g.default.get("".concat(p.BASE_URL,"/downloadCounter/getDownloadCountOfOneStudent/").concat(w,"?groupId=").concat(_,"&subjectId=").concat(S,"&studentId=").concat(y),{headers:F}).then(function(e){var n;console.log(null==e?void 0:e.data,"response"),A(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e)})];case 1:return e.sent(),[2]}})}),function(){return n.apply(this,arguments)});return(0,d.useEffect)(function(){G()},[]),(0,o.jsxs)(H,{children:[(0,o.jsx)(Y,{children:b+" "+v}),(0,o.jsx)(k,{children:null===(i=M[0])||void 0===i?void 0:null===(t=i.lines)||void 0===t?void 0:t.map(function(e,n){var t;return(0,o.jsxs)(u.default,{expanded:T===n,onChange:(t=n,function(e,n){E(!!n&&t)}),children:[(0,o.jsx)(c.default,{expandIcon:(0,o.jsx)(h.default,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,o.jsx)(f.default,{sx:{color:"".concat(p.mainColor),fontWeight:"bold"},children:e.queue+"-Mavzu: "+e.themeName})}),(0,o.jsxs)(s.default,{children:[(0,o.jsxs)(C,{children:[(0,o.jsx)(D,{children:(0,o.jsx)("b",{children:"File name "})}),(0,o.jsx)(D,{children:(0,o.jsx)("b",{children:"Number of downloads"})}),(0,o.jsx)(D,{children:(0,o.jsx)("b",{children:"last download time "})})]}),e.counter.length>0?e.counter.map(function(e,n){return(0,o.jsxs)(C,{children:[(0,o.jsx)(D,{children:(0,o.jsxs)("p",{children:[" ",e.fileName.substring(0,e.fileName.indexOf("_"))]})}),(0,o.jsx)(D,{children:(0,o.jsxs)("p",{children:[e.count," "]})}),(0,o.jsx)(D,{children:(0,o.jsxs)("p",{children:[m()(e.lastDownloadTime).format("DD.MM.YYYY HH:MM")," "]})})]},n)}):(0,o.jsx)(j.default,{w:"140",h:"120"})]})]},n)})})]})}},41087:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t("76150"),l=t("38956"),i=t("58865"),a=t("18965");t("54678"),t("4723"),t("74916"),t("15306"),t("23123"),t("73210"),t("92222"),t("47042"),t("21249"),t("57640"),t("9924");var o=t("85893"),d=t("67294"),u=t("89258"),s=t("71893"),c=t("94718"),f=t("7701"),h=t("5434"),x=t("49492");function p(){var e=(0,i._)(["\n    width: 700px;\n    margin: 0 auto;\n    font-size: 14px;\n    padding: 10px;\n    color: black;\n    line-height: 1.7;\n\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    table, td, th {\n        border: 1px solid;\n        padding: 6px;\n    }\n\n    th {\n        text-align: center;\n    }\n"]);return p=function(){return e},e}var v=s.default.div(p()),m=(0,d.memo)(function(e){var n,t,i,s=e.educationYear,p=e.teacherData,m=e.dataOfLeaders,j=e.content,g=e.groupName,b=e.subjectName,y=e.maxStep,S=function(e,n){return e&&"number"==typeof e.sumGrade?parseFloat(Math.ceil(e.sumGrade)):(console.error("Invalid item or item.sumGrade:",e),0)},_=(0,d.useRef)(null),w=(0,l._)((0,d.useState)(!1),2),C=w[0],D=w[1],k=null==s?void 0:null===(t=s.name)||void 0===t?void 0:t.match(/\d{4}-\d{4}/),Y=k?k[0].replace("-","/"):null,H=null==s?void 0:null===(i=s.name)||void 0===i?void 0:i.match(/\d+-sem/),I=H?H[0].split("-")[0]:null,M=null==m?void 0:m.direction.match(/\)([^)]+)$/),A=M?M[1].trim():null;var N=(n=(0,r._)(function(){var e,n;return(0,a._)(this,function(t){switch(t.label){case 0:return D(!0),e=_.current,n={margin:10,filename:"statement-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},[4,(0,x.default)().set(n).from(e).save()];case 1:return t.sent(),D(!1),[2]}})}),function(){return n.apply(this,arguments)});return(0,o.jsxs)(o.Fragment,{children:[C?(0,o.jsx)(c.default,{size:"small",variant:"outlined",endIcon:(0,o.jsx)(f.default,{size:18}),children:"download"}):(0,o.jsx)(c.default,{size:"small",variant:"contained",endIcon:(0,o.jsx)(h.MdOutlineFileDownload,{size:22}),onClick:N,children:"statement pdf"}),(0,o.jsx)("div",{style:{display:"none"},children:(0,o.jsxs)(v,{ref:_,children:[(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("div",{children:(0,o.jsx)("img",{width:130,src:u,alt:"logo"})}),(0,o.jsx)("div",{children:(0,o.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,o.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]})})]}),(0,o.jsxs)("div",{style:{textAlign:"center",margin:"10px 0"},children:[(0,o.jsxs)("b",{children:[" ","<<",A,">>"," ",(0,o.jsx)("br",{}),Y," ACADEMIC YEAR ",(0,o.jsx)("br",{})]}),(0,o.jsxs)("b",{children:[" STATEMENT OF RATING \u2116 ",(0,o.jsx)("span",{style:{width:80,borderBottom:"1px solid #000"},children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"})]})]}),(0,o.jsx)("div",{style:{margin:"10px 0"},children:(0,o.jsxs)("p",{children:["Discipline: ",(0,o.jsx)("b",{children:b})]})}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[(0,o.jsxs)("p",{children:["Course: ",(0,o.jsx)("b",{children:null==m?void 0:m.course})]}),(0,o.jsxs)("p",{children:["Semester:",(0,o.jsx)("b",{children:I})]}),(0,o.jsxs)("p",{children:["Group: ",(0,o.jsx)("b",{children:g})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"10px 0"},children:[(0,o.jsxs)("p",{children:["Number of credits: ",(0,o.jsx)("b",{children:"2"})]}),(0,o.jsxs)("p",{children:["Hours: ",(0,o.jsx)("b",{})]})]}),(0,o.jsxs)("table",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\u2116"}),(0,o.jsx)("th",{children:"STUDENTS NAMES"}),(0,o.jsx)("th",{children:"ID number"}),(0,o.jsx)("th",{children:"CC"})]}),null==j?void 0:j.slice(0,18).map(function(e,n){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:n+1})}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:null==e?void 0:e.userId})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:S(e,y)})})]},n)})]}),(0,o.jsx)("br",{}),(0,o.jsx)("table",{children:null==j?void 0:j.slice(18).map(function(e,n){var t;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:n+(null==j?void 0:null===(t=j.slice(0,18))||void 0===t?void 0:t.length)+1})}),(0,o.jsx)("td",{children:(0,o.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:null==e?void 0:e.userId})}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("p",{children:S(e,y)})})]},n)})}),(0,o.jsx)("p",{children:"CC-Current Control"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Teacher:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:p.fullName})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Head of Department:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:null==m?void 0:m.headOfDepartment})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Course Leader:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:null==m?void 0:m.courseLeader})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,o.jsx)("b",{children:"Head of Academic Affairs      Department:"}),(0,o.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:null==m?void 0:m.headOfAcademicAffair})]})]})})]})})}}]);