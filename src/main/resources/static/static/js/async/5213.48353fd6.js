/*! For license information please see 5213.48353fd6.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5213"],{69923:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("57658"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("55693"),r=n("94718"),o=n("45155"),s=n("30381"),c=n.n(s),u=n("71893"),h=n("16393"),x=n("37595"),f=n("50533"),p=n("19092"),m=n("78258"),v=n("45201"),j=n("60141"),g=n("92690");function b(){let e=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow: scroll;\n    height: 64vh;\n\n    table {\n        min-width: 1500px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return b=function(){return e},e}let y=u.default.div(b(),h.mainColor),S={border:"none",outline:"none",background:"transparent"},w={width:"40px!important",height:"40px!important",fontSize:"24px"};t.default=(0,d.memo)(function(e){var t,n;let{groups:l,lessons:s,groupSelect:u,scien:b}=e,{headers:C}=(0,h.getHeaders)(),[k,D]=(0,d.useState)(new Date),[I,Y]=(0,d.useState)([]),A=(0,f.useDispatch)(),[H,M]=(0,d.useState)(!1),E=(0,f.useSelector)(e=>{var t;return null==e?void 0:(t=e.educationYear)===null||void 0===t?void 0:t.educationYear})||null,T=(0,f.useSelector)(e=>e.AllNbStudentForTeacher.data),F=(0,f.useSelector)(e=>e.AllNbStudentForTeacher.isLoading);(0,f.useSelector)(e=>e.AllNbStudentForTeacher.isError);let[_,N]=(0,d.useState)(null),G=null==s?void 0:(t=s.find(e=>(null==e?void 0:e.name)===b))===null||void 0===t?void 0:t.id,R=null==l?void 0:(n=l.find(e=>(null==e?void 0:e.name)===u))===null||void 0===n?void 0:n.id,z=()=>{M(!0)};return(0,d.useEffect)(()=>{Y(()=>Array.from(Array(c()(k).daysInMonth()).keys()).map(e=>e+1))},[k]),(0,d.useEffect)(()=>{A((0,g.getAllStudentData)({eduId:null==E?void 0:E.id,groupId:R,subjectId:G}))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{sx:{display:"flex",justifyContent:"center"},children:(0,a.jsxs)(r.default,{sx:{display:"flex",justifyContent:"center",gap:1,alignItems:"center",backgroundColor:"#fcfafa"},children:[(0,a.jsx)("div",{style:w,onClick:()=>{D(new Date(k.getFullYear(),k.getMonth()-1))},children:(0,a.jsx)(o.GrFormPrevious,{})}),(0,a.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:c()(k).format("YYYY-MM"),onChange:e=>D(new Date(e.target.value)),style:S,lang:"en"}),(0,a.jsx)("div",{style:w,onClick:()=>{D(new Date(k.getFullYear(),k.getMonth()+1))},children:(0,a.jsx)(o.GrFormNext,{})})]})}),(0,a.jsxs)(y,{children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:(0,a.jsx)("p",{children:"Full name"})}),I.map(e=>(0,a.jsx)("th",{children:e},e)),(0,a.jsx)("th",{children:"\u2211"})]})}),(0,a.jsx)("tbody",{children:!F&&(null==T?void 0:T.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,a.jsx)("td",{children:null==e?void 0:e.fullName}),I.map((t,n)=>new Date(k.getFullYear(),k.getMonth(),t)<=new Date?(0,a.jsx)(p.default,{openModal:z,setDataForAttendance:N,data:e,day:t,time:k},n):(0,a.jsx)("td",{},n)),(0,a.jsx)("td",{children:null==e?void 0:e.subjectNb})]},t)))})]}),F&&(0,a.jsx)(i.default,{sx:{width:"100%",marginTop:"20px"},children:(0,a.jsx)(m.default,{})})]}),(0,a.jsx)(i.default,{sx:{mt:"10px",display:"flex",justifyContent:"end"},children:(0,a.jsx)(r.default,{onClick:()=>{let e=[],t=["\u2116","Full name",...I,"total"];e.push(t),T.map((t,n)=>{let l=[n+1,t.fullName,...I.map(e=>{var n;return new Date(k.getFullYear(),k.getMonth(),e)<=new Date?Array.isArray(n=(0,v.default)({data:t,day:e,time:k}))?n.join(","):"":""}),null==t?void 0:t.subjectNb];e.push(l)});let n=x.utils.book_new(),l=x.utils.aoa_to_sheet(e);x.utils.book_append_sheet(n,l,"StudentsData"),x.writeFile(n,"students_data.xlsx")},variant:"contained",children:"Export"})}),(0,a.jsx)(j.default,{open:H,handleCloseModal:()=>{M(!1),N(null)},dataForAttendance:_,eduId:null==E?void 0:E.id,subjectId:G,groupId:R})]})})},49018:function(e,t,n){"use strict";n.r(t),n("33948"),n("33792"),n("88449"),n("19894"),n("2490"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("94718"),o=n("55693"),s=n("51649"),c=n("70231"),u=n("30381"),h=n.n(u),x=n("72132"),f=n("27233"),p=n("16393"),m=n("42154"),v=n("32392"),j=n("44025"),g=n("61261"),b=n("52861"),y=n("73871"),S=n("1190"),w=n("96413"),C=n("15352"),k=n("92037");let D=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"down",ref:t,...e})});t.default=(0,a.memo)(e=>{let{open:t,handleClose:n,data2:d,allStudentId:u,data3:I}=e,[Y,A]=(0,a.useState)(null),[H,M]=(0,a.useState)([]),[E,T]=(0,a.useState)(""),{headers:F}=(0,p.getHeaders)(),[_,N]=(0,a.useState)(null),[G,R]=(0,a.useState)(!1),[z,B]=(0,a.useState)(!0),L=(e,t,n,l,a,i)=>{f.default.get("".concat(p.BASE_URL,"/groupConnect/getSectionsAndRooms/").concat(e,"/").concat(t,"?subjectId=").concat(n,"&year=").concat(l,"&week=").concat(a,"&day=").concat(i),{headers:F}).then(e=>{M(e.data[0]),T(d.roomAndSection),B(0!==I.flat().filter(e=>"".concat(e.room,";").concat(e.section)===d.roomAndSection&&e.statistics.length>0).length)}).catch(e=>{M([])})},O=()=>{n(),A(null),T(""),N(null),M([])};return(0,a.useEffect)(()=>{d&&N(h()())},[d]),(0,a.useEffect)(()=>{_&&L(d.educationId,d.groupId,d.subjectId,_.year(),_.week(),_.day())},[_]),(0,l.jsxs)(i.Dialog,{open:t,TransitionComponent:D,keepMounted:!0,onClose:O,children:[(0,l.jsxs)(i.DialogTitle,{sx:{pb:0},children:["Attendance ",_&&_.format("- DD.MM.YYYY")]}),(0,l.jsxs)(i.DialogContent,{sx:{width:320},children:[(0,l.jsx)(y.LocalizationProvider,{dateAdapter:w.AdapterMoment,adapterLocale:"en",children:(0,l.jsx)(S.DatePicker,{inputFormat:"DD.MM.YYYY",readOnly:!0,maxDate:h()(),minDate:h()().subtract(2,"days"),value:_,onChange:e=>{N(e)},renderInput:e=>(0,l.jsx)(b.default,{...e,size:"small",sx:{width:"100%",mt:"20px"},label:"Date"})})}),(0,l.jsxs)(m.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,l.jsx)(v.default,{id:"demo-simple-select-label",children:"Section"}),(0,l.jsx)(j.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,readOnly:!0,label:"Section",onChange:e=>T(e.target.value),children:null==H?void 0:H.map((e,t)=>(0,l.jsxs)(g.default,{value:(null==e?void 0:e.room)+";"+(null==e?void 0:e.section),children:[null==e?void 0:e.room,"; ",null==e?void 0:e.section,"-section"]},t))})]}),(0,l.jsxs)(o.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:3},children:[(0,l.jsx)(r.default,{onClick:()=>A(!1),variant:null==Y?"outlined":Y?"outlined":"contained",color:"error",children:(0,l.jsx)(s.IoMdClose,{size:25})}),(0,l.jsx)(r.default,{onClick:()=>A(!0),variant:null==Y?"outlined":Y?"contained":"outlined",color:"success",children:(0,l.jsx)(c.FaCheck,{size:25})})]}),z?"":(0,l.jsx)(o.default,{sx:{display:"flex",justifyContent:"start",mt:2},children:(0,l.jsx)(k.default,{control:(0,l.jsx)(C.default,{checked:G,onChange:e=>R(e.target.checked),size:"medium"}),label:"All students",labelPlacement:"end"})})]}),(0,l.jsxs)(i.DialogActions,{children:[(0,l.jsx)(r.default,{variant:"outlined",onClick:O,children:"cancel"}),(0,l.jsx)(r.default,{variant:"contained",onClick:()=>{if(null==Y||""===E.trim()||null==_)return x.toast.warning("Empty field");let[e,t]=E.split(";"),n=G?{year:null==_?void 0:_.year(),week:null==_?void 0:_.week(),weekday:null==_?void 0:_.day(),section:t,isCome:Y,studentsIds:u,room:e}:{year:null==_?void 0:_.year(),week:null==_?void 0:_.week(),weekday:null==_?void 0:_.day(),section:t,isCome:Y,studentId:null==d?void 0:d.studentId,room:e};f.default.post("".concat(p.BASE_URL,"/dynamicAttendance/").concat(G?"createMultiDynamicAttendance":"createDynamicAttendance"),n,{headers:F}).then(e=>{x.toast.success("Success")}).catch(e=>{var t;x.toast.error("Error: "+((t=e.response.data)===null||void 0===t?void 0:t.message))}),O()},children:"save"})]})]})})},60141:function(e,t,n){"use strict";n.r(t),n("33948"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("42154"),o=n("32392"),s=n("44025"),c=n("61261"),u=n("55693"),h=n("94718"),x=n("51649"),f=n("70231"),p=n("16393"),m=n("72132"),v=n("30381"),j=n.n(v),g=n("27233"),b=n("50533"),y=n("14599");let S=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"down",ref:t,...e})});t.default=(0,a.memo)(e=>{let{dataForAttendance:t,groupId:n,subjectId:d,eduId:v,open:w,handleCloseModal:C}=e,[k,D]=(0,a.useState)(null),[I,Y]=(0,a.useState)([]),[A,H]=(0,a.useState)(""),{headers:M}=(0,p.getHeaders)(),E=(0,b.useDispatch)(),T=(e,n,l,a,d,i)=>{g.default.get("".concat(p.BASE_URL,"/groupConnect/getSectionsAndRooms/").concat(e,"/").concat(n,"?subjectId=").concat(l,"&year=").concat(a,"&week=").concat(d,"&day=").concat(i),{headers:M}).then(e=>{var n,l;Y(e.data[0]),H(((n=t[0])===null||void 0===n?void 0:n.room)+";"+((l=t[0])===null||void 0===l?void 0:l.section))}).catch(e=>{Y([])})};return(0,a.useEffect)(()=>{var e,l,a;t&&T(v,n,d,(e=t[0])===null||void 0===e?void 0:e.year,(l=t[0])===null||void 0===l?void 0:l.week,(a=t[0])===null||void 0===a?void 0:a.day)},[t]),(0,l.jsxs)(i.Dialog,{open:w,TransitionComponent:S,keepMounted:!0,onClose:C,children:[(0,l.jsxs)(i.DialogTitle,{sx:{pb:0},children:["Attendance ",t&&j()().day(t[0].day).week(t[0].week).year(t[0].year).format("DD.MM.YYYY")]}),(0,l.jsxs)(i.DialogContent,{sx:{width:320},children:[(0,l.jsxs)(r.default,{size:"small",fullWidth:!0,sx:{mt:"20px"},children:[(0,l.jsx)(o.default,{id:"demo-simple-select-label",children:"Section"}),(0,l.jsx)(s.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,label:"Section",onChange:e=>H(e.target.value),children:null==I?void 0:I.map((e,t)=>(0,l.jsxs)(c.default,{value:(null==e?void 0:e.room)+";"+(null==e?void 0:e.section),children:[null==e?void 0:e.room,"; ",null==e?void 0:e.section,"-section"]},t))})]}),(0,l.jsxs)(u.default,{sx:{display:"flex",gap:2,justifyContent:"center",mt:3},children:[(0,l.jsx)(h.default,{onClick:()=>D(!1),variant:null==k?"outlined":k?"outlined":"contained",color:"error",children:(0,l.jsx)(x.IoMdClose,{size:25})}),(0,l.jsx)(h.default,{onClick:()=>D(!0),variant:null==k?"outlined":k?"contained":"outlined",color:"success",children:(0,l.jsx)(f.FaCheck,{size:25})})]})]}),(0,l.jsxs)(i.DialogActions,{children:[(0,l.jsx)(h.default,{variant:"outlined",onClick:C,children:"cancel"}),(0,l.jsx)(h.default,{variant:"contained",onClick:()=>{var e,n,l,a;if(null==k||""===A.trim())return m.toast.warning("Empty field");let[d,i]=A.split(";"),r={year:(e=t[0])===null||void 0===e?void 0:e.year,week:(n=t[0])===null||void 0===n?void 0:n.week,weekday:(l=t[0])===null||void 0===l?void 0:l.day,section:i,isCome:k,studentId:(a=t[0])===null||void 0===a?void 0:a.studentId,room:d};g.default.post("".concat(p.BASE_URL,"/dynamicAttendance/createDynamicAttendance"),r,{headers:M}).then(e=>{E((0,y.changeAttendance)({...r,type:"DYNAMIC"})),m.toast.success("Success"),C(),D(null)}).catch(e=>{var t;m.toast.error("Error: "+((t=e.response.data)===null||void 0===t?void 0:t.message))})},children:"save"})]})]})})},90122:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n.n(d),r=n("71893"),o=n("16393"),s=n("57024"),c=n("8193"),u=n("30381"),h=n.n(u),x=n("94718"),f=n("7104"),p=n("19237"),m=n("26178"),v=n("52861"),j=n("50533"),g=n("53854"),b=n("74113"),y=n("27233"),S=n("97367"),w=n("55693"),C=n("60155"),k=n("89589"),D=n("72132"),I=n("78951"),Y=n("3506"),A=n("51649"),H=n("92037"),M=n("60023"),E=n("66508");function T(){let e=(0,l._)(["\n    ","\n"]);return T=function(){return e},e}function F(){let e=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return F=function(){return e},e}function _(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return _=function(){return e},e}function N(){let e=(0,l._)(["\n\n"]);return N=function(){return e},e}function G(){let e=(0,l._)(["\n    margin-top: 10px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return G=function(){return e},e}function R(){let e=(0,l._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 12px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n\n    .score {\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.1);\n            cursor: pointer;\n        }\n    }\n"]);return R=function(){return e},e}function z(){let e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 20px;\n\n    h3 {\n        font-size: 25px;\n        color: ",";\n        font-weight: bold;\n\n    }\n\n    ","\n"]);return z=function(){return e},e}function B(){let e=(0,l._)(["\n\n"]);return B=function(){return e},e}let L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},O=r.default.div(T(),(0,s.extrasmall)({width:"95% !important"})),U=r.default.button(F(),o.mainColor),P=r.default.div(_()),W=r.default.div(N()),q=r.default.div(G()),K=r.default.div(R(),o.mainColor),V=r.default.div(z(),o.mainColor,(0,s.extrasmall)({justifyContent:"center"})),Z=r.default.div(B());t.default=(0,d.memo)(e=>{let{oneSciencesScore:t,fetchCoreDataStudents:n}=e,{subjectId:l,studentId:r,groupId:u,fullName:T,allGradesForAttendance:F,sumGrade:_}=t,{id:N,kafedraName:G}=(0,j.useSelector)(e=>e.teacher.teacher),R=(0,j.useSelector)(e=>{var t;return null==e?void 0:(t=e.educationYear)===null||void 0===t?void 0:t.educationYear}),[z,B]=i().useState(!1),[Q,X]=(0,d.useState)(!1),[$,J]=(0,d.useState)(!1),ee=(0,m.useTheme)(),et=(0,p.default)(ee.breakpoints.down("sm")),[en,el]=(0,d.useState)(null),[ea,ed]=(0,d.useState)(null),ei={id:null,studentId:r,subjectId:l,educationYearId:null==R?void 0:R.id,grade:null,time:null,description:null},[er,eo]=(0,d.useState)(ei),{headers:es}=(0,o.getHeaders)(),[ec,eu]=(0,d.useState)([]),[eh,ex]=(0,d.useState)(null),[ef,ep]=(0,d.useState)(!1),[em,ev]=(0,d.useState)(!1),[ej,eg]=(0,d.useState)(!1),[eb,ey]=(0,d.useState)([]),[eS,ew]=(0,d.useState)(!1),eC=()=>{eo(ei),B(!1),ev(!1)},ek=e=>{el(e),X(!0)},eD=()=>{el(null),X(!1)},eI=()=>{J(!1)},eY=async()=>{await y.default.get("".concat(o.BASE_URL,"/permissionForTeacherGrading/checkExistsPermission/").concat(null==R?void 0:R.id,"?teacherId=").concat(N,"&subjectId=").concat(l,"&groupId=").concat(u,"&status=AT_PROCESS"),{headers:es}).then(e=>{var t;(null==e?void 0:(t=e.data)===null||void 0===t?void 0:t.success)?D.toast.warning("You already send a request. Please, wait response of education department.."):J(!0)}).catch(e=>{})},eA=async()=>{await y.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getGradesOfStudent/").concat(null==R?void 0:R.id,"?studentId=").concat(r,"&subjectId=").concat(l),{headers:es}).then(e=>{var t;eu(null==e?void 0:(t=e.data)===null||void 0===t?void 0:t.obj)}).catch(e=>{})},eH=async()=>{await y.default.get("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/getMiddleGrade/").concat(null==R?void 0:R.id,"?studentId=").concat(r,"&subjectId=").concat(l,"&groupId=").concat(u),{headers:es}).then(e=>{var t;ex(((t=e.data)===null||void 0===t?void 0:t.obj)||0)}).catch(e=>{})},eM=async e=>{e.preventDefault();let t={...er,time:new Date().getTime(),grade:+er.grade};+t.grade>=0&&6>=+t.grade?await y.default.post("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/create"),t,{headers:es}).then(e=>{B(!1),eA(),n(),eH(),D.toast.success("Grade was created successfully"),eo(ei)}).catch(e=>{D.toast.error("Error evaluation")}):D.toast.error("min:0  max:6")},eE=async e=>{e.preventDefault();let t={...er,time:new Date().getTime()};parseInt(t.grade)>=0&&6>=parseInt(t.grade)?(null==er?void 0:er.id)&&(null==er?void 0:er.id)!==""&&await y.default.put("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/update"),t,{headers:es}).then(e=>{B(!1),eA(),n(),eH(),D.toast.success("Grade was updated successfully"),eo(ei)}).catch(e=>{var t,n;D.toast.error(null==e?void 0:(n=e.response)===null||void 0===n?void 0:(t=n.data)===null||void 0===t?void 0:t.message)}):D.toast.error("min:0 max:6")},eT=async e=>{e.preventDefault();let{id:t,createdAt:l,...a}={...er,time:new Date().getTime(),failGradeId:er.id};parseInt(a.grade)>=0&&6>=parseInt(a.grade)?(null==er?void 0:er.id)&&(null==er?void 0:er.id)!==""&&await y.default.post("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/retake"),a,{headers:es}).then(e=>{B(!1),ev(!1),eA(),n(),eH(),D.toast.success("Grade was updated successfully"),eo(ei)}).catch(e=>{D.toast.error("Error evaluation")}):D.toast.error("min:0 max:6")},eF=e=>{var t;let n=(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:(t=e.retakes[(null==e?void 0:e.retakes.length)-1])===null||void 0===t?void 0:t.grade;eo(t=>({...t,...e,grade:n})),B(!0),ew(!(ea?(null==e?void 0:e.time)<=ea:eR(null==e?void 0:e.time))),ev(!(ea?(null==e?void 0:e.time)<=ea:eR(null==e?void 0:e.time)))},e_=e=>{ey([{grade:e.grade,description:e.description,time:e.time},...e.retakes]),eg(!0)},eN=e=>{let t=e.target.value;parseInt(eh)+parseInt(t)<=30?(ep(!1),eo(e=>({...e,grade:t}))):ep(!0)},eG=async()=>{await y.default.get("".concat(o.BASE_URL,"/permissionForTeacherGrading/getConfirmPermission/").concat(null==R?void 0:R.id,"?teacherId=").concat(N,"&subjectId=").concat(l,"&groupId=").concat(u)).then(e=>{var t,n;ed(((n=e.data)===null||void 0===n?void 0:(t=n.obj)===null||void 0===t?void 0:t.deadline)||null)}).catch(e=>{})},eR=e=>{let t=h()(e),n=h()(),l=h()(e).add(2,"days");return t.isBefore(n)&&n.isBefore(l)};return(0,d.useEffect)(()=>{Promise.all([eA(),eH(),eG()])},[]),(0,d.useEffect)(()=>{ev()},[]),(0,a.jsxs)(Z,{children:[(0,a.jsxs)(V,{children:[(0,a.jsx)("h3",{children:T}),(0,a.jsx)(x.default,{variant:"contained",onClick:()=>{B(!0)},endIcon:(0,a.jsx)(c.AiFillFileAdd,{}),children:"evaluation"})]}),(0,a.jsx)(w.default,{sx:{mt:"25px"},children:(0,a.jsx)(f.Card,{sx:{width:280,...(0,s.extrasmall)({width:"100%"})},children:(0,a.jsxs)(f.CardContent,{children:[null!==F?(0,a.jsxs)(k.default,{sx:{fontSize:20,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Score for attendance : ",F]}):"",(0,a.jsxs)(k.default,{sx:{fontSize:20,textAlign:"start",fontWeight:"bold"},color:o.mainColor,gutterBottom:!0,children:["Rating : ",eh&&parseFloat(eh.toFixed(3))||0]})]})})}),ea?(0,a.jsx)(w.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:(0,a.jsxs)(x.default,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(c.AiFillUnlock,{}),children:["Grades can be changed until ",h()(ea).format("DD.MM.YYYY")]})}):(0,a.jsxs)(w.default,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center",gap:2},children:[(0,a.jsx)(Y.default,{title:"The time to change the assessment has passed.",children:(0,a.jsx)(x.default,{variant:"contained",color:"inherit",onClick:eY,size:"small",children:"Access to changes"})}),(0,a.jsx)(Y.default,{title:"Points can be changed within 3 days!",children:(0,a.jsx)(b.default,{size:"medium",color:"warning",children:(0,a.jsx)(A.IoIosWarning,{})})})]}),(0,a.jsxs)(K,{children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Description"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Score"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Date"})}),(0,a.jsx)("th",{children:(0,a.jsx)("h5",{children:"Actions"})})]})}),(0,a.jsx)("tbody",{children:ec.map((e,t)=>{var n,l;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(null==e?void 0:e.retakes.length)===0?e.description||"-":(null==e?void 0:(n=e.retakes[(null==e?void 0:e.retakes.length)-1])===null||void 0===n?void 0:n.description)||"-"}),(0,a.jsx)("td",{className:"score",onClick:()=>e_(e),children:(null==e?void 0:e.retakes.length)===0?null==e?void 0:e.grade:null==e?void 0:(l=e.retakes[(null==e?void 0:e.retakes.length)-1])===null||void 0===l?void 0:l.grade}),(0,a.jsx)("td",{children:h()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")}),(0,a.jsx)("td",{children:(0,a.jsxs)(f.Stack,{direction:"row",spacing:2,justifyContent:"center",children:[(0,a.jsx)(b.default,{"aria-label":"change",color:"success",onClick:()=>eF(e),children:(0,a.jsx)(g.HiPencilAlt,{})}),(0,a.jsx)(b.default,{disabled:!(ea?(null==e?void 0:e.time)<=ea:eR(null==e?void 0:e.time)),"aria-label":"delete",color:"error",onClick:()=>ek(null==e?void 0:e.id),children:(0,a.jsx)(c.AiFillDelete,{})})]})})]},t)})})]}),0===ec.length&&(0,a.jsx)(I.default,{w:200,h:180})]}),(0,a.jsxs)(f.Dialog,{fullScreen:et,open:z,onClose:eC,"aria-labelledby":"responsive-dialog-title",children:[(0,a.jsxs)(f.DialogTitle,{id:"responsive-dialog-title",children:["Evaluate"," ",em&&"(retake)"]}),(0,a.jsxs)("form",{onSubmit:(null==er?void 0:er.id)==null?eM:em?eT:eE,children:[(0,a.jsx)(f.DialogContent,{sx:{pt:0},children:(0,a.jsxs)(q,{children:[(null==er?void 0:er.id)!==null&&(0,a.jsx)(W,{style:{display:"flex",justifyContent:"end"},children:(0,a.jsx)(H.default,{control:(0,a.jsx)(M.default,{disabled:eS,checked:em,onChange:()=>{ev(e=>!e)},color:"primary"}),label:"Retake",labelPlacement:"end"})}),(0,a.jsx)(W,{children:(0,a.jsx)(v.default,{sx:{width:"300px"},type:"number",value:er.grade,onChange:e=>eN(e),label:"Score"})}),(0,a.jsx)(W,{children:(0,a.jsx)(v.default,{value:er.description,onChange:e=>eo(t=>({...t,description:e.target.value})),id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,a.jsxs)(f.DialogActions,{children:[(0,a.jsx)(x.default,{variant:"outlined",type:"reset",onClick:eC,children:"cancel"}),(0,a.jsx)(x.default,{disabled:ef,variant:"contained",type:"submit",children:(null==er?void 0:er.id)===null?"save":"update"})]})]})]}),(0,a.jsx)(S.default,{open:Q,onClose:eD,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(w.default,{sx:L,component:O,children:[(0,a.jsxs)(P,{children:[(0,a.jsx)("h5",{children:"Delete"}),(0,a.jsxs)(U,{onClick:eD,children:[" ",(0,a.jsx)(C.IoClose,{size:22})]})]}),(0,a.jsxs)(w.default,{children:[(0,a.jsx)(f.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(k.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,a.jsxs)(f.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,a.jsx)(x.default,{variant:"outlined",onClick:eD,children:"Cancel"}),(0,a.jsx)(x.default,{variant:"contained",color:"error",onClick:()=>{en&&y.default.delete("".concat(o.BASE_URL,"/gradeOfStudentByTeacher/delete/").concat(en),{headers:es}).then(e=>{eA(),eD(),n(),eH(),D.toast.success("Grade was deleted successfully")}).catch(e=>{var t,n;D.toast.error(null==e?void 0:(n=e.response)===null||void 0===n?void 0:(t=n.data)===null||void 0===t?void 0:t.message)})},children:"Ok"})]})]})]})}),(0,a.jsx)(S.default,{open:$,onClose:eI,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(w.default,{sx:L,component:O,children:[(0,a.jsxs)(P,{children:[(0,a.jsx)("h5",{children:"Access to changes"}),(0,a.jsxs)(U,{onClick:eI,children:[" ",(0,a.jsx)(C.IoClose,{size:22})]})]}),(0,a.jsxs)(w.default,{children:[(0,a.jsx)(f.Stack,{sx:{height:"150px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,a.jsxs)(k.default,{variant:"h6",color:"black",children:["You can only change today's points within 3 days. ",(0,a.jsx)("br",{}),"Approval of the Department of Education is required for grade changes."]})}),(0,a.jsxs)(f.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,a.jsx)(x.default,{variant:"outlined",onClick:eI,children:"Cancel"}),(0,a.jsx)(x.default,{onClick:()=>{let e={groupId:u,status:"AT_PROCESS",subjectId:l,teacherId:N,educationYearId:null==R?void 0:R.id};y.default.post(o.BASE_URL+"/permissionForTeacherGrading/createPermissionForTeacherGrading",e,{headers:es}).then(e=>{D.toast.success("Successfully sent"),J(!1)}).catch(e=>{D.toast.error("Error")})},variant:"contained",children:"gain access"})]})]})]})}),(0,a.jsx)(E.default,{data:eb,open:ej,handleClose:()=>{eg(!1)}})]})})},3591:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948");var a=n("85893"),d=n("67294"),i=n("7104"),r=n("52861"),o=n("94718"),s=n("71893"),c=n("26178"),u=n("19237"),h=n("50533"),x=n("72132"),f=n("27233"),p=n("16393");function m(){let e=(0,l._)(["\n\n"]);return m=function(){return e},e}function v(){let e=(0,l._)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 15px;\n"]);return v=function(){return e},e}let j=s.default.div(m()),g=s.default.div(v());t.default=(0,d.memo)(e=>{let{setTodayGrade:t,openEvaluateToday:n,setOpenEvaluateToday:l,oneSciencesScore:s}=e,m=(0,c.useTheme)(),v=(0,u.default)(m.breakpoints.down("sm")),b=(0,h.useSelector)(e=>{var t;return null==e?void 0:(t=e.educationYear)===null||void 0===t?void 0:t.educationYear}),[y,S]=(0,d.useState)(!1),w={studentId:null==s?void 0:s.studentId,subjectId:null==s?void 0:s.subjectId,educationYearId:null==b?void 0:b.id,grade:null,time:null,description:null},[C,k]=(0,d.useState)(w),D=()=>{l(!1)},{headers:I}=(0,p.getHeaders)(),Y=async e=>{e.preventDefault();let n={...C,time:new Date};n.grade>=0&&n.grade<=6&&null!=n.grade&&""!==n.grade.trim()?(t(e=>({...e,id:null==s?void 0:s.studentId,grade:null==C?void 0:C.grade})),await f.default.post("".concat(p.BASE_URL,"/gradeOfStudentByTeacher/create"),n,{headers:I}).then(e=>{x.toast.success("Successfully"),l(!1),k(w)}).catch(e=>{x.toast.error("Error evaluation")})):x.toast.error("min:0 max:6")},A=e=>{let t=e.target.value;parseInt((null==s?void 0:s.sumGrade)||0)+parseInt(t)<=30?(S(!1),k(e=>({...e,grade:t}))):S(!0)};return(0,d.useEffect)(()=>{k({studentId:null==s?void 0:s.studentId,subjectId:null==s?void 0:s.subjectId,educationYearId:null==b?void 0:b.id,grade:null,time:null,description:null})},[s]),(0,a.jsxs)(i.Dialog,{fullScreen:v,open:n,onClose:D,"aria-labelledby":"responsive-dialog-title",children:[(0,a.jsx)(i.DialogTitle,{id:"responsive-dialog-title",children:"Evaluate"}),(0,a.jsxs)("form",{onSubmit:Y,children:[(0,a.jsx)(i.DialogContent,{children:(0,a.jsxs)(g,{children:[(0,a.jsx)(j,{children:(0,a.jsx)(r.default,{sx:{width:"300px"},type:"number",value:C.grade,onChange:e=>A(e),label:"Score"})}),(0,a.jsx)(j,{children:(0,a.jsx)(r.default,{value:C.description,onChange:e=>k(t=>({...t,description:e.target.value})),id:"description",label:"Description",multiline:!0,rows:4,sx:{width:"300px"}})})]})}),(0,a.jsxs)(i.DialogActions,{children:[(0,a.jsx)(o.default,{variant:"outlined",type:"reset",onClick:D,children:"cancel"}),(0,a.jsx)(o.default,{disabled:y,variant:"contained",type:"submit",children:"save"})]})]})]})})},21518:function(e,t,n){"use strict";n.r(t),n("33948");var l=n("85893"),a=n("67294"),d=n("36493"),i=n("50533"),r=n("27233"),o=n("16393");t.default=(0,a.memo)(e=>{let{educationYear:t,content:n,groupName:s,subjectName:c}=e,u=(0,i.useSelector)(e=>e.teacher.teacher),{headers:h}=(0,o.getHeaders)(),[x,f]=(0,a.useState)(null);return(0,a.useEffect)(()=>{r.default.get("".concat(o.BASE_URL,"/teacher/getDataOfLeaders/").concat(null==u?void 0:u.id,"/").concat(s," "),{headers:h}).then(e=>{f(e.data.obj)}).catch(e=>{})},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.default,{dataOfLeaders:x,teacherData:u,educationYear:t,content:n,groupName:s,subjectName:c})})})},84259:function(e,t,n){"use strict";n.r(t),n("33948"),n("64211"),n("41874"),n("2490"),n("31672"),n("59461"),n("57640"),n("9924");var l=n("85893"),a=n("67294"),d=n.n(a),i=n("7104"),r=n("94718"),o=n("42154"),s=n("32392"),c=n("44025"),u=n("61261"),h=n("27233"),x=n("16393"),f=n("55693"),p=n("52861"),m=n("44118"),v=n("72132");let j=d().forwardRef(function(e,t){return(0,l.jsx)(i.Slide,{direction:"up",ref:t,...e})});t.default=(0,a.memo)(e=>{let{lessons:t,eduType:n,eduId:g,userId:b}=e,[y,S]=d().useState(!1),{headers:w}=(0,x.getHeaders)(),[C,k]=(0,a.useState)([]),[D,I]=(0,a.useState)(""),[Y,A]=(0,a.useState)([]),[H,M]=(0,a.useState)(""),[E,T]=(0,a.useState)(""),F=()=>{A([]),I(""),M(""),T("")},_=(e,t,n,l,a)=>{var d;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&h.default.get("".concat(x.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(n,"?educationId=").concat(a,"&subjectId=").concat(null==t?void 0:(d=t.find(t=>(null==t?void 0:t.name)===e))===null||void 0===d?void 0:d.id,"&eduType=").concat(l)).then(e=>{var t;k(null==e?void 0:(t=e.data)===null||void 0===t?void 0:t.obj)}).catch(e=>{k([])})},N=()=>{S(!1),F()};return(0,a.useEffect)(()=>{_(D,t,b,n,g)},[D]),(0,l.jsxs)(d().Fragment,{children:[(0,l.jsx)(r.default,{variant:"outlined",onClick:()=>{S(!0)},children:"Grade for attendance"}),(0,l.jsxs)(i.Dialog,{open:y,TransitionComponent:j,keepMounted:!0,onClose:N,children:[(0,l.jsx)(i.DialogTitle,{children:" Grade for attendance"}),(0,l.jsx)(i.DialogContent,{children:(0,l.jsxs)(f.default,{sx:{display:"flex",flexDirection:"column",gap:2,width:340,mt:.8},children:[(0,l.jsxs)(o.default,{fullWidth:!0,size:"small",children:[(0,l.jsx)(s.default,{id:"fanselect",children:"Subject"}),(0,l.jsx)(c.default,{labelId:"fanselect",id:"demo-simple-select2",value:D,label:"Subject",onChange:e=>{I(e.target.value),A([])},children:null==t?void 0:t.map((e,t)=>(0,l.jsx)(u.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]}),(0,l.jsx)(m.default,{size:"small",multiple:!0,limitTags:2,id:"multiple-limit-tags",value:Y,options:C,getOptionLabel:e=>(null==e?void 0:e.name)||"",onChange:(e,t)=>{A(t)},renderInput:e=>(0,l.jsx)(p.default,{...e,label:"Groups",placeholder:"Favorites"})}),(0,l.jsx)(p.default,{value:H,onChange:e=>M(e.target.value),size:"small",label:"Grade",type:"number"}),(0,l.jsx)(p.default,{value:E,onChange:e=>T(e.target.value),size:"small",label:"Credit",type:"number"})]})}),(0,l.jsxs)(i.DialogActions,{children:[(0,l.jsx)(r.default,{variant:"contained",onClick:N,children:"cancel"}),(0,l.jsx)(r.default,{variant:"outlined",onClick:()=>{var e;let n={educationYearId:g,lessonId:(null==t?void 0:(e=t.find(e=>(null==e?void 0:e.name)===D))===null||void 0===e?void 0:e.id)||"",groupsIds:Y.map(e=>e.id),grade:H,credit:E};""!==n.lessonId&&0!==n.groupsIds.length&&""!==n.grade&&""!==n.credit?10>=parseInt(n.grade)?h.default.post("".concat(x.BASE_URL,"/gradeForAttendance/create"),n,{headers:w}).then(e=>{v.toast.success(e.data.message),N()}).catch(e=>{v.toast.error("Error")}):v.toast.warning("maximum 10 points"):v.toast.warning("Empty fields")},children:"save"})]})]})]})})},66508:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("7104"),r=n("94718"),o=n("16393"),s=n("71893"),c=n("30381"),u=n.n(c);function h(){let e=(0,l._)(["\n    margin-top: 10px;\n    width: 100%;\n    overflow-x: scroll;\n    color: #000;\n\n    table {\n        min-width: 500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 5px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            padding: 8px 0;\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return h=function(){return e},e}let x=s.default.div(h(),o.mainColor);t.default=(0,d.memo)(e=>{let{data:t,open:n,handleClose:l}=e;return(0,a.jsxs)(i.Dialog,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(i.DialogTitle,{id:"alert-dialog-title",children:"Retake history"}),(0,a.jsx)(i.DialogContent,{children:(0,a.jsx)(i.DialogContentText,{id:"alert-dialog-description",children:(0,a.jsx)(x,{children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:"Description"}),(0,a.jsx)("th",{children:"Score"}),(0,a.jsx)("th",{children:"Date"})]})}),(0,a.jsx)("tbody",{children:null==t?void 0:t.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:(null==e?void 0:e.description)||"-"}),(0,a.jsx)("td",{children:null==e?void 0:e.grade}),(0,a.jsx)("td",{children:u()(new Date(null==e?void 0:e.time)).format("DD-MM-YYYY HH:mm")})]},t))})]})})})}),(0,a.jsx)(i.DialogActions,{children:(0,a.jsx)(r.default,{onClick:l,children:"close"})})]})})},19092:function(e,t,n){"use strict";n.r(t),n("57640"),n("9924"),n("31672"),n("59461"),n("2490"),n("88449"),n("19894");var l=n("85893");n("67294");var a=n("30381"),d=n.n(a),i=n("3506"),r=n("50533"),o=n("89583"),s=n("55693");t.default=function(e){let{data:t,day:n,time:a,setDataForAttendance:c,openModal:u}=e,h=d()(),{subjects:x}=t,f=(0,r.useSelector)(e=>e.hourSection),p=null==x?void 0:x.map(e=>{let t=d()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=f.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:d()(n).format("HH:mm")}}).filter(e=>d()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(h)).sort((e,t)=>{let n=d()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return d()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)}),m=null==p?void 0:p.map(e=>d()(new Date(a.getFullYear(),a.getMonth(),n)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?e:"").filter(e=>"object"==typeof e),v=e=>{c(e),u()};return(0,l.jsx)(l.Fragment,{children:0!==m.length?(0,l.jsx)(i.default,{title:m.map((e,t)=>(0,l.jsxs)(s.default,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,l.jsxs)("p",{children:[e.section,"-section"]},t),(0,l.jsx)("p",{style:{marginTop:"3px"},children:function(e){let t=e.find(e=>"DYNAMIC"===e.type);return 0===e.length?(0,l.jsx)(o.FaWindowClose,{color:"#ff5c5c"}):t?t.isCome?(0,l.jsx)(o.FaCheckSquare,{color:"#67fd59"}):(0,l.jsx)(o.FaWindowClose,{color:"#f85e5e"}):(0,l.jsx)(o.FaCheckSquare,{color:"#67fd59"})}(e.statistics)})]})),arrow:!0,children:(0,l.jsx)("td",{onClick:()=>v(m),style:{textAlign:"center",cursor:"pointer"},children:m.filter(e=>{var t;return 0===e.statistics.length||((t=e.statistics.find(e=>"DYNAMIC"===e.type))===null||void 0===t?void 0:t.isCome)===!1}).length})}):(0,l.jsx)("td",{})})}},45201:function(e,t,n){"use strict";n.r(t),n("10072"),n("23042"),n("99137"),n("71957"),n("96306"),n("103"),n("74592"),n("58276"),n("35082"),n("12813"),n("18222"),n("38563"),n("50336"),n("7512"),n("33948"),n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("31672"),n("59461"),n("25387"),n("72608"),n("57658");var l=n("30381"),a=n.n(l);t.default=function(e){var t;let{data:n,day:l,time:d}=e,i=a()(),{firstName:r,lastName:o,subjects:s}=n,c=new Date,u=new Map,h=[{number:1,hour:"9:00 - 9:50",start:c.setHours(9,0,0),end:c.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:c.setHours(10,0,0),end:c.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:c.setHours(11,0,0),end:c.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:c.setHours(12,0,0),end:c.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:c.setHours(13,0,0),end:c.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:c.setHours(14,0,0),end:c.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:c.setHours(15,0,0),end:c.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:c.setHours(16,0,0),end:c.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:c.setHours(17,0,0),end:c.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:c.setHours(18,0,0),end:c.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:c.setHours(19,0,0),end:c.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:c.setHours(20,0,0),end:c.setHours(20,50,0)}],x=null==s?void 0:(t=s.filter(e=>(null==e?void 0:e.statistics.length)===0))===null||void 0===t?void 0:t.map(e=>{let t=a()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=h.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:a()(n).format("HH:mm")}}).filter(e=>a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isBefore(i));return(null==x?void 0:x.reduce((e,t)=>{let n=t.date+t.hourStart;return!u.has(n)&&(u.set(n,!0),e.push(t)),e},[]).sort((e,t)=>{let n=a()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return a()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)})).map(e=>a()(new Date(d.getFullYear(),d.getMonth(),l)).format("DD.MM.YYYY")===(null==e?void 0:e.date)?null==e?void 0:e.section:"").filter(e=>""!==e)}},46468:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("64211"),n("41874"),n("57640"),n("9924"),n("88449"),n("19894");var a=n("85893"),d=n("67294"),i=n.n(d),r=n("71893"),o=n("55693"),s=n("32392"),c=n("61261"),u=n("42154"),h=n("44025"),x=n("57024"),f=n("97367"),p=n("79352"),m=n("16393"),v=n("90122"),j=n("50533"),g=n("92120"),b=n("27120"),y=n("27233"),S=n("30381"),w=n.n(S),C=n("78258"),k=n("8193"),D=n("64425"),I=n("8033"),Y=n("53701"),A=n("94718"),H=n("47516"),M=n("3591"),E=n("78951"),T=n("74113"),F=n("89583"),_=n("7104"),N=n("63750"),G=n("3506"),R=n("60023"),z=n("92037"),B=n("69923"),L=n("21518"),O=n("84259"),U=n("49018"),P=n("60155");function W(){let e=(0,l._)(["\n    margin-top: 15px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return W=function(){return e},e}function q(){let e=(0,l._)(["\n    margin-left: 15px;\n    color: black;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 20px;\n"]);return q=function(){return e},e}function K(){let e=(0,l._)(["\n    ","\n"]);return K=function(){return e},e}function V(){let e=(0,l._)(["\n    ","\n"]);return V=function(){return e},e}function Z(){let e=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 10;\n    cursor: pointer;\n"]);return Z=function(){return e},e}function Q(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 50px;\n    height: 50px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return Q=function(){return e},e}function X(){let e=(0,l._)(["\n    background-color: #ffffff;\n    margin-top: 15px;\n    border-radius: 5px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    padding: 25px;\n\n    ","\n    .maxScoreForAtt {\n        display: flex;\n        gap: 10px;\n        flex-wrap: wrap;\n\n        .Mui-disabled {\n            color: #000000;\n        }\n    }\n"]);return X=function(){return e},e}function $(){let e=(0,l._)(["\n    padding: 15px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    ","\n"]);return $=function(){return e},e}function J(){let e=(0,l._)(["\n    padding: 10px;\n"]);return J=function(){return e},e}let ee=r.default.div(W(),m.mainColor),et=r.default.div(q()),en={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},el=r.default.div(K(),(0,x.extrasmall)({width:"97% !important"})),ea={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"97%",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24,p:2},ed={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"45%",height:"98vh",bgcolor:"background.paper",border:"none",borderRadius:2,boxShadow:24},ei=r.default.div(V(),(0,x.extrasmall)({width:"98% !important"})),er=r.default.button(Z(),m.mainColor),eo=r.default.div(Q(),e=>e.color?e.color:"#000"),es=r.default.div(X(),(0,x.extrasmall)({padding:"10px"})),ec=r.default.div($(),(0,x.extrasmall)({justifyContent:"center"})),eu=r.default.div(J());t.default=()=>{var e,t;let n=["ALL","KUNDUZGI_KECHKI","SIRTQI","MAGISTRATURE"],[l,r]=(0,d.useState)(n[0]),[x,S]=(0,d.useState)(""),[W,q]=(0,d.useState)(""),[K,V]=(0,d.useState)(null),[Z,Q]=(0,d.useState)(!1),[X,$]=(0,d.useState)(!1),[J,eh]=(0,d.useState)(!1),[ex,ef]=(0,d.useState)(!1),[ep,em]=(0,d.useState)({}),[ev,ej]=(0,d.useState)([]),[eg,eb]=(0,d.useState)({id:null,grade:null}),{headers:ey}=(0,m.getHeaders)(),[eS,ew]=(0,d.useState)([]),[eC,ek]=(0,d.useState)([]),[eD,eI]=(0,d.useState)([]),eY=(0,j.useSelector)(e=>{var t;return null==e?void 0:(t=e.user)===null||void 0===t?void 0:t.user})||null,eA=(0,j.useSelector)(e=>{var t;return null==e?void 0:(t=e.educationYear)===null||void 0===t?void 0:t.educationYear})||null,eH=(0,j.useDispatch)(),[eM,eE]=(0,d.useState)([]),[eT,eF]=(0,d.useState)(!1),[e_,eN]=(0,d.useState)(!1),[eG,eR]=(0,d.useState)(null),[ez,eB]=(0,d.useState)(!1),[eL,eO]=(0,d.useState)(!1),[eU,eP]=(0,d.useState)(!1),[eW,eq]=(0,d.useState)(!1),[eK,eV]=(0,d.useState)(!1),[eZ,eQ]=(0,d.useState)(!1),[eX,e$]=(0,d.useState)("fullNames"),[eJ,e0]=(0,d.useState)(!1),[e1,e5]=(0,d.useState)(!1),[e2,e3]=i().useState(null),e9=!!e2,[e8,e4]=(0,d.useState)(null),[e6,e7]=(0,d.useState)(null),[te,tt]=(0,d.useState)(!1),tn=()=>tt(!0),tl=(e,t,n)=>{let l=w()().year(e).isoWeek(t).day(n);return l.isValid?l.format("DD.MM.YYYY"):"Invalid Date"},ta=()=>{y.default.get(m.BASE_URL+"/education/educationYearsForSelected",{headers:ey}).then(e=>{var t,n,l;eI(null==e?void 0:(t=e.data)===null||void 0===t?void 0:t.obj),eH((0,g.fetchEducationYear)(null==e?void 0:(l=e.data)===null||void 0===l?void 0:(n=l.obj)===null||void 0===n?void 0:n[0]))}).catch(e=>{})};(0,d.useEffect)(()=>{ta()},[]);let td=async()=>{eA&&await y.default.get("".concat(m.BASE_URL,"/groupConnect/subjectsOfTeacher/").concat(null==eY?void 0:eY.id,"?educationId=").concat(null==eA?void 0:eA.id)).then(e=>{var t,n;ew((t=e.data)===null||void 0===t?void 0:t.obj),S((n=e.data)===null||void 0===n?void 0:n.obj[0].name)}).catch(e=>{})},ti=(e,t,n,l,a)=>{var d;e&&(null==t?void 0:t.some(t=>(null==t?void 0:t.name)===e))&&y.default.get("".concat(m.BASE_URL,"/groupConnect/groupsOfTeacher/").concat(n,"?educationId=").concat(a,"&subjectId=").concat(null==t?void 0:(d=t.find(t=>(null==t?void 0:t.name)===e))===null||void 0===d?void 0:d.id,"&eduType=").concat(l)).then(e=>{var t;ek(null==e?void 0:(t=e.data)===null||void 0===t?void 0:t.obj)}).catch(e=>{})};(0,d.useEffect)(()=>{q(""),ti(x,eS,null==eY?void 0:eY.id,l,null==eA?void 0:eA.id)},[x,l]);let tr=()=>{if(""!==W){var e,t,n,l;eJ?(eN(!0),y.default.get("".concat(m.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacher/").concat(null==eA?void 0:eA.id,"/").concat(null==eC?void 0:(n=eC.find(e=>(null==e?void 0:e.name)===W))===null||void 0===n?void 0:n.id,"?subjectId=").concat(null==eS?void 0:(l=eS.find(e=>(null==e?void 0:e.name)===x))===null||void 0===l?void 0:l.id),{headers:ey}).then(e=>{var t,n,l,a,d;eE((t=e.data[0][0])===null||void 0===t?void 0:t.students.map(e=>{let t=null==e?void 0:e.subjects.filter(e=>0===e.statistics.length).map(e=>{if(w()(tl(e.year,e.week,e.day),"DD.MM.YYYY HH:mm").isSameOrBefore(w()(),"minute"))return e}).filter(Boolean).length;return{...e,subjectNb:t}})),e4([(l=e.data)===null||void 0===l?void 0:(n=l[0][0].students[0])===null||void 0===n?void 0:n.maxGradeForAttendance,(d=e.data)===null||void 0===d?void 0:(a=d[0][0].students[0])===null||void 0===a?void 0:a.gradeForAttendance]),eN(!1)}).catch(e=>{eN(!1)})):(eF(!0),y.default.get("".concat(m.BASE_URL,"/groupConnect/getStatisticsOfGroupForTeacherForTodayWithMax/").concat(null==eA?void 0:eA.id,"/").concat(null==eC?void 0:(e=eC.find(e=>(null==e?void 0:e.name)===W))===null||void 0===e?void 0:e.id,"?subjectId=").concat(null==eS?void 0:(t=eS.find(e=>(null==e?void 0:e.name)===x))===null||void 0===t?void 0:t.id,"&year=").concat(w()(new Date).year(),"&week=").concat(w()(new Date).week(),"&day=").concat(w()(new Date).day()),{headers:ey}).then(e=>{var t,n,l,a,d;eE((t=e.data)===null||void 0===t?void 0:t[0][0].students),e4([(l=e.data)===null||void 0===l?void 0:(n=l[0][0].students[0])===null||void 0===n?void 0:n.maxGradeForAttendance,(d=e.data)===null||void 0===d?void 0:(a=d[0][0].students[0])===null||void 0===a?void 0:a.gradeForAttendance]),eF(!1)}).catch(e=>{eF(!1)}))}};(0,d.useEffect)(()=>{tr()},[W,eL,eJ]),(0,d.useEffect)(()=>{td()},[eA]);let to=e=>{em(e),Q(!0)},ts=()=>$(!1),tc=()=>eh(!1),tu=()=>ef(!1),th=e=>{eh(!0),eR(e)},tx=e=>{eB(!0),ej(e)},tf=e=>{ej(e)};(0,d.useEffect)(()=>{null!==ev&&eL&&eP(!0)},[ev]),(0,d.useEffect)(()=>{eU||ej(null)},[eU]),(0,d.useEffect)(()=>{eO(eL),e0(eJ)},[]);let tp=()=>Q(!1),tm=(e,t)=>{if("fullNames"===eX){if(eW){if(eW)return e.fullName<t.fullName?1:e.fullName>t.fullName?-1:0}else return e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0}if("attendance"===eX){if(eZ){if(eZ)return e.subjectNb<t.subjectNb?1:e.subjectNb>t.subjectNb?-1:0}else return e.subjectNb>t.subjectNb?1:e.subjectNb<t.subjectNb?-1:0}if("score"===eX){if(eK){if(eK)return e.middleGrade<t.middleGrade?1:e.middleGrade>t.middleGrade?-1:0}else return e.middleGrade>t.middleGrade?1:e.middleGrade<t.middleGrade?-1:0}if("evaluate"===eX){if(eK){if(eK)return e.todayGrade<t.todayGrade?1:e.todayGrade>t.todayGrade?-1:0}else return e.todayGrade>t.todayGrade?1:e.todayGrade<t.todayGrade?-1:0}};return(0,d.useEffect)(()=>{(null==eg?void 0:eg.id)&&(null==eg?void 0:eg.grade)&&eE([...null==eM?void 0:eM.filter(e=>(null==e?void 0:e.studentId)!==(null==eg?void 0:eg.id)),{...null==eM?void 0:eM.find(e=>(null==e?void 0:e.studentId)===(null==eg?void 0:eg.id)),todayGrade:null==eg?void 0:eg.grade}])},[eg]),(0,a.jsxs)(eu,{children:[ez&&(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},children:(0,a.jsx)(A.default,{onClick:()=>eB(!1),variant:"outlined",startIcon:(0,a.jsx)(H.BiArrowBack,{}),children:"Back"})}),(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"30px"},children:(0,a.jsxs)(ec,{children:[(0,a.jsx)(o.default,{sx:{minWidth:180,background:"#fff"},children:(0,a.jsxs)(u.default,{fullWidth:!0,children:[(0,a.jsx)(s.default,{htmlFor:"semestr",children:"Academic year"}),(0,a.jsx)(h.default,{labelId:"semestr",id:"demo-simple-select",value:null==eA?void 0:eA.name,onChange:e=>{e.target.value!==(null==eA?void 0:eA.name)&&eH((0,b.educationYearStatisticsFetching)()),eH((0,g.fetchEducationYear)(null==eD?void 0:eD.find(t=>(null==t?void 0:t.name)===e.target.value)))},label:"Academic year",disabled:ez,children:null==eD?void 0:eD.map((e,t)=>(0,a.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,a.jsx)(o.default,{sx:{width:200},children:(0,a.jsxs)(u.default,{fullWidth:!0,children:[(0,a.jsx)(s.default,{id:"fanselect",children:"Subject"}),(0,a.jsx)(h.default,{labelId:"fanselect",id:"demo-simple-select2",value:x,label:"Subject",onChange:e=>{S(e.target.value)},disabled:ez,children:null==eS?void 0:eS.map((e,t)=>(0,a.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,a.jsx)(o.default,{sx:{width:200},children:(0,a.jsxs)(u.default,{fullWidth:!0,children:[(0,a.jsx)(s.default,{id:"demo-simple-select-label",children:"Education type"}),(0,a.jsx)(h.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:"Education type",onChange:e=>r(e.target.value),disabled:ez,children:null==n?void 0:n.map((e,t)=>(0,a.jsx)(c.default,{value:e,children:e},t))})]})}),(0,a.jsx)(o.default,{sx:{width:200},children:(0,a.jsxs)(u.default,{fullWidth:!0,children:[(0,a.jsx)(s.default,{id:"demo-simple-select-label1",children:"Group"}),(0,a.jsx)(h.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:W,label:"Group",onChange:e=>{q(e.target.value),e0(!1)},disabled:ez,children:null==eC?void 0:eC.map((e,t)=>(0,a.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})})]})}),(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},children:(0,a.jsx)(O.default,{lessons:eS,userId:null==eY?void 0:eY.id,eduType:"ALL",eduId:null==eA?void 0:eA.id})}),ez?(0,a.jsx)(es,{children:(0,a.jsx)(v.default,{oneSciencesScore:ev,fetchCoreDataStudents:tr})}):(0,a.jsxs)(es,{children:[(0,a.jsxs)(et,{children:[(0,a.jsxs)("h4",{children:["Group: ",W]}),(0,a.jsx)(G.default,{title:"Settings",children:(0,a.jsx)(T.default,{onClick:e=>{e3(e.currentTarget)},size:"medium",sx:{ml:2},"aria-controls":e9?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":e9?"true":void 0,children:(0,a.jsx)(N.BsThreeDotsVertical,{})})})]}),(0,a.jsxs)(o.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)(o.default,{className:"maxScoreForAtt",children:[(0,a.jsxs)(A.default,{disabled:!0,variant:"contained",size:"small",children:["maximum score for attendance : ",e8&&e8[0]||0]}),(0,a.jsxs)(A.default,{disabled:!0,variant:"contained",size:"small",children:["admission to each lesson earns: ",e8&&e8[1]||0," points"]})]}),(0,a.jsx)(G.default,{title:"Refresh",TransitionComponent:_.Zoom,children:(0,a.jsx)(T.default,{onClick:()=>{tr()},sx:{backgroundColor:"#e0e0e0"},children:(0,a.jsx)(P.IoRefreshSharp,{color:"#2a2a2a"})})})]}),(0,a.jsxs)(ee,{children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:"Full name"}),(0,a.jsx)(T.default,{size:"small",onClick:()=>{eq(e=>!e),e$("fullNames")},children:eW?(0,a.jsx)(F.FaSortUp,{}):(0,a.jsx)(F.FaSortDown,{})})]})}),(0,a.jsx)("th",{children:"Attendance"}),eJ&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("th",{children:(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:" All attendance"}),(0,a.jsx)(T.default,{size:"small",onClick:()=>{eQ(e=>!e),e$("attendance")},children:eZ?(0,a.jsx)(F.FaSortUp,{}):(0,a.jsx)(F.FaSortDown,{})})]})})}),(0,a.jsx)("th",{children:eL?(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:"Evaluate"}),(0,a.jsx)(T.default,{size:"small",onClick:()=>{eV(e=>!e),e$("evaluate")},children:eK?(0,a.jsx)(F.FaSortUp,{}):(0,a.jsx)(F.FaSortDown,{})})]}):(0,a.jsxs)(o.default,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",children:[(0,a.jsx)("p",{children:"Score"}),(0,a.jsx)(T.default,{size:"small",onClick:()=>{eV(e=>!e),e$("score")},children:eK?(0,a.jsx)(F.FaSortUp,{}):(0,a.jsx)(F.FaSortDown,{})})]})}),(0,a.jsx)("th",{children:"Info"})]})}),(0,a.jsx)("tbody",{children:!eT&&(null==eM?void 0:eM.sort(tm).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:t+1}),(0,a.jsx)("td",{children:null==e?void 0:e.fullName}),(0,a.jsx)("td",{children:(0,a.jsx)(I.default,{handleOpenDynamicAttendance:tn,data:null==e?void 0:e.subjects,data2:e,setDataForChangeAttendance:e7})}),eJ&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("td",{children:e_?(0,a.jsx)(_.Skeleton,{sx:{margin:"0 auto"},width:100,height:50}):(0,a.jsx)(eo,{onClick:()=>to(e),children:null==e?void 0:e.subjectNb})})}),eL?(0,a.jsx)("td",{children:(0,a.jsx)(eo,{onClick:()=>tf(e),children:(null==e?void 0:e.todayGrade)!==null?null==e?void 0:e.todayGrade:0})}):(0,a.jsx)("td",{children:(0,a.jsx)(eo,{onClick:()=>tx(e),children:parseFloat((((null==e?void 0:e.allSumGrade)||0)+((null==e?void 0:e.allGradesForAttendance)||0)).toFixed(3))})}),(0,a.jsx)("td",{children:(0,a.jsx)(eo,{onClick:()=>th(e),children:(0,a.jsx)(k.AiFillInfoCircle,{})})})]},t)))})]}),eT&&(0,a.jsx)(o.default,{sx:{width:"100%",marginTop:"20px"},children:(0,a.jsx)(C.default,{})}),0===eM.length&&(0,a.jsx)(E.default,{w:200,h:180})]})]}),(0,a.jsxs)(_.Menu,{anchorEl:e2,id:"account-menu",open:e9,onClose:()=>{e3(null)},PaperProps:{elevation:0,sx:{p:1,width:"225px",overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,a.jsxs)(_.FormGroup,{children:[(0,a.jsx)(z.default,{control:(0,a.jsx)(R.default,{checked:eL,onChange:e=>{eO(e.target.checked)}}),label:"Evaluate only today"}),(0,a.jsx)(z.default,{control:(0,a.jsx)(R.default,{checked:eJ,onChange:e=>{e0(e.target.checked)}}),label:"Show attendance"})]}),eM.length>0&&(0,a.jsxs)(o.default,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",gap:"10px",mt:"10px"},children:[(0,a.jsx)(A.default,{onClick:()=>{ef(!0)},sx:{width:"100%"},variant:"outlined",children:"all attendance "}),(0,a.jsx)(L.default,{educationYear:eA,content:eM,groupName:W,subjectName:x})]})]}),(0,a.jsx)(f.default,{open:Z,onClose:tp,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(o.default,{sx:en,component:el,children:[(0,a.jsx)(er,{onClick:tp,children:(0,a.jsx)(p.RiCloseLine,{})}),(0,a.jsx)(D.default,{data:ep})]})}),(0,a.jsx)(f.default,{open:X,onClose:ts,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(o.default,{sx:ed,component:ei,children:[(0,a.jsx)(er,{onClick:ts,children:(0,a.jsx)(p.RiCloseLine,{})}),(0,a.jsx)(v.default,{oneSciencesScore:ev,setOpen2:$})]})}),(0,a.jsx)(M.default,{setTodayGrade:eb,openEvaluateToday:eU,setOpenEvaluateToday:eP,oneSciencesScore:ev}),(0,a.jsx)(f.default,{open:J,onClose:tc,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(o.default,{sx:en,component:el,children:[(0,a.jsx)(er,{onClick:tc,children:(0,a.jsx)(p.RiCloseLine,{})}),(0,a.jsx)(Y.default,{studentData:eG})]})}),(0,a.jsx)(f.default,{open:ex,onClose:tu,children:(0,a.jsxs)(o.default,{sx:ea,component:el,children:[(0,a.jsx)(o.default,{sx:{display:"flex",justifyContent:"end"},onClick:tu,children:(0,a.jsx)(T.default,{children:(0,a.jsx)(p.RiCloseLine,{})})}),(0,a.jsx)(B.default,{groups:eC,lessons:eS,groupSelect:W,scien:x})]})}),(0,a.jsx)(U.default,{allStudentId:null==eM?void 0:(e=eM.sort(tm))===null||void 0===e?void 0:e.map(e=>null==e?void 0:e.studentId),open:te,handleClose:()=>tt(!1),data2:e6,data3:null==eM?void 0:(t=eM.sort(tm))===null||void 0===t?void 0:t.map(e=>null==e?void 0:e.subjects)})]})}},8033:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("33948"),n("31672"),n("59461");var a=n("85893"),d=n("67294"),i=n("71893"),r=n("8193"),o=n("30381"),s=n.n(o),c=n("7104"),u=n("3506"),h=n("55693");function x(){let e=(0,l._)(["\n    margin: 0 auto;\n    width: 40px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid #a6a6e0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    & > svg {\n        width: 20px;\n        height: 20px;\n    }\n"]);return x=function(){return e},e}let f=i.default.div(x(),e=>e.color?e.color:"#000");t.default=(0,d.memo)(e=>{var t;let{data:n,data2:l,setDataForChangeAttendance:d,handleOpenDynamicAttendance:i}=e,o=(t=n.filter(e=>e.day===s()().day()&&e.week===s()().week()&&e.year===s()().year()))===null||void 0===t?void 0:t.sort((e,t)=>(null==e?void 0:e.section)<(null==t?void 0:t.section)?-1:(null==e?void 0:e.section)>(null==t?void 0:t.section)?1:0),x=e=>{if((null==e?void 0:e.length)===0)return!1;{let t=e.find(e=>"DYNAMIC"===e.type);return!t||t.isCome}},p=(e,t)=>{if(e){var n,l;let e=null==t?void 0:(n=t.statistics)===null||void 0===n?void 0:n.find(e=>"DYNAMIC"===e.type);return e?(0,a.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,a.jsxs)("p",{children:["section-",null==e?void 0:e.section]}),(0,a.jsx)("p",{children:null==t?void 0:t.room}),(0,a.jsx)("p",{children:s()(e.time).format("HH:mm")})]}):(0,a.jsxs)(h.default,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:.5},children:[(0,a.jsxs)("p",{children:["section-",(l=t.statistics[0])===null||void 0===l?void 0:l.section]}),(0,a.jsx)("p",{children:null==t?void 0:t.room}),(0,a.jsx)("p",{children:s()(function(e){let t=e.filter(e=>e.hasOwnProperty("time"));return 0===t.length?null:Math.min(...t.map(e=>e.time))}(null==t?void 0:t.statistics)).format("HH:mm")})]})}return""},m=e=>{i(),d({...l,roomAndSection:"".concat(e.room,";").concat(e.section)})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.default,{sx:{display:"flex",alignItems:"center"},children:null==o?void 0:o.map((e,t)=>(0,a.jsx)(u.default,{TransitionComponent:c.Zoom,title:p(x(null==e?void 0:e.statistics),e),arrow:!0,placement:"right",children:(0,a.jsx)(f,{onClick:()=>m(e),color:x(null==e?void 0:e.statistics)?"green":"red",children:x(null==e?void 0:e.statistics)?(0,a.jsx)(r.AiFillCheckCircle,{}):(0,a.jsx)(r.AiFillCloseCircle,{})})},t))})})})},64425:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("10072"),n("23042"),n("99137"),n("71957"),n("96306"),n("103"),n("74592"),n("58276"),n("35082"),n("12813"),n("18222"),n("38563"),n("50336"),n("7512"),n("33948"),n("88449"),n("19894"),n("2490"),n("57640"),n("9924"),n("31672"),n("59461"),n("25387"),n("72608"),n("57658");var a=n("85893");n("67294");var d=n("71893"),i=n("16393"),r=n("30381"),o=n.n(r);function s(){let e=(0,l._)(["\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  font-size: 15px;\n  color: white;\n  background-color: ",";\n\n  p {\n    margin: 0;\n  }\n"]);return s=function(){return e},e}function c(){let e=(0,l._)(["\n  margin-top: 70px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return c=function(){return e},e}function u(){let e=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return u=function(){return e},e}function h(){let e=(0,l._)(["\n"]);return h=function(){return e},e}let x=d.default.div(s(),e=>e.jsc,e=>e.bg),f=d.default.div(c()),p=d.default.div(u(),i.mainColor),m=d.default.div(h());t.default=e=>{var t;let{data:n}=e,{subjects:l,fullName:d}=n,i=new Date,r=new Map,s=[{number:1,hour:"9:00 - 9:50",start:i.setHours(9,0,0),end:i.setHours(9,50,0)},{number:2,hour:"10:00 - 10:50",start:i.setHours(10,0,0),end:i.setHours(10,50,0)},{number:3,hour:"11:00 - 11:50",start:i.setHours(11,0,0),end:i.setHours(11,50,0)},{number:4,hour:"12:00 - 12:50",start:i.setHours(12,0,0),end:i.setHours(12,50,0)},{number:5,hour:"13:00 - 13:50",start:i.setHours(13,0,0),end:i.setHours(13,50,0)},{number:6,hour:"14:00 - 14:50",start:i.setHours(14,0,0),end:i.setHours(14,50,0)},{number:7,hour:"15:00 - 15:50",start:i.setHours(15,0,0),end:i.setHours(15,50,0)},{number:8,hour:"16:00 - 16:50",start:i.setHours(16,0,0),end:i.setHours(16,50,0)},{number:9,hour:"17:00 - 17:50",start:i.setHours(17,0,0),end:i.setHours(17,50,0)},{number:10,hour:"18:00 - 18:50",start:i.setHours(18,0,0),end:i.setHours(18,50,0)},{number:11,hour:"19:00 - 19:50",start:i.setHours(19,0,0),end:i.setHours(19,50,0)},{number:12,hour:"20:00 - 20:50",start:i.setHours(20,0,0),end:i.setHours(20,50,0)}],c=null==l?void 0:(t=l.filter(e=>(null==e?void 0:e.statistics.length)===0))===null||void 0===t?void 0:t.map(e=>{let t=o()().year(e.year).week(e.week).day(e.day).format("DD.MM.YYYY"),n=s.find(t=>t.number===e.section).start;return{...e,date:t,hourStart:o()(n).format("HH:mm")}}).filter(e=>o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm").isSameOrBefore(o()(),"minute")),u=null==c?void 0:c.reduce((e,t)=>{let n=t.date+t.hourStart;return!r.has(n)&&(r.set(n,!0),e.push(t)),e},[]).sort((e,t)=>{let n=o()("".concat(e.date," ").concat(e.hourStart),"DD.MM.YYYY HH:mm");return o()("".concat(t.date," ").concat(t.hourStart),"DD.MM.YYYY HH:mm").diff(n)});return(0,a.jsxs)(m,{children:[(0,a.jsx)(p,{children:d}),(0,a.jsx)(f,{children:(null==u?void 0:u.length)>0?null==u?void 0:u.map((e,t)=>(0,a.jsxs)(x,{bg:"red",jsc:"space-between",children:[(0,a.jsx)("p",{children:e.date}),(0,a.jsxs)("p",{children:[e.section," - section"]})]},t)):(0,a.jsx)(x,{jsc:"center",bg:"#45d745",children:"Dars qoldirilmagan"})})]})}},53701:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("85466"),r=n("87980"),o=n("43927"),s=n("89589"),c=n("23508"),u=n("71893"),h=n("16393"),x=n("30381"),f=n.n(x),p=n("78951"),m=n("27233");function v(){let e=(0,l._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return v=function(){return e},e}function j(){let e=(0,l._)(["\n  text-align: center;\n  border: 1px solid silver;\n  padding: 5px;\n"]);return j=function(){return e},e}function g(){let e=(0,l._)(["\n  margin-top: 50px;\n  padding: 10px;\n  min-height: 300px;\n  max-height: 450px;\n  overflow-y: scroll;\n"]);return g=function(){return e},e}function b(){let e=(0,l._)(["\n  position: absolute;\n  font-size: 20px;\n  color: #ffffff;\n  background-color: ",";\n  width: 100%;\n  top: -1px;\n  border-radius: 8px 8px 0 0;\n  padding: 10px;\n  z-index: 9;\n"]);return b=function(){return e},e}function y(){let e=(0,l._)(["\n"]);return y=function(){return e},e}let S=u.default.div(v()),w=u.default.div(j()),C=u.default.div(g()),k=u.default.div(b(),h.mainColor),D=u.default.div(y());t.default=e=>{var t,n;let{studentData:l}=e,{fullName:u,studentId:x,subjectId:v,groupId:j,educationId:g}=l,[b,y]=(0,d.useState)([]),[I,Y]=(0,d.useState)(!1),A=e=>(t,n)=>{Y(!!n&&e)},{headers:H}=(0,h.getHeaders)(),M=async()=>{await m.default.get("".concat(h.BASE_URL,"/downloadCounter/getDownloadCountOfOneStudent/").concat(g,"?groupId=").concat(j,"&subjectId=").concat(v,"&studentId=").concat(x),{headers:H}).then(e=>{var t;y(null==e?void 0:(t=e.data)===null||void 0===t?void 0:t.obj)}).catch(e=>{})};return(0,d.useEffect)(()=>{M()},[]),(0,a.jsxs)(D,{children:[(0,a.jsx)(k,{children:u}),(0,a.jsx)(C,{children:(n=b[0])===null||void 0===n?void 0:(t=n.lines)===null||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)(i.default,{expanded:I===t,onChange:A(t),children:[(0,a.jsx)(o.default,{expandIcon:(0,a.jsx)(c.default,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,a.jsx)(s.default,{sx:{color:"".concat(h.mainColor),fontWeight:"bold"},children:e.queue+"-Mavzu: "+e.themeName})}),(0,a.jsxs)(r.default,{children:[(0,a.jsxs)(S,{children:[(0,a.jsx)(w,{children:(0,a.jsx)("b",{children:"File name "})}),(0,a.jsx)(w,{children:(0,a.jsx)("b",{children:"Number of downloads"})}),(0,a.jsx)(w,{children:(0,a.jsx)("b",{children:"last download time "})})]}),e.counter.length>0?e.counter.map((e,t)=>(0,a.jsxs)(S,{children:[(0,a.jsx)(w,{children:(0,a.jsxs)("p",{children:[" ",e.fileName.substring(0,e.fileName.indexOf("_"))]})}),(0,a.jsx)(w,{children:(0,a.jsxs)("p",{children:[e.count," "]})}),(0,a.jsx)(w,{children:(0,a.jsxs)("p",{children:[f()(e.lastDownloadTime).format("DD.MM.YYYY HH:MM")," "]})})]},t)):(0,a.jsx)(p.default,{w:"140",h:"120"})]})]},t))})]})}},36493:function(e,t,n){"use strict";n.r(t);var l=n("58865");n("33948"),n("15306"),n("57640"),n("9924");var a=n("85893"),d=n("67294"),i=n("89258"),r=n("71893"),o=n("94718"),s=n("7701"),c=n("5434"),u=n("49492");function h(){let e=(0,l._)(["\n    width: 700px;\n    margin: 0 auto;\n    font-size: 14px;\n    padding: 10px;\n    color: black;\n    line-height: 1.7;\n\n    .header {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n    }\n\n    .head_title {\n        font-size: 18px;\n    }\n\n    table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    table, td, th {\n        border: 1px solid;\n        padding: 6px;\n    }\n\n    th {\n        text-align: center;\n    }\n"]);return h=function(){return e},e}let x=r.default.div(h());t.default=(0,d.memo)(e=>{var t,n;let{educationYear:l,teacherData:r,dataOfLeaders:h,content:f,groupName:p,subjectName:m}=e,v=(0,d.useRef)(null),[j,g]=(0,d.useState)(!1),b=null==l?void 0:(t=l.name)===null||void 0===t?void 0:t.match(/\d{4}-\d{4}/),y=b?b[0].replace("-","/"):null,S=null==l?void 0:(n=l.name)===null||void 0===n?void 0:n.match(/\d+-sem/),w=S?S[0].split("-")[0]:null,C=null==h?void 0:h.direction.match(/\)([^)]+)$/),k=C?C[1].trim():null;function D(e){return e?parseFloat(Math.ceil((e.AllSumGrade||0)+(e.gradeForAttendance||0))):0}let I=async()=>{g(!0);let e=v.current,t={margin:10,filename:"statement-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await (0,u.default)().set(t).from(e).save(),g(!1)};return(0,a.jsxs)(a.Fragment,{children:[j?(0,a.jsx)(o.default,{size:"small",variant:"outlined",endIcon:(0,a.jsx)(s.default,{size:18}),children:"download"}):(0,a.jsx)(o.default,{size:"small",variant:"contained",endIcon:(0,a.jsx)(c.MdOutlineFileDownload,{size:22}),onClick:I,children:"statement pdf"}),(0,a.jsx)("div",{style:{display:"none"},children:(0,a.jsxs)(x,{ref:v,children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{width:130,src:i,alt:"logo"})}),(0,a.jsx)("div",{children:(0,a.jsxs)("b",{className:"head_title",children:["TOSHKENT KIMYO XALQARO UNIVERSITETI ",(0,a.jsx)("br",{}),"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"]})})]}),(0,a.jsxs)("div",{style:{textAlign:"center",margin:"10px 0"},children:[(0,a.jsxs)("b",{children:[" ","<<",k,">>"," ",(0,a.jsx)("br",{}),y," ACADEMIC YEAR ",(0,a.jsx)("br",{})]}),(0,a.jsxs)("b",{children:[" STATEMENT OF RATING \u2116 ",(0,a.jsx)("span",{style:{width:80,borderBottom:"1px solid #000"},children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"})]})]}),(0,a.jsx)("div",{style:{margin:"10px 0"},children:(0,a.jsxs)("p",{children:["Discipline: ",(0,a.jsx)("b",{children:m})]})}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:[(0,a.jsxs)("p",{children:["Course: ",(0,a.jsx)("b",{children:null==h?void 0:h.course})]}),(0,a.jsxs)("p",{children:["Semester:",(0,a.jsx)("b",{children:w})]}),(0,a.jsxs)("p",{children:["Group: ",(0,a.jsx)("b",{children:p})]})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"10px 0"},children:[(0,a.jsxs)("p",{children:["Number of credits: ",(0,a.jsx)("b",{children:"2"})]}),(0,a.jsxs)("p",{children:["Hours: ",(0,a.jsx)("b",{})]})]}),(0,a.jsxs)("table",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\u2116"}),(0,a.jsx)("th",{children:"STUDENTS NAMES"}),(0,a.jsx)("th",{children:"ID number"}),(0,a.jsx)("th",{children:"CC"})]}),null==f?void 0:f.slice(0,18).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:t+1})}),(0,a.jsx)("td",{children:(0,a.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:null==e?void 0:e.userId})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:D(e)})})]},t))]}),(0,a.jsx)("br",{}),(0,a.jsx)("table",{children:null==f?void 0:f.slice(18).map((e,t)=>{var n;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:t+(null==f?void 0:(n=f.slice(0,18))===null||void 0===n?void 0:n.length)+1})}),(0,a.jsx)("td",{children:(0,a.jsxs)("p",{children:[null==e?void 0:e.fullName," "]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:null==e?void 0:e.userId})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsx)("p",{children:D(e)})})]},t)})}),(0,a.jsx)("p",{children:"CC-Current Control"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Teacher:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:r.fullName})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Head of Department:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:null==h?void 0:h.headOfDepartment})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Course Leader:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:null==h?void 0:h.courseLeader})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:20},children:[(0,a.jsx)("b",{children:"Head of Academic Affairs      Department:"}),(0,a.jsx)("p",{style:{width:80,borderBottom:"1px solid #000"}}),(0,a.jsx)("b",{children:null==h?void 0:h.headOfAcademicAffair})]})]})})]})})}}]);