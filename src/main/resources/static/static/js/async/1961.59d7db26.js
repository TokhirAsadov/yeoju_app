/*! For license information please see 1961.59d7db26.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["1961"],{17171:function(e,n,t){"use strict";var l=t("5751");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("64938")),o=t("85893"),a=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");n.default=a},39628:function(e,n,t){"use strict";var l=t("5751");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("64938")),o=t("85893"),a=(0,i.default)((0,o.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");n.default=a},55923:function(e,n,t){"use strict";t.r(n);var l=t("58865");t("25387"),t("72608"),t("2490"),t("33948"),t("57640"),t("9924");var i=t("85893"),o=t("67294"),a=t("71893"),r=t("39711"),d=t("16393"),u=t("23157"),s=t("41931"),c=t("27233"),p=t("50533"),f=t("89583");function h(){let e=(0,l._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  background-color: #fff;\n  height: 45vh;\n  border-radius: 10px;\n  color: ",";\n"]);return h=function(){return e},e}function v(){let e=(0,l._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  width: 90%;\n   \n"]);return v=function(){return e},e}function m(){let e=(0,l._)(["\n  display: flex;\n  justify-content: space-between;\n  & > div{\n    width: 250px!important;\n  }\n"]);return m=function(){return e},e}function x(){let e=(0,l._)(["\n  border: 1px solid ",";\n  height: 40px;\n  width: 200px;\n  padding-left: 10px!important;\n  border-radius: 5px;\n  display: ",";\n  \n  &::placeholder{\n    font-size: 14px;\n    letter-spacing: 1.1px;\n    color: ",";\n  }\n  &:focus{\n    outline: none;\n  }\n"]);return x=function(){return e},e}function g(){let e=(0,l._)(["\n  padding: 8px 55px;\n  margin-top: 25px!important;\n  background-color: ",";\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-size: 16px;\n  letter-spacing: 0.7px;\n  font-weight: 400;\n  cursor: pointer;\n  transition: all ease 0.4s;\n  border: none;\n  border-radius: 5px;\n  \n  &:focus{\n    transform: scale(0.9);\n  }\n"]);return g=function(){return e},e}function b(){let e=(0,l._)(["\n  font-size: 20px;\n"]);return b=function(){return e},e}function j(){let e=(0,l._)(["\n  font-size: 12px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 10px!important;\n"]);return j=function(){return e},e}function w(){let e=(0,l._)(["\n\n"]);return w=function(){return e},e}function y(){let e=(0,l._)(["\n  color: ",";\n  margin-bottom: 20px!important;\n"]);return y=function(){return e},e}function S(){let e=(0,l._)(["\n  text-decoration: none;\n  color: blue;\n"]);return S=function(){return e},e}let k=(0,s.default)(),C=e=>e.reduce((e,n)=>"lessonDtos"!==n.name?{...e,[n.name]:""}:{...e,[n.name]:[]},{}),_=a.default.form(h(),d.mainColor),I=a.default.div(v()),N=a.default.div(m()),D=a.default.input(x(),d.mainColor,e=>e.display?"none":"block",d.mainColor),T=a.default.button(g(),d.mainColor),R=a.default.label(b()),z=a.default.div(j()),F=a.default.span(w()),E=a.default.h3(y(),d.mainColor),A=(0,a.default)(r.Link)(S());n.default=e=>{let{title:n,formArr:t,submitBtn:l,onSubmit:a,updateItem:r,redirect:s}=e,[h,v]=(0,o.useState)([]),[m,x]=(0,o.useState)([]),[g,b]=(0,o.useState)([]),[j,w]=(0,o.useState)([]),[y,S]=(0,o.useState)([]),[B,L]=(0,o.useState)(C(t)),M=(0,p.useSelector)(e=>{var n;return null==e?void 0:null===(n=e.section)||void 0===n?void 0:n.section}),U=(e,n)=>{L(t=>({...t,[n]:e}))},H=(e,n)=>{L(t=>({...t,[n]:e.target.value}))},O=()=>{a(G(B))},{headers:Y}=(0,d.getHeaders)();(0,o.useEffect)(()=>{L({...B,id:null==r?void 0:r.id,userId:null==r?void 0:r.userId,kafedraId:null==M?void 0:M.id,lessonDtos:null==r?void 0:r.lessonDtos}),c.default.get(d.BASE_URL+"/user/getUserForTeacherSaving",{headers:Y}).then(e=>{var n,t,l,i,o,a,r,d,u,s,c;v(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.obj)||void 0===n?void 0:n.users),x(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(l=i.obj)||void 0===l?void 0:l.kafedras),b(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(o=a.obj)||void 0===o?void 0:o.subjects),w(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(r=d.obj)||void 0===r?void 0:r.positions),S(null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(s=c.obj)||void 0===s?void 0:null===(u=s.workerStatus)||void 0===u?void 0:u.map((e,n)=>({value:n,label:e})))}).catch(e=>{})},[]);let P=(e,n)=>{e.length>2&&"userId"===n&&c.default.get(d.BASE_URL+"/user/getUserForTeacherSavingSearch?keyword="+e,{headers:Y}).then(e=>{var n;v(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(e=>{})},G=e=>{var n,t,l,i;let o=null==e?void 0:null===(n=e.lessonDtos)||void 0===n?void 0:n.map(e=>{let{value:n,label:t}=e;return{id:n,name:t}});return{id:null==e?void 0:e.id,userId:null==e?void 0:null===(t=e.userId)||void 0===t?void 0:t.value,kafedraId:null==M?void 0:M.id,lessonDtos:o,workerStatus:null==e?void 0:null===(l=e.workerStatus)||void 0===l?void 0:l.label,positionId:null==e?void 0:null===(i=e.positionId)||void 0===i?void 0:i.value}};return G(B),(0,i.jsxs)(_,{children:[(0,i.jsx)(E,{children:n}),(0,i.jsx)(I,{children:null==t?void 0:t.map((e,n)=>{let{label:t,name:l,placeholder:o,type:a,value:r}=e;return"select"!==a?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(D,{display:"id"===l,id:l,name:l,type:a,value:B[l],onChange:e=>H(e,l),placeholder:o},n)}):(0,i.jsxs)(N,{children:[(0,i.jsx)(R,{htmlFor:l,children:t}),(0,i.jsx)(u.default,{width:"300px",closeMenuOnSelect:!0,components:k,isMulti:"lessonDtos"===l,options:"lessonDtos"===l?g:"userId"===l?h:"kafedraId"===l?m:"workerStatus"===l?y:j,onChange:e=>U(e,l),value:B[l],name:l,isClearable:!0,onInputChange:e=>P(e,l),isSearchable:!0})]})})}),(0,i.jsxs)(T,{onClick:e=>{e.preventDefault(),O()},children:[n.startsWith("UPDATE")?(0,i.jsx)(f.FaEdit,{}):(0,i.jsx)(f.FaSave,{}),l]}),!!s&&(0,i.jsxs)(z,{children:[(0,i.jsxs)(F,{children:[s.label,"\xa0"]}),(0,i.jsx)(A,{to:s.link.to,children:s.link.label})]})]})}},20007:function(e,n,t){"use strict";t.r(n);var l=t("58865");t("33948"),t("57640"),t("9924"),t("31672"),t("59461"),t("2490");var i=t("85893"),o=t("67294"),a=t("71893"),r=t("16393"),d=t("55693"),u=t("79352"),s=t("97367"),c=t("55923"),p=t("27233"),f=t("72132"),h=t("53432"),v=t("16356"),m=t("30381"),x=t.n(m),g=t("94718"),b=t("61006"),j=t("6115"),w=t("50533"),y=t("89583"),S=t("86893"),k=t("44025"),C=t("29258"),_=t("52861"),I=t("42154"),N=t("32392"),D=t("61261"),T=t("15352"),R=t("44118"),z=t("39628"),F=t("17171"),E=t("63750"),A=t("55605"),B=t("90650"),L=t("57024"),M=t("51649"),U=t("39711");function H(){let e=(0,l._)(["\n    width: 97vw !important;\n    padding: 10px !important;\n"]);return H=function(){return e},e}function O(){let e=(0,l._)(["\n    ","\n    ","\n    ","\n"]);return O=function(){return e},e}function Y(){let e=(0,l._)(["\n    width: 200px;\n    align-self: center;\n    border: 1px solid ",";\n    background-color: #fff;\n    color: ",";\n    border-radius: 0.5rem;\n    padding: 10px 15px !important;\n\n    &:hover {\n        background-color: ",";\n        color: white;\n    }\n"]);return Y=function(){return e},e}function P(){let e=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    background-color: #fff;\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid red;\n    border-radius: 0.5rem;\n    color: red;\n    padding: 5px !important;\n\n    &:hover {\n        transform: scale(1.1);\n    }\n\n"]);return P=function(){return e},e}function G(){let e=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    background-color: #fff;\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid ",";\n    border-radius: 0.5rem;\n    color: ",";\n    padding: 5px !important;\n\n    &:hover {\n        transform: scale(1.1);\n    }\n\n"]);return G=function(){return e},e}function V(){let e=(0,l._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return V=function(){return e},e}function W(){let e=(0,l._)(["\n    width: 100%;\n    display: flex;\n    gap: 10px;\n    margin: 5px !important;\n"]);return W=function(){return e},e}function q(){let e=(0,l._)(["\n    height: 390px;\n    padding-top: 10px;\n    display: grid;\n    overflow-y: scroll;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 30px;\n    ","\n    ","\n    ","\n"]);return q=function(){return e},e}function K(){let e=(0,l._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n    margin: 5px !important;\n"]);return K=function(){return e},e}function X(){let e=(0,l._)(["\n    width: 100%;\n    background-color: #fff;\n    border-radius: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return X=function(){return e},e}function J(){let e=(0,l._)(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: 20px;\n    ","\n"]);return J=function(){return e},e}function Q(){let e=(0,l._)(["\n    margin: 20px 0;\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    color: ",";\n"]);return Q=function(){return e},e}function Z(){let e=(0,l._)(["\n    width: 100%;\n    padding: 10px !important;\n"]);return Z=function(){return e},e}function $(){let e=(0,l._)(["\n    ","\n    ","\n    ","\n"]);return $=function(){return e},e}function ee(){let e=(0,l._)(["\n    ","\n"]);return ee=function(){return e},e}let en=(0,i.jsx)(z.default,{fontSize:"small"}),et=(0,i.jsx)(F.default,{fontSize:"small"}),el={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",minHeight:"70vh",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},ei=a.default.div(H()),eo={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},ea=a.default.div(O(),(0,L.medium)({width:"97vw !important",height:"97vh !important"}),(0,L.small)({width:"97vw !important",height:"97vh !important"}),(0,L.extrasmall)({width:"97vw !important",height:"97vh !important"}));a.default.button(Y(),r.mainColor,r.mainColor,r.mainColor);let er=a.default.button(P()),ed=a.default.button(G(),r.mainColor,r.mainColor),eu=(0,a.default)(B.motion.button)(V(),r.mainColor),es=a.default.div(W()),ec=a.default.div(q(),(0,L.medium)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,L.small)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,L.extrasmall)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),ep=a.default.div(K()),ef=a.default.div(X()),eh=a.default.div(J(),(0,L.extrasmall)({margin:"20px 0",justifyContent:"center"})),ev=a.default.h3(Q(),r.mainColor),em=a.default.div(Z()),ex={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,padding:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:8},eg=a.default.div($(),(0,L.medium)({width:"600px !important",padding:"20px 15px !important"}),(0,L.small)({width:"580px !important",padding:"20px 15px !important"}),(0,L.extrasmall)({width:"98vw !important",padding:"80px 10px !important"})),eb={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",minHeight:400,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},ej=a.default.div(ee(),(0,L.extrasmall)({width:"97vw !important",padding:"10px !important"})),ew={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"98vw",height:"98vh",overflowY:"scroll",bgcolor:"background.paper",borderRadius:3,boxShadow:24,positions:"relative"};n.default=()=>{let[e,n]=(0,o.useState)(!0),[t,l]=(0,o.useState)(!1),a=(0,U.useNavigate)(),m=()=>l(!0),z=()=>{l(!1),eL(!1)},[F,B]=(0,o.useState)(!1),L=(e,n,t)=>(K(e),Z(t),J(n),B(!0)),H=()=>{B(!1)},[O,Y]=(0,o.useState)(!1),P=e=>{J(e),Y(!0)},{headers:G}=(0,r.getHeaders)(),[V,W]=(0,o.useState)({}),[q,K]=(0,o.useState)(""),[X,J]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),$=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"fullName",headerName:"Name",type:"string",width:300,editable:!1,renderCell:e=>{var n,t,l,o;return(0,i.jsxs)(es,{children:[(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.photo)?(0,i.jsx)("img",{src:(null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.photo)?r.BASE_URL+"/attachment/download/"+(null==e?void 0:null===(o=e.row)||void 0===o?void 0:null===(l=o.photo)||void 0===l?void 0:l.id):"",width:"40px",height:"40px",alt:null==e?void 0:e.value,style:{borderRadius:"50%"}}):(0,i.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:(0,i.jsx)(y.FaUserAlt,{})}),(0,i.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:(0,i.jsx)(g.default,{onClick:()=>{var n;return P(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.id)},children:null==e?void 0:e.value})})]})}},{field:"login",headerName:"Login",type:"string",width:300,editable:!1},{field:"email",headerName:"Email",type:"string",width:300,editable:!1},{field:"rfid",headerName:"RFID",type:"string",width:300,editable:!1},{field:"passport",headerName:"Passport",type:"string",width:300,editable:!1},{field:"articles",headerName:"Ilmiy maqolalari",type:"string",width:140,editable:!1},{field:"countTouch",headerName:"Kelgan kunlari \n".concat(x()(new Date).format("MMM")),type:"string",width:180,editable:!1,renderCell:e=>(0,i.jsx)(ep,{children:(0,i.jsxs)(g.default,{onClick:()=>{var n,t,l,i;return L(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.fullName,null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.id,null==e?void 0:null===(i=e.row)||void 0===i?void 0:null===(l=i.photo)||void 0===l?void 0:l.id)},children:[null==e?void 0:e.value,(0,i.jsx)(E.BsCalendar2Date,{size:20})]})})},{field:"positions",headerName:"Shtat birligi va lavozimi",type:"string",width:200,editable:!1,renderCell:e=>(0,i.jsx)(ep,{children:null==e?void 0:e.value})},{field:"STATUS",headerName:"Status",type:"string",width:100,editable:!1,renderCell:e=>(0,i.jsxs)(ep,{children:[(0,i.jsx)(ed,{onClick:()=>{var n;return eM(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.id)},children:(0,i.jsx)(S.FiEdit,{})}),(0,i.jsx)(er,{onClick:()=>{var n,t;return eI(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.id,null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.fullName)},children:(0,i.jsx)(E.BsTrash,{})})]})}],[ee,ey]=(0,o.useState)([]),[eS,ek]=(0,o.useState)([]),eC=(0,w.useDispatch)(),e_=e=>{(null==e?void 0:e.id)===""&&(e.id=null),p.default.post(r.BASE_URL+"/teacher/save",e,{headers:G}).then(e=>{f.toast.success("Teacher saved successfully."),eT(),l(!1)}).catch(e=>{})},eI=(e,n)=>{window.confirm("Do you want to delete ".concat(n,"?"))&&p.default.delete(r.BASE_URL+"/kafera-mudiri/deletedTeacherWithUserId/"+e,{headers:G}).then(e=>{var n;f.toast.error(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),eT()}).catch(e=>{})},eN=e=>{p.default.put(r.BASE_URL+r.ADMIN.BUILDING_UPDATE,e,{headers:G}).then(e=>{202===e.status&&f.toast.success("Building updated successfully!...")}).catch(e=>{})},eD=(0,w.useSelector)(e=>{var n;return null==e?void 0:null===(n=e.section)||void 0===n?void 0:n.section}),eT=()=>{n(!0),ey([]),p.default.get(r.BASE_URL+"/kafera-mudiri/getStatistics?id="+(null==eD?void 0:eD.id),{headers:G}).then(e=>{var t,l;ey(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(t=l.obj)||void 0===t?void 0:t.sort((e,n)=>e.fullName>n.fullName?1:-1)),n(!1)}).catch(e=>eC((0,C.kafedraTeacherStatisticsFetchingError)(e)))},eR=(0,w.useSelector)(e=>{var n,t;return null==e?void 0:null===(t=e.section)||void 0===t?void 0:null===(n=t.section)||void 0===n?void 0:n.id}),[ez,eF]=(0,o.useState)({id:"",kafedraId:eR,fullName:"",rfid:"",login:"",email:"",passportNum:"",nationality:"",citizenship:"",position:"",workStatus:"",subjects:[],rate:""}),[eE,eA]=(0,o.useState)([]),[eB,eL]=(0,o.useState)(!1),eM=e=>{p.default.get(r.BASE_URL+"/kafera-mudiri/positionEdit?id="+e,{headers:G}).then(e=>{var n,t,l,i,o;ek(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(t=l.obj)||void 0===t?void 0:null===(n=t.positions)||void 0===n?void 0:n.map(e=>e.label)),eA(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(i=o.obj)||void 0===i?void 0:i.subjects)}).catch(e=>{}),K(ee.find(n=>n.id===e)),eF(n=>{var t;return{...n,id:e,fullName:ee.find(n=>n.id===e).fullName,login:ee.find(n=>n.id===e).login,email:ee.find(n=>n.id===e).email,rfid:ee.find(n=>n.id===e).rfid,passportNum:ee.find(n=>n.id===e).passport,position:null===(t=ee.find(n=>n.id===e))||void 0===t?void 0:t.positions,nationality:ee.find(n=>n.id===e).nationality,citizenship:ee.find(n=>n.id===e).citizenship,workStatus:ee.find(n=>n.id===e).status,subjects:ee.find(n=>n.id===e).subjects,rate:ee.find(n=>n.id===e).rate}}),eL(!0)},eU=e=>{eF(n=>({...n,[e.target.name]:e.target.value}))},[eH,eO]=(0,o.useState)(""),[eY,eP]=(0,o.useState)(!1),eG=()=>{eP(!1)};return(0,o.useEffect)(()=>{eT()},[]),(0,i.jsxs)(em,{children:[(0,i.jsxs)(ev,{children:["Table of Teachers",(0,i.jsxs)(eh,{children:[(0,i.jsx)(g.default,{variant:"contained",onClick:()=>{eP(!0)},children:"Monthly visitation statistics"}),(0,i.jsx)(g.default,{variant:"contained",color:"success",onClick:()=>{W({...V,id:null,userId:null,kafedraId:null,lessonDtos:null}),m()},endIcon:(0,i.jsx)(E.BsPersonFillAdd,{}),children:" Add Teacher"}),(0,i.jsx)(g.default,{variant:"contained",color:"inherit",onClick:()=>a("table"),endIcon:(0,i.jsx)(M.IoMdBookmarks,{}),children:" Table"})]})]}),(0,i.jsx)(s.default,{open:eY,onClose:eG,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(d.default,{sx:el,component:ei,children:[(0,i.jsx)(eu,{onClick:eG,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(u.RiCloseLine,{})}),(0,i.jsx)(A.default,{colName:"Teachers",isTeacher:!0,date:new Date,userName:eD.name,kafedraId:eD.id,url:"/kafera-mudiri/getStatisticssForRektor?kafedraId="})]})}),(0,i.jsx)(ef,{children:e?(0,i.jsx)(h.default,{}):(0,i.jsx)(v.DataGrid,{checkboxSelection:!0,style:{width:"500px!important",minHeight:"300px!important"},columns:$,rows:ee,components:{Toolbar:v.GridToolbar},autoHeight:!0,pageSize:10,rowsPerPageOptions:[10,20],initialState:{...null==ee?void 0:ee.initialState,columns:{columnVisibilityModel:{id:!1,login:!1,card:!1,rfid:!1,email:!1,passport:!1}}}})}),(0,i.jsx)(s.default,{open:eB,onClose:z,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(d.default,{sx:eo,component:ea,children:[(0,i.jsx)(eu,{onClick:z,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(u.RiCloseLine,{})}),(0,i.jsxs)("h3",{style:{color:"".concat(r.mainColor)},children:["Edit ",null==q?void 0:q.fullName," teacher"]}),(0,i.jsxs)(ec,{children:[(0,i.jsx)(_.default,{id:"outlined-basicdfh",label:"Full Name",variant:"outlined",value:null==ez?void 0:ez.fullName,name:"fullName",onChange:eU}),(0,i.jsx)(_.default,{id:"outlined-basicdfh",label:"RFID",variant:"outlined",value:null==ez?void 0:ez.rfid,name:"rfid",onChange:eU,disabled:!0}),(0,i.jsxs)(I.default,{fullWidth:!0,children:[(0,i.jsx)(N.default,{id:"demo-simple-select-label",children:"Status"}),(0,i.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==ez?void 0:ez.workStatus,label:"Status",name:"workStatus",onChange:eU,children:[(0,i.jsx)(D.default,{value:"ASOSIY",children:"ASOSIY"}),(0,i.jsx)(D.default,{value:"SOATBAY",children:"SOATBAY"}),(0,i.jsx)(D.default,{value:"ORINDOSH",children:"ORINDOSH"})]})]}),(0,i.jsx)(_.default,{id:"outlined-basicdfhe",label:"Login",variant:"outlined",value:null==ez?void 0:ez.login,name:"login",onChange:eU,disabled:!0}),(0,i.jsx)(_.default,{id:"outlined-basrwic",label:"Citizenship",variant:"outlined",value:null==ez?void 0:ez.citizenship,name:"citizenship",onChange:eU}),(0,i.jsx)(_.default,{id:"outlined-badjsic",label:"Email",variant:"outlined",value:null==ez?void 0:ez.email,name:"email",onChange:eU}),(0,i.jsx)(_.default,{id:"outlidfjned-basic",label:"Passport",variant:"outlined",value:null==ez?void 0:ez.passportNum,name:"passportNum",onChange:eU,disabled:!0}),(0,i.jsxs)(I.default,{fullWidth:!0,children:[(0,i.jsx)(N.default,{id:"demo-simple-select-label",children:"Position"}),(0,i.jsx)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-sretelect",value:null==ez?void 0:ez.position,label:"Position",name:"position",onChange:eU,children:null==eS?void 0:eS.map(e=>(0,i.jsx)(D.default,{value:e,children:e},e))})]}),(0,i.jsx)(_.default,{id:"outtylined-basic",label:"Nationality",variant:"outlined",value:null==ez?void 0:ez.nationality,name:"nationality",onChange:eU}),(0,i.jsx)(R.default,{multiple:!0,id:"checkboxes-tags-demo",options:eE,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:ez.subjects,onChange:(e,n)=>{eF(e=>({...e,subjects:n}))},inputValue:eH,onInputChange:(e,n)=>{eO(n)},renderOption:(e,n,t)=>{let{selected:l}=t;return(0,i.jsxs)("li",{...e,children:[(0,i.jsx)(T.default,{icon:en,checkedIcon:et,style:{marginRight:8},checked:l}),n]})},renderInput:e=>(0,i.jsx)(_.default,{...e,label:"Subjects",placeholder:"Subjects of Teacher"})}),(0,i.jsx)(_.default,{id:"outlined-basicdfhdsg",label:"Rate",variant:"outlined",type:"number",value:null==ez?void 0:ez.rate,name:"rate",onChange:eU})]}),(0,i.jsx)(d.default,{sx:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(g.default,{endIcon:(0,i.jsx)(y.FaRegSave,{}),variant:"contained",onClick:()=>{var e;(null==ez?void 0:ez.fullName)!==""&&(null==ez?void 0:ez.fullName)!==null&&(null==ez?void 0:null===(e=ez.subjects)||void 0===e?void 0:e.length)!==0&&(null==ez?void 0:ez.subjects)!==null&&(null==ez?void 0:ez.position)!==""&&(null==ez?void 0:ez.position)!==null&&(null==ez?void 0:ez.workStatus)!==""&&(null==ez?void 0:ez.workStatus)!==null&&(null==ez?void 0:ez.login)!==""&&(null==ez?void 0:ez.login)!==null&&(null==ez?void 0:ez.passportNum)!==""&&(null==ez?void 0:ez.passportNum)!==null&&(null==ez?void 0:ez.rfid)!==""&&(null==ez?void 0:ez.rfid)!==null&&(null==ez?void 0:ez.rate)!==""&&(null==ez?void 0:ez.rate)!==null?(n(!0),p.default.post(r.BASE_URL+"/kafera-mudiri/changeTeacher",ez,{headers:G}).then(e=>{var t,l,i;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.success)?(f.toast.success(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.message),eL(!1),eT()):(f.toast.error(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message),n(!1))}).catch(e=>{n(!1)})):f.toast.warning("Empty any fields..")},children:"Update"})})]})}),(0,i.jsx)(s.default,{open:t,onClose:z,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(d.default,{sx:ex,component:eg,children:[(0,i.jsx)(eu,{onClick:z,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(u.RiCloseLine,{})}),(0,i.jsx)(c.default,{title:"Add Teacher",formArr:[{label:"id",name:"id",placeholder:"Enter id of build",type:"text"},{label:"Select User:",name:"userId",placeholder:"Select User",type:"select"},{label:"Select Status:",name:"workerStatus",placeholder:"Select Status",type:"select"},{label:"Select Subjects:",name:"lessonDtos",placeholder:"Select Subjects",type:"select"},{label:"Select Position:",name:"positionId",placeholder:"Select Position",type:"select"},{label:"Rate:",name:"RateId",placeholder:"rate",type:"number"}],submitBtn:(null==V?void 0:V.id)!==null?"Update":"Save",onSubmit:e=>(null==V?void 0:V.id)!==null?eN(e):e_(e),updateItem:V})]})}),(0,i.jsx)(s.default,{open:F,onClose:H,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(d.default,{sx:eb,component:ej,children:[(0,i.jsx)(eu,{onClick:H,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(u.RiCloseLine,{})}),(0,i.jsx)(b.default,{userName:q,userId:X,date:new Date,photo:Q})]})}),(0,i.jsx)(s.default,{open:O,onClose:P,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(d.default,{sx:{...ew},children:[(0,i.jsx)(eu,{onClick:()=>{Y(!1)},whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(u.RiCloseLine,{})}),(0,i.jsx)(j.default,{selectId:X,photo:Q})]})})]})}},55605:function(e,n,t){"use strict";t.r(n);var l=t("58865");t("33948"),t("57640"),t("9924"),t("15581"),t("34514"),t("2490"),t("57658");var i=t("85893"),o=t("67294"),a=t("30381"),r=t.n(a),d=t("71893"),u=t("16393"),s=t("94718"),c=t("45155"),p=t("27233"),f=t("55693"),h=t("7104"),v=t("79352"),m=t("97367"),x=t("48684"),g=t("50533"),b=t("90650"),j=t("57024"),w=t("37595"),y=t("70231");function S(){let e=(0,l._)(["\n  flex: 3;\n  display: flex;\n  font-size: ",";\n  border: 1px solid ",";\n  align-items: center;\n  justify-content: center;\n  padding: 5px 10px !important;\n"]);return S=function(){return e},e}function k(){let e=(0,l._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return k=function(){return e},e}function C(){let e=(0,l._)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 26px;\n  color: ",";\n"]);return C=function(){return e},e}function _(){let e=(0,l._)(["\n  display: flex;\n  gap: 20px;\n"]);return _=function(){return e},e}function I(){let e=(0,l._)(["\n  width: 100%;\n  min-height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: bold;\n  border: 1px solid ",";\n  color: ",";\n  background-color: ",";\n  transition: 0.1s all ease-in;\n\n  &:hover {\n    filter: brightness(.7);\n  }\n\n  &:focus {\n    transform: scale(0.95);\n  }\n"]);return I=function(){return e},e}function N(){let e=(0,l._)(["\n  font-size: 12px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return N=function(){return e},e}function D(){let e=(0,l._)(["\n  width: 100%;\n  min-height: 40px;\n  border: 1px solid ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return D=function(){return e},e}function T(){let e=(0,l._)(["\n  flex: 1;\n  height: 47px;\n  display: flex;\n  //flex-direction: column;\n"]);return T=function(){return e},e}function R(){let e=(0,l._)(["\n  display: flex;\n  width: 1200px;\n  margin: 0 auto;\n"]);return R=function(){return e},e}function z(){let e=(0,l._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-size: 24px;\n"]);return z=function(){return e},e}function F(){let e=(0,l._)(["\n  width: 100%;\n    height: 70vh;\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  margin-top: 25px !important;\n"]);return F=function(){return e},e}function E(){let e=(0,l._)(["\n  width: 800px;\n  padding: 5px 10px !important;\n"]);return E=function(){return e},e}function A(){let e=(0,l._)(["\n  ","\n  ","\n"]);return A=function(){return e},e}let B=d.default.div(S(),e=>e.sz?"12px":"8px",u.mainColor),L=(0,d.default)(b.motion.button)(k(),u.mainColor),M=d.default.div(C(),u.mainColor),U=d.default.div(_()),H=d.default.button(I(),u.mainColor,e=>e.bg?"#fff":e.color?"green":"red",e=>e.bg?e.bg:"#fff"),O=d.default.span(N()),Y=d.default.div(D(),u.mainColor),P=d.default.div(T()),G=d.default.div(R()),V=d.default.div(z()),W=d.default.div(F()),q=d.default.div(E()),K={width:"40px!important",height:"40px!important",fontSize:"24px"},X={border:"none"},J={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50vw",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},Q=d.default.div(A(),(0,j.small)({width:"80vw !important"}),(0,j.extrasmall)({width:"90vw !important"}));n.default=e=>{let{userName:n,kafedraId:t,date:l,forUser:a,url:d,isTeacher:b,colName:j}=e,[S,k]=(0,o.useState)(l),[C,_]=(0,o.useState)([]),[I,N]=(0,o.useState)(null),[D,T]=(0,o.useState)(null),[R,z]=(0,o.useState)(null),[F,E]=(0,o.useState)(!1),A=(e,n)=>{var t;T(new Date(S.getFullYear(),S.getMonth(),e)),z(null===(t=I[n])||void 0===t?void 0:t.monthly[e]),E(!0)},Z=()=>{E(!1)},{headers:$}=(0,u.getHeaders)(),ee=e=>e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate();(0,o.useEffect)(()=>{_(()=>Array.from(Array(r()(S).daysInMonth()).keys()).map(e=>e+1)),ed()},[S]);let[en,et]=(0,o.useState)([]),el=()=>{null==I||I.map(e=>{let n=0;return null==C||C.map(t=>{(null==e?void 0:e.monthly[t])!=null&&n++}),et(e=>[...e,n]),e})};(0,o.useEffect)(()=>{N(b?eu:es)},[]);let[ei,eo]=(0,o.useState)(!1);(0,o.useEffect)(()=>{et([]),el()},[ei]);let[ea,er]=(0,o.useState)(!0),ed=async()=>{er(!0),await p.default.get("".concat(u.BASE_URL+d+t,"&date=").concat(ee(S)),{headers:$}).then(e=>{var n,t;N(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.obj)||void 0===n?void 0:n.all),er(!1),eo(e=>!e)}).catch(e=>{})},eu=(0,g.useSelector)(e=>{var n,t;return null==e?void 0:null===(t=e.rektorTeachers)||void 0===t?void 0:null===(n=t.rektorTeachers)||void 0===n?void 0:n.allTeachers}),es=(0,g.useSelector)(e=>{var n,t;return null==e?void 0:null===(t=e.rektorStaffs)||void 0===t?void 0:null===(n=t.rektorStaffs)||void 0===n?void 0:n.allStaffs});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(q,{style:{width:"".concat(a||"100%")},children:[(0,i.jsx)(U,{children:(0,i.jsx)(M,{children:n})}),(0,i.jsx)("hr",{}),(0,i.jsxs)(V,{children:[(0,i.jsx)(s.default,{style:K,onClick:()=>{k(new Date(S.getFullYear(),S.getMonth()-1))},children:(0,i.jsx)(c.GrFormPrevious,{})}),(0,i.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:r()(S).format("YYYY-MM"),onChange:e=>k(new Date(e.target.value)),style:X}),(0,i.jsx)(s.default,{style:K,onClick:()=>{k(new Date(S.getFullYear(),S.getMonth()+1))},children:(0,i.jsx)(c.GrFormNext,{})})]}),(0,i.jsx)(W,{children:ea?(0,i.jsx)(h.Skeleton,{animation:"wave",width:a||"100%",height:120}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{children:null==C?void 0:C.map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[1===e&&(0,i.jsx)(B,{sz:!0,children:j},n),(0,i.jsx)(P,{children:(0,i.jsxs)(Y,{children:[e,(0,i.jsx)(O,{children:r()(new Date(S.getFullYear(),S.getMonth(),e)).format("ddd")})]})},e),e===(null==C?void 0:C.length)&&(0,i.jsx)(P,{children:(0,i.jsx)(Y,{children:"\u2211"})})]}))}),null==I?void 0:I.map((e,n)=>(0,i.jsxs)(G,{children:[(0,i.jsx)(B,{children:e.fullName}),null==C?void 0:C.map(t=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{children:(0,i.jsx)(H,{color:e.monthly[t],onClick:()=>A(t,n),children:new Date(S.getFullYear(),S.getMonth(),t)<=new Date?e.monthly[t]?(0,i.jsx)(y.FaCircleCheck,{}):(0,i.jsx)(y.FaCircleXmark,{}):""})},t),t===(null==C?void 0:C.length)&&(0,i.jsx)(P,{children:(0,i.jsx)(H,{color:0!==en[n],bg:0!==en[n]?"green":"red",children:en[n]})})]}))]}))]})}),(0,i.jsx)(f.default,{display:"flex",justifyContent:"end",mt:1,children:(0,i.jsx)(s.default,{onClick:()=>{if(!I)return;let e=[[j,...C.map(e=>e.toString()),"Total"],...I.map(e=>{let n=[e.fullName],t=0;return C.forEach(l=>{if(new Date(S.getFullYear(),S.getMonth(),l)<=new Date){let i=e.monthly[l]?"1":"0";n.push(i),t+=parseInt(i)}else n.push("")}),n.push(t.toString()),n})],n=w.utils.aoa_to_sheet(e),t=w.utils.book_new();w.utils.book_append_sheet(t,n,"Sheet1"),w.writeFile(t,"exported_data.xlsx")},variant:"contained",children:"Export"})}),(0,i.jsx)(m.default,{open:F,onClose:Z,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(f.default,{sx:J,component:Q,children:[(0,i.jsx)(L,{onClick:Z,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(v.RiCloseLine,{})}),(0,i.jsx)(x.default,{time:D,item:R})]})})]})})}}}]);