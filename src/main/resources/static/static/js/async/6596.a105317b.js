/*! For license information please see 6596.a105317b.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6596"],{25681:function(n,e,t){"use strict";t.r(e);var i=t("58865");t("31672"),t("59461"),t("2490"),t("33948"),t("17727"),t("57640"),t("9924");var l=t("85893"),o=t("67294"),a=t("71893"),r=t("16393"),d=t("39711"),u=t("96245"),s=t("50533"),f=t("27233"),c=t("89583"),p=t("97367"),x=t("55693"),m=t("79352"),v=t("53432"),h=t("84014"),g=t("90650"),j=t("73290"),y=t("11707"),b=t("57024"),S=t("7104"),k=t("11331");function w(){let n=(0,i._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return w=function(){return n},n}function C(){let n=(0,i._)(["\n    align-self: flex-end;\n    color: ",";\n    display: flex;\n\n"]);return C=function(){return n},n}function _(){let n=(0,i._)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    font-size: 30px;\n    font-weight: 200;\n"]);return _=function(){return n},n}function R(){let n=(0,i._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    font-weight: 500;\n"]);return R=function(){return n},n}function T(){let n=(0,i._)(["\n    margin-top: -35px;\n    width: 55px;\n    height: 55px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 30px;\n    background: #deedf4;\n    border-radius: 15%;\n"]);return T=function(){return n},n}function E(){let n=(0,i._)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    font-size: 24px;\n"]);return E=function(){return n},n}function N(){let n=(0,i._)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 5px 15px !important;\n    margin-top: 10px !important;\n"]);return N=function(){return n},n}function z(){let n=(0,i._)(["\n    height: 150px;\n    width: 100%;\n    display: flex;\n    background-color: #fff;\n    border-radius: 10px;\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    }\n"]);return z=function(){return n},n}function L(){let n=(0,i._)(["\n    margin: 30px 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 40px;\n    padding: 10px 0 !important;\n\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return L=function(){return n},n}let A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24,borderRadius:3,outline:"none",p:4},K=(0,a.default)(g.motion.button)(w(),r.mainColor),O=a.default.div(C(),n=>n.color?"lime":"red"),B=a.default.div(_()),F=a.default.span(R()),U=a.default.span(T()),D=a.default.span(E()),I=a.default.div(N()),H=(0,a.default)(g.motion.div)(z(),r.mainColor),M=(0,a.default)(g.motion.div)(L(),(0,b.xlarge)({gridTemplateColumns:"repeat(3,1fr)"}),(0,b.large)({gridTemplateColumns:"repeat(3,1fr)"}),(0,b.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,b.small)({gridTemplateColumns:"repeat(2,1fr)"}),(0,b.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"}));e.default=n=>{var e,t,i,a,b;let{s:w}=n,C=(0,d.useNavigate)();(0,o.useEffect)(()=>{var n,e;let t=localStorage.getItem(r.TOKEN),i=(0,u.default)(t),l=null==i?void 0:null===(n=i.roles.find(n=>"ROLE_REKTOR"===n.roleName))||void 0===n?void 0:n.roleName,o=null==i?void 0:null===(e=i.roles.find(n=>"Kengash raisi"===n.roleName))||void 0===e?void 0:e.roleName;"ROLE_REKTOR"!==l&&"Kengash raisi"!==o&&C("/login")},[]);let[_,R]=(0,o.useState)([]),[T,E]=(0,o.useState)(""),[N,z]=(0,o.useState)(!1),[L,P]=(0,o.useState)(!1);(0,o.useEffect)(()=>{z(!0),f.default.get(r.BASE_URL+"/user/rektorStaff?s=".concat(w),{headers:G}).then(n=>{R(null==n?void 0:n.data)}).catch(n=>{}).finally(()=>{z(!1)})},[w]);let q=(0,s.useDispatch)(),{headers:G}=(0,r.getHeaders)(),J=(n,e)=>{E(e),P(!0),q((0,j.rektorStaffsFetching)("loading")),f.default.get(r.BASE_URL+"/user/getSectionStaffDataForRektorBySectionId?id=".concat(n,"&s=").concat(!w),{headers:G}).then(n=>{var e;q((0,y.fetchRektorStaffs)(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj))}).catch(n=>{})},Q=()=>{P(!1)},V=(0,s.useSelector)(n=>null==n?void 0:n.rektorStaffs),W={visible:n=>({scale:1,transition:{delay:.1*n}}),hidden:{scale:0}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(M,{children:N?Array.from({length:5}).map((n,e)=>(0,l.jsx)(S.Skeleton,{sx:{transform:"scale(1,1)"},height:180},e)):null==_?void 0:_.map((n,e)=>{var t,i,o,a;return(0,l.jsx)(H,{onClick:()=>J(n.id,n.name),custom:e,animate:"visible",variants:W,initial:"hidden",children:(0,l.jsxs)(I,{children:[(0,l.jsxs)(D,{children:[(0,l.jsx)(U,{children:(0,l.jsx)(c.FaUserTie,{})}),(0,l.jsx)(O,{color:(null==n?void 0:n.data)!==null&&(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.comeCount)!==null,children:(null==n?void 0:n.data)===null?0:(null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.comeCount)===null?0:null==n?void 0:null===(o=n.data)||void 0===o?void 0:o.comeCount})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)(F,{children:[(0,l.jsx)("span",{style:{fontSize:"14px"},children:null==n?void 0:n.name}),(0,l.jsx)(B,{children:(null==n?void 0:n.data)===null?0:null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.allCount})]})]})},n.id)})}),!N&&(0,l.jsx)(x.default,{display:"flex",justifyContent:"end",sx:{width:"100%",my:3},children:(0,l.jsx)(k.default,{direction:"Data_".concat(w?"staff":"deans"),dataToExcel:_})}),(0,l.jsx)(g.AnimatePresence,{children:L&&(0,l.jsx)(p.default,{open:L,onClose:Q,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:g.motion.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,l.jsxs)(x.default,{sx:A,children:[(0,l.jsx)(K,{onClick:Q,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,l.jsx)(m.RiCloseLine,{})}),(0,l.jsx)("h2",{style:{textAlign:"center",color:r.mainColor,marginBottom:"10px"},children:T}),(null==V?void 0:V.rektorStaffsLoadingStatus)==="loading"?(0,l.jsx)(v.default,{}):(0,l.jsx)(h.default,{colName:"Staffs",isTeacherUrl:!1,kafedraMudiri:null==V?void 0:null===(e=V.rektorStaffs)||void 0===e?void 0:e.boss,all:null==V?void 0:null===(t=V.rektorStaffs)||void 0===t?void 0:t.allStaffs,come:null==V?void 0:null===(i=V.rektorStaffs)||void 0===i?void 0:i.comeStaff,noCome:null==V?void 0:null===(a=V.rektorStaffs)||void 0===a?void 0:a.noComeStaff,facultyName:T,kafedraId:null==V?void 0:null===(b=V.rektorStaffs)||void 0===b?void 0:b.id})]})})})]})}}}]);