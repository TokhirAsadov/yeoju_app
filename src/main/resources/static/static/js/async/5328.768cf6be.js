/*! For license information please see 5328.768cf6be.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5328"],{17171:function(e,l,n){"use strict";var o=n("5751");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var t=o(n("64938")),i=n("85893"),d=(0,t.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");l.default=d},39628:function(e,l,n){"use strict";var o=n("5751");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var t=o(n("64938")),i=n("85893"),d=(0,t.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");l.default=d},33141:function(e,l,n){"use strict";n.r(l);var o=n("58865");n("33948"),n("88449"),n("19894"),n("2490"),n("25387"),n("72608"),n("31672"),n("59461"),n("57640"),n("9924"),n("68216"),n("79433");var t=n("85893"),i=n("67294"),d=n("71893"),a=n("27233"),u=n("16393"),r=n("72132"),s=n("53432"),c=n("16356"),v=n("86893"),p=n("63750"),h=n("97367"),f=n("55693"),m=n("79352"),x=n("52861"),g=n("44118"),b=n("15352"),j=n("90650"),y=n("57024"),w=n("39628"),C=n("17171"),k=n("89583"),S=n("42154"),O=n("32392"),I=n("61261"),R=n("44025"),_=n("94718"),E=n("7104");function T(){let e=(0,o._)(["\n  height: 250px;\n  padding-top: 10px;\n  display: grid;\n  overflow-y: scroll;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 30px;\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}function N(){let e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return N=function(){return e},e}function U(){let e=(0,o._)(["\n  ","\n  ","\n  ",""]);return U=function(){return e},e}function B(){let e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid red;\n  border-radius: 0.5rem;\n  color: red;\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"]);return B=function(){return e},e}function L(){let e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"]);return L=function(){return e},e}function z(){let e=(0,o._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin: 5px !important;\n"]);return z=function(){return e},e}function D(){let e=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 1rem;\n"]);return D=function(){return e},e}let H=(0,t.jsx)(w.default,{fontSize:"small"}),F=(0,t.jsx)(C.default,{fontSize:"small"}),A=d.default.div(T(),(0,y.medium)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,y.small)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,y.extrasmall)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),P=(0,d.default)(j.motion.button)(N(),u.mainColor),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},V=d.default.div(U(),(0,y.medium)({width:"97vw !important",height:"97vh !important"}),(0,y.small)({width:"97vw !important",height:"97vh !important"}),(0,y.extrasmall)({width:"97vw !important",height:"97vh !important"})),M=d.default.button(B()),G=d.default.button(L(),u.mainColor,u.mainColor),Q=d.default.div(z()),Z=d.default.div(D());l.default=()=>{let[e,l]=(0,i.useState)([]),[n,o]=(0,i.useState)(!1),[d,j]=(0,i.useState)([]),[y,w]=(0,i.useState)([]),[C,T]=(0,i.useState)(!1),[N,U]=(0,i.useState)([]),[B,L]=(0,i.useState)([]),[z,D]=(0,i.useState)([]),[W,q]=(0,i.useState)({id:null,name:null,owner:null,room:null,phone:null,eduType:null,facultiesName:[],roles:[],positions:[]}),[J,X]=(0,i.useState)(null);(0,i.useEffect)(()=>{},[W]),(0,i.useEffect)(()=>{n&&eo()},[n]);let Y=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"name",headerName:"Name",type:"string",width:300,editable:!1},{field:"owner",headerName:"Dean",type:"string",width:300,editable:!1,renderCell:e=>{var l,n;return(0,t.jsx)("div",{children:null==e?void 0:null===(n=e.row)||void 0===n?void 0:null===(l=n.owner)||void 0===l?void 0:l.fullName})}},{field:"room",headerName:"Room",type:"string",width:100,editable:!1},{field:"phone",headerName:"Phone",type:"string",width:200,editable:!1},{field:"service",headerName:"Service",type:"string",width:200,editable:!1,renderCell:e=>(0,t.jsxs)(Q,{children:[(0,t.jsx)(G,{onClick:()=>{var l;return el(null==e?void 0:null===(l=e.row)||void 0===l?void 0:l.id)},children:(0,t.jsx)(v.FiEdit,{})}),(0,t.jsx)(M,{onClick:()=>{var l,n;return ee(null==e?void 0:null===(l=e.row)||void 0===l?void 0:l.id,null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.name)},children:(0,t.jsx)(p.BsTrash,{})})]})}],{headers:$}=(0,u.getHeaders)(),ee=(e,l)=>{q({id:null,nameEn:null,nameRu:null,nameUz:null,owner:null,eduType:null,room:null,phone:null,roles:[],positions:[]}),window.confirm("Do you want to delete ".concat(l,"?"))&&(a.default.delete("".concat(u.BASE_URL,"/dekanat/deleteById/").concat(e),{headers:$}).then(l=>{var n;j(null==d?void 0:d.filter(l=>(null==l?void 0:l.id)!==e)),r.toast.success(null==l?void 0:null===(n=l.data)||void 0===n?void 0:n.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}).catch(e=>{}),r.toast.success("Deleted successfully",{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))},el=e=>{a.default.get(u.BASE_URL+"/dekanat/getDekanatById?id="+e,{headers:$}).then(e=>{var l,n;X(null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(l=n.obj)||void 0===l?void 0:l.owner),q(l=>{var n,o,t,i,d,a,u,r,s,c,v,p,h,f,m,x,g,b;return{...l,id:null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(n=o.obj)||void 0===n?void 0:n.id,name:null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(t=i.obj)||void 0===t?void 0:t.name,owner:null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(d=a.obj)||void 0===d?void 0:d.owner,phone:null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(u=r.obj)||void 0===u?void 0:u.phone,room:null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(s=c.obj)||void 0===s?void 0:s.room,eduType:null==e?void 0:null===(p=e.data)||void 0===p?void 0:null===(v=p.obj)||void 0===v?void 0:v.eduType,facultiesName:null==e?void 0:null===(f=e.data)||void 0===f?void 0:null===(h=f.obj)||void 0===h?void 0:h.facultiesName,roles:null==e?void 0:null===(x=e.data)||void 0===x?void 0:null===(m=x.obj)||void 0===m?void 0:m.roles,positions:null==e?void 0:null===(b=e.data)||void 0===b?void 0:null===(g=b.obj)||void 0===g?void 0:g.positions}})}),T(!0)},en=e=>{e.length>4?a.default.get(u.BASE_URL+"/user/getUsersForUserRole?keyword="+e,{headers:$}).then(e=>{var l;w((null===(l=e.data)||void 0===l?void 0:l.obj).reduce((e,l)=>e.find(e=>e.label===l.label)?e:e.concat([l]),[]))}).catch(e=>{}):w([])};(0,i.useEffect)(()=>{a.default.get(u.BASE_URL+"/faculty/getFacultyForDekanatSaved").then(e=>{var n,o,t,i,d,a,u;l(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj),U(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(o=t.obj)||void 0===o?void 0:o.map(e=>null==e?void 0:e.label)),L(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(i=d.secondObj)||void 0===i?void 0:i.roles),D(null==e?void 0:null===(u=e.data)||void 0===u?void 0:null===(a=u.secondObj)||void 0===a?void 0:a.positions)}).catch(e=>{}),eo()},[]);let eo=()=>{a.default.get(u.BASE_URL+"/dekanat/all",{headers:$}).then(e=>{var l;j(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.obj)}).catch(e=>{})},et=()=>{T(!1)},ei=e=>{q(l=>({...l,[e.target.name]:e.target.value}))},ed=e=>{delete e.id,Object.values(e).every(e=>null!==e&&e)?a.default.post(u.BASE_URL+"/dekanat/saveV2",{...e,id:null},{headers:$}).then(l=>{T(!1),eo(),r.toast.success("".concat(null==e?void 0:e.name," dean's office has been saved successfully!."))}).catch(e=>{var l,n;r.toast.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.message)}):r.toast.warning("Empty any field..")},ea=e=>{Object.values(e).every(e=>null!==e&&e)?a.default.post(u.BASE_URL+"/dekanat/saveV2",e,{headers:$}).then(e=>{T(!1),eo(),r.toast.success("Updated dean successfully!.")}).catch(e=>{}):r.toast.warning("Empty any field..")};return(0,t.jsxs)(Z,{children:[(0,t.jsx)(f.default,{display:"flex",justifyContent:"end",children:(0,t.jsx)(_.default,{sx:{width:"220px"},variant:"contained",onClick:()=>{X(null),q({id:null,name:null,owner:null,room:null,phone:null,eduType:null,facultiesName:[],roles:[],positions:[]}),T(!0)},children:"Add new dean's office"})}),n&&(null==d?void 0:d.length)>0?(0,t.jsx)(s.default,{}):(0,t.jsx)(E.Card,{children:(0,t.jsx)(E.CardContent,{sx:{overflow:"scroll"},children:(0,t.jsx)(c.DataGrid,{checkboxSelection:!0,sx:{minHeight:"670px!important",overflow:"scroll"},columns:Y,rows:d,components:{Toolbar:c.GridToolbar},pageSize:10,initialState:{...d.initialState,columns:{columnVisibilityModel:{id:!1}}}})})}),(0,t.jsx)(h.default,{open:C,onClose:et,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,t.jsxs)(f.default,{sx:K,component:V,children:[(0,t.jsx)(P,{onClick:et,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,t.jsx)(m.RiCloseLine,{})}),(0,t.jsx)("h3",{style:{color:"".concat(u.mainColor)},children:(null==W?void 0:W.id)!==null&&(null==W?void 0:W.id)?"Update dean's office":"Create new dean's office"}),(0,t.jsxs)(A,{children:[(0,t.jsx)(x.default,{id:"outlined-basic",label:"Name",variant:"outlined",value:null==W?void 0:W.name,name:"name",onChange:ei}),(0,t.jsxs)(S.default,{fullWidth:!0,children:[(0,t.jsx)(O.default,{id:"demo-simple-select-label",children:"Education Type"}),(0,t.jsxs)(R.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==W?void 0:W.eduType,name:"eduType",label:"Education Type",onChange:ei,children:[(0,t.jsx)(I.default,{value:"KUNDUZGI",children:"KUNDUZGI"}),(0,t.jsx)(I.default,{value:"KECHKI",children:"KECHKI"}),(0,t.jsx)(I.default,{value:"SIRTQI",children:"SIRTQI"})]})]}),(0,t.jsx)(g.default,{id:"checkboxes-tags-demo",options:y,disableCloseOnSelect:!0,onFocus:()=>w([]),getOptionLabel:e=>null==e?void 0:e.label,value:J,onChange:(e,l)=>{X(l),q(e=>({...e,owner:l}))},onInputChange:(e,l)=>{(null==e?void 0:e.type)==="change"&&en(l)},renderOption:(e,l,n)=>{let{selected:o}=n;return(0,t.jsxs)("li",{...e,children:[(0,t.jsx)(b.default,{icon:H,checkedIcon:F,style:{marginRight:8},checked:o}),null==l?void 0:l.label]})},renderInput:e=>(0,t.jsx)(x.default,{...e,label:"Owner",placeholder:"Owner"})}),(0,t.jsx)(x.default,{id:"outlined-basic",label:"Room",variant:"outlined",value:null==W?void 0:W.room,name:"room",onChange:ei}),(0,t.jsx)(x.default,{id:"outlined-basic",label:"Phone",variant:"outlined",value:null==W?void 0:W.phone,name:"phone",onChange:ei}),(0,t.jsx)(g.default,{multiple:!0,id:"checkboxes-tags-demo",options:B,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:null==W?void 0:W.roles,onChange:(e,l)=>{q(e=>({...e,roles:l}))},renderOption:(e,l,n)=>{let{selected:o}=n;return(0,t.jsxs)("li",{...e,children:[(0,t.jsx)(b.default,{icon:H,checkedIcon:F,style:{marginRight:8},checked:o}),l]})},renderInput:e=>(0,t.jsx)(x.default,{...e,label:"Roles",placeholder:"Roles"})}),(0,t.jsx)(g.default,{multiple:!0,id:"checkboxes-tags-demo",options:z,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:null==W?void 0:W.positions,onChange:(e,l)=>{q(e=>({...e,positions:l}))},renderOption:(e,l,n)=>{let{selected:o}=n;return(0,t.jsxs)("li",{...e,children:[(0,t.jsx)(b.default,{icon:H,checkedIcon:F,style:{marginRight:8},checked:o}),l]})},renderInput:e=>(0,t.jsx)(x.default,{...e,label:"Positions",placeholder:"Positions"})}),(0,t.jsx)(g.default,{multiple:!0,id:"checkboxes-tags-demo",options:N,disableCloseOnSelect:!0,getOptionLabel:e=>e,value:null==W?void 0:W.facultiesName,onChange:(e,l)=>{q(e=>({...e,facultiesName:l}))},renderOption:(e,l,n)=>{let{selected:o}=n;return(0,t.jsxs)("li",{...e,children:[(0,t.jsx)(b.default,{icon:H,checkedIcon:F,style:{marginRight:8},checked:o}),l]})},renderInput:e=>(0,t.jsx)(x.default,{...e,label:"Faculties",placeholder:"Faculties"})})]}),(0,t.jsx)(f.default,{sx:{display:"flex",justifyContent:"end"},children:(0,t.jsx)(_.default,{variant:"contained",endIcon:(null==W?void 0:W.id)!==null&&(null==W?void 0:W.id)?(0,t.jsx)(v.FiEdit,{}):(0,t.jsx)(k.FaSave,{}),onClick:()=>(null==W?void 0:W.id)!==null&&(null==W?void 0:W.id)?ea(W):ed(W),children:(null==W?void 0:W.id)!==null&&(null==W?void 0:W.id)?"Update":" Save"})})]})})]})}}}]);