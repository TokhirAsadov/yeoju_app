/*! For license information please see 589.58307e4b.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["589"],{38929:function(e,l,t){"use strict";t.r(l);var a=t("58865");t("33948"),t("25387"),t("72608"),t("2490"),t("31672"),t("59461"),t("57640"),t("9924");var s=t("85893"),r=t("67294"),n=t("71893"),o=t("27233"),u=t("16393"),i=t("72132"),d=t("17171"),c=t("39628"),f=t("44118"),p=t("15352"),h=t("7104"),m=t("94718"),g=t("57024");function x(){let e=(0,a._)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 20px;\n    ","\n"]);return x=function(){return e},e}function b(){let e=(0,a._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 1rem;\n"]);return b=function(){return e},e}let v=n.default.div(x(),(0,g.extrasmall)({gridTemplateColumns:"1fr"})),S=n.default.div(b());l.default=()=>{let e=(0,s.jsx)(c.default,{fontSize:"small"}),l=(0,s.jsx)(d.default,{fontSize:"small"}),[t,a]=(0,r.useState)(!0),[n,g]=(0,r.useState)(null),[x,b]=(0,r.useState)([]),[j,C]=(0,r.useState)([]),{headers:k}=(0,u.getHeaders)(),[E,R]=(0,r.useState)([]);return(0,r.useEffect)(()=>{o.default.get(u.BASE_URL+"/role/allRoles").then(e=>{var l;b(null===(l=e.data)||void 0===l?void 0:l.obj),a(!1)}).catch(e=>{})},[]),(0,s.jsx)(S,{children:(0,s.jsxs)(v,{children:[(0,s.jsx)(f.default,{disablePortal:!0,id:"combo-box-demo",onFocus:()=>C([]),options:j,isOptionEqualToValue:(e,l)=>e.value===l.value,getOptionLabel:e=>e.label,onChange:(e,l)=>{g(l)},onInputChange:(e,l)=>{l.trim().length>3?o.default.get(u.BASE_URL+"/user/getUsersForUserRole?keyword="+l,{headers:k}).then(e=>{var l;C((null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.obj).reduce((e,l)=>e.find(e=>e.label===l.label)?e:e.concat([l]),[]))}).catch(e=>{}):C([])},fullWidth:!0,size:"small",renderInput:e=>(0,s.jsx)(h.TextField,{...e,label:"Select user",placeholder:"user"})}),(0,s.jsx)(f.default,{multiple:!0,id:"checkboxes-tags-demo1",options:x,disableCloseOnSelect:!0,isOptionEqualToValue:(e,l)=>e.id===l.id,getOptionLabel:e=>e.roleName.startsWith("ROLE_")?e.roleName.substring(5).toUpperCase():e.roleName.toUpperCase(),onChange:(e,l)=>{R(l)},size:"small",renderOption:(t,a,r)=>{let{selected:n}=r;return(0,s.jsxs)("li",{...t,children:[(0,s.jsx)(p.default,{icon:e,checkedIcon:l,style:{marginRight:8},checked:n}),a.roleName.startsWith("ROLE_")?a.roleName.substring(5).toUpperCase():a.roleName.toUpperCase()]})},fullWidth:!0,renderInput:e=>(0,s.jsx)(h.TextField,{...e,label:"Select roles",placeholder:"roles"})}),(0,s.jsx)(m.default,{sx:{alignSelf:"start",width:"200px",margin:"0 auto"},variant:"contained",onClick:()=>{if(null!==n){if(0!==E.length){let e=E.map(e=>e.id);o.default.post(u.BASE_URL+"/user/userRole",{userId:null==n?void 0:n.value,roleId:e},{headers:k}).then(e=>{201===e.status&&i.toast.success("Successfully changed roles of user..")}).catch(e=>{})}else alert("Error.. Empty role...")}else alert("Error.. Please, select user..")},children:"save"})]})})}}}]);