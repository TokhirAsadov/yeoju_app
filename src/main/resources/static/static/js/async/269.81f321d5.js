/*! For license information please see 269.81f321d5.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["269"],{81744:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n("38956"),i=n("58865");n("21249"),n("57640"),n("9924"),n("2707"),n("17727"),n("88674"),n("41539");var a=n("85893"),u=n("67294"),l=n("71893"),o=n("7104"),d=n("30381"),c=n.n(d),s=n("16356"),f=n("27233"),h=n("28685"),m=n("61261"),v=n("72132"),C=n("50533"),x=n("89589");function j(){var e=(0,i._)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return j=function(){return e},e}var b=l.default.div(j()),g=function(){var e=function(e,t){f.default.put(h.BASE_URL+"/queue/changeQueue",{id:t,statusEnum:e},{headers:E}).then(function(t){y(),v.toast.success(e)}).catch(function(e){v.toast.error("Error status")})},t="Sirtqi ta'lim"===(0,C.useSelector)(function(e){var t;return null===(t=e.dekanat.dekanat)||void 0===t?void 0:t.name}),n=["RUNNABLE","CALLED"," RUNNING","WAITING","CANCELLED","COMPLETED"],i=[{field:"number",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){var t,n;return(0,a.jsx)("p",{children:null===(n=e.row)||void 0===n?void 0:null===(t=n.studentData)||void 0===t?void 0:t.fullName})}},{minWidth:100,flex:.5,field:"date",headerName:"Date of creation",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){var t;return(0,a.jsx)("p",{children:c()(null===(t=e.row)||void 0===t?void 0:t.createdAt).format("DD.MM.YYYY HH:mm")})}},{minWidth:100,flex:.5,field:"status",headerName:"Status",sortable:!0,align:"center",justifyContent:"center"},{minWidth:150,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:function(t){var r;return(0,a.jsx)(o.TextField,{select:!0,size:"small",defaultValue:null===(r=t.row)||void 0===r?void 0:r.status,onChange:function(n){return e(n.target.value,t.row.id)},sx:{width:200},children:n.map(function(e){return(0,a.jsx)(m.default,{value:e,children:e},e)})})}}],l=(0,r._)((0,u.useState)([]),2),d=l[0],j=l[1],g=(0,r._)((0,u.useState)(!1),2),N=g[0],w=g[1],E=(0,h.getHeaders)().headers,y=function(){w(!0),f.default.get(h.BASE_URL+"/queue/findAllQueuesOfTodayForDean",{headers:E}).then(function(e){j(e.data.obj.sort(function(e,t){return e.number>t.number?1:e.number<t.number?-1:0}))}).catch(function(e){}).finally(function(){w(!1)})};return(0,u.useEffect)(function(){y()},[]),(0,a.jsx)(b,{children:t?(0,a.jsx)(o.Card,{sx:{mt:3},children:(0,a.jsx)(o.CardContent,{children:(0,a.jsx)(s.DataGrid,{columns:i,rows:d||[],loading:N,components:{Toolbar:s.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})}):(0,a.jsx)(o.Card,{sx:{mt:3},children:(0,a.jsx)(o.CardContent,{children:(0,a.jsx)(x.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})})}}}]);