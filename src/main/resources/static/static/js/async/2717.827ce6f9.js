/*! For license information please see 2717.827ce6f9.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2717"],{17171:function(n,e,l){"use strict";var u=l("5751");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(l("64938")),d=l("85893"),i=(0,t.default)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");e.default=i},39628:function(n,e,l){"use strict";var u=l("5751");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(l("64938")),d=l("85893"),i=(0,t.default)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");e.default=i},32913:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return ne}});var u=l("76150"),t=l("7409"),d=l("99282"),i=l("38956"),o=l("58865"),r=l("18965");l("21249"),l("57640"),l("9924"),l("85827"),l("25387"),l("72608"),l("2490"),l("41539"),l("69826"),l("31672"),l("59461"),l("57658"),l("92222"),l("15581"),l("34514"),l("47042");var a=l("85893"),c=l("67294"),s=l.n(c),f=l("71893"),p=l("55693"),v=l("94718"),h=l("89589"),g=l("97367"),x=l("5434"),m=l("80471"),j=l("74113"),b=l("39628"),y=l("17171"),_=l("7104"),I=l("15352"),C=l("52861"),k=l("50533"),w=l("60155"),T=l("71632"),D=l("39711"),L=l("42154"),S=l("32392"),P=l("61261"),z=l("44025"),B=l("23219"),O=l("47516"),A=l("28685"),M=l("89583"),R=l("27233"),Y=l("72132"),E=l("63750");function U(){var n=(0,o._)(["\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n        color: ",";\n        font-size: 30px;\n        font-weight: bold;\n        ","\n    }\n"]);return U=function(){return n},n}function G(){var n=(0,o._)(["\n    ","\n"]);return G=function(){return n},n}function F(){var n=(0,o._)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 20px;\n    padding: 10px;\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return F=function(){return n},n}function H(){var n=(0,o._)(["\n    border: 1px solid #f1eded;\n    padding: 10px;\n    border-radius: 5px;\n    background-color: #FFFF;\n    box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n\n"]);return H=function(){return n},n}function N(){var n=(0,o._)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    cursor: pointer;\n"]);return N=function(){return n},n}function V(){var n=(0,o._)(["\n    display: flex;\n    justify-content: end;\n"]);return V=function(){return n},n}function q(){var n=(0,o._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return q=function(){return n},n}var J=f.default.h1(U(),A.mainColor,(0,T.extrasmall)({textAlign:"center",fontSize:"20px"})),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:3},Q=f.default.div(G(),(0,T.extrasmall)({width:"95% !important"})),W=f.default.div(F(),(0,T.xlarge)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,T.large)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,T.medium)({gridTemplateColumns:"1fr 1fr "}),(0,T.small)({gridTemplateColumns:"1fr 1fr "}),(0,T.extrasmall)({gridTemplateColumns:"1fr "})),X=f.default.div(H()),Z=f.default.p(N(),function(n){return n.cl||"black"},function(n){return n.fs},function(n){return n.fw||"normal"}),$=f.default.div(V()),nn=f.default.div(q()),ne=function(){var n,e,l,o,f,T,U,G,F,H,N,V,q,ne,nl,nu,nt,nd,ni,no,nr,na,nc,ns,nf,np=(0,D.useParams)().fan,nv=(0,a.jsx)(b.default,{fontSize:"small"}),nh=(0,a.jsx)(y.default,{fontSize:"small"}),ng=(0,k.useSelector)(function(n){return n.lessonsTeacherSlice}).forLessonsData,nx=(0,i._)((0,c.useState)(!1),2),nm=nx[0],nj=nx[1],nb=(0,i._)((0,c.useState)([]),2),ny=nb[0],n_=nb[1],nI=(0,i._)((0,c.useState)(!0),2),nC=nI[0],nk=nI[1],nw=(0,i._)((0,c.useState)([]),2),nT=nw[0],nD=nw[1],nL=(0,i._)((0,c.useState)({educationYearId:null==ng?void 0:null===(T=ng.educationYear)||void 0===T?void 0:T.id,eduType:null==ng?void 0:null===(U=ng.groupData)||void 0===U?void 0:U.eduType,eduLang:null==ng?void 0:null===(G=ng.groupData)||void 0===G?void 0:G.eduLang,subjectId:null==ng?void 0:null===(F=ng.groupData)||void 0===F?void 0:F.lessonId,level:null==ng?void 0:null===(H=ng.groupData)||void 0===H?void 0:H.level,groupsIds:(null==ny?void 0:ny.map(function(n){return null==n?void 0:n.groupId}))||[]}),2),nS=nL[0],nP=nL[1],nz=(0,i._)((0,c.useState)({id:null,educationYearId:null==ng?void 0:null===(N=ng.educationYear)||void 0===N?void 0:N.id,eduType:null==ng?void 0:null===(V=ng.groupData)||void 0===V?void 0:V.eduType,eduLang:null==ng?void 0:null===(q=ng.groupData)||void 0===q?void 0:q.eduLang,subjectId:null==ng?void 0:null===(ne=ng.groupData)||void 0===ne?void 0:ne.lessonId,level:null==ng?void 0:null===(nl=ng.groupData)||void 0===nl?void 0:nl.level,groupsIds:(null==ny?void 0:ny.map(function(n){return null==n?void 0:n.groupId}))||[]}),2),nB=nz[0],nO=nz[1],nA=(0,i._)((0,c.useState)(!0),2),nM=nA[0],nR=nA[1],nY=(0,D.useNavigate)(),nE=(0,A.getHeaders)().headers,nU=[{title:"Update",icon:(0,a.jsx)(x.MdUpdate,{color:"#0087be"})},{title:"Delete",icon:(0,a.jsx)(x.MdDelete,{color:"red"})}],nG=null==ng?void 0:null===(nu=ng.allGroup)||void 0===nu?void 0:nu.reduce(function(n,e){return!n.find(function(n){return n.groupId===e.groupId})&&n.push(e),n},[]),nF=(0,i._)(s().useState(null),2),nH=nF[0],nN=nF[1],nV=!!nH,nq=function(n,e){nN(n.currentTarget);var l=null==nT?void 0:nT.find(function(n){return n.id===e});nO(function(n){var u;return(0,d._)((0,t._)({},n),{id:e,eduLang:null==l?void 0:l.eduLang,eduType:null==l?void 0:l.eduType,groupsIds:null==l?void 0:null===(u=l.groups)||void 0===u?void 0:u.map(function(n){return n.groupId})})})},nJ=function(n){nN(null),"Update"===n&&nj(!0)},nK=function(){nj(!1),nO(function(n){return(0,d._)((0,t._)({},n),{id:null})})};(0,c.useEffect)(function(){(null==ny?void 0:ny.length)>0&&nk(!1)},[ny]);var nQ=(n=(0,u._)(function(){return(0,r._)(this,function(n){return R.default.post("".concat(A.BASE_URL,"/plan/createdPlan"),nS,{headers:nE}).then(function(n){Y.toast.success("created plan of subject successfully"),nj(!1),n_([]),nX()}).catch(function(n){}),[2]})}),function(){return n.apply(this,arguments)});var nW=(e=(0,u._)(function(){return(0,r._)(this,function(n){return R.default.put("".concat(A.BASE_URL,"/plan/updatedPlan"),nB,{headers:nE}).then(function(n){Y.toast.success("created plan of subject successfully"),nj(!1),nO(function(n){return(0,d._)((0,t._)({},n),{id:null})}),n_([]),nX()}).catch(function(n){}),[2]})}),function(){return e.apply(this,arguments)});var nX=(l=(0,u._)(function(){var n,e,l;return(0,r._)(this,function(u){switch(u.label){case 0:return[4,R.default.get("".concat(A.BASE_URL,"/plan/getExistPlans?educationYearId=").concat(null==ng?void 0:null===(n=ng.educationYear)||void 0===n?void 0:n.id,"&level=").concat(null==ng?void 0:null===(e=ng.groupData)||void 0===e?void 0:e.level,"&subjectId=").concat(null==ng?void 0:null===(l=ng.groupData)||void 0===l?void 0:l.lessonId),{headers:nE}).then(function(n){nD(n.data.obj)}).catch(function(n){})];case 1:return u.sent(),[2]}})}),function(){return l.apply(this,arguments)});(0,c.useEffect)(function(){nX()},[]);return(0,a.jsxs)(nn,{children:[(0,a.jsxs)(J,{children:[(0,a.jsx)("p",{children:np}),(0,a.jsx)(v.default,{onClick:function(){return nY(-1)},variant:"outlined",startIcon:(0,a.jsx)(O.BiArrowBack,{}),children:"Back"})]}),(0,a.jsx)(p.default,{sx:{padding:"10px"},children:(0,a.jsx)(v.default,{variant:"contained",endIcon:(0,a.jsx)(x.MdOutlineCreateNewFolder,{}),onClick:function(){return nj(!0)},children:"create group plan"})}),(0,a.jsx)(W,{children:null==nT?void 0:nT.map(function(n,e){return(0,a.jsx)(X,{children:(0,a.jsxs)(p.default,{display:"flex",alignItems:"flex-start",children:[(0,a.jsxs)(p.default,{width:"100%",children:[(0,a.jsxs)(Z,{onClick:function(){return nY("".concat(n.id))},fs:"25px",fw:"bold",cl:A.mainColor,children:[(0,a.jsx)(M.FaLayerGroup,{})," Groups "]}),(0,a.jsx)(p.default,{onClick:function(){return nY("".concat(n.id))},sx:{cursor:"pointer",marginTop:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"5px"},children:null==n?void 0:n.groups.slice(0,nM?5:void 0).map(function(n,e){return(0,a.jsxs)("p",{style:{color:"black",margin:0,textAlign:"center"},children:[(0,a.jsx)("b",{children:e+1+"."})," ",n.groupName]},n.groupId)})}),(0,a.jsx)(p.default,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,a.jsx)(v.default,{onClick:function(){return nR(!nM)},children:nM?"show more":"hidden"})})]}),(0,a.jsx)(j.default,{"aria-label":"actions",id:"long-button","aria-controls":nV?"long-menu":void 0,"aria-expanded":nV?"true":void 0,"aria-haspopup":"true",onClick:function(e){return nq(e,null==n?void 0:n.id)},size:"small",children:(0,a.jsx)(E.BsThreeDotsVertical,{})})]})},e)})}),(0,a.jsx)(g.default,{open:nm,onClose:function(){return nK()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(p.default,{sx:K,component:Q,children:[(0,a.jsx)($,{children:(0,a.jsx)(j.default,{onClick:function(){return nK()},"aria-label":"close",size:"medium",children:(0,a.jsx)(m.CgClose,{})})}),(0,a.jsxs)(h.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:[(null==nB?void 0:nB.id)===null?"Create ":"Update "," group plan"]}),(0,a.jsxs)(L.default,{sx:{width:"100%",margin:"25px 0"},children:[(0,a.jsx)(S.default,{id:"demo-simple-select-readonly-label",children:"Academic year"}),(0,a.jsx)(z.default,{labelId:"demo-simple-select-readonly-label",id:"demo-simple-select-readonly",value:null==ng?void 0:null===(nt=ng.educationYear)||void 0===nt?void 0:nt.name,label:"Academic year",inputProps:{readOnly:!0},children:(0,a.jsx)(P.default,{value:null==ng?void 0:null===(nd=ng.educationYear)||void 0===nd?void 0:nd.name,children:null==ng?void 0:null===(ni=ng.educationYear)||void 0===ni?void 0:ni.name})}),(0,a.jsx)(B.default,{children:"Read only"})]}),(0,a.jsxs)(p.default,{sx:{display:"flex",gap:"20px"},children:[(0,a.jsxs)(L.default,{sx:{width:"100%"},children:[(0,a.jsx)(S.default,{id:"demo-simple-select-readonly-label1",children:"Language"}),(0,a.jsx)(z.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null==ng?void 0:null===(no=ng.groupData)||void 0===no?void 0:no.eduLang,label:"Language",inputProps:{readOnly:!0},children:(0,a.jsx)(P.default,{value:null==ng?void 0:null===(nr=ng.groupData)||void 0===nr?void 0:nr.eduLang,children:null==ng?void 0:null===(na=ng.groupData)||void 0===na?void 0:na.eduLang})}),(0,a.jsx)(B.default,{children:"Read only"})]}),(0,a.jsxs)(L.default,{sx:{width:"100%"},children:[(0,a.jsx)(S.default,{id:"demo-simple-select-readonly-label1",children:"Type of education"}),(0,a.jsx)(z.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null==ng?void 0:null===(nc=ng.groupData)||void 0===nc?void 0:nc.eduType,label:"Type of education",inputProps:{readOnly:!0},children:(0,a.jsx)(P.default,{value:null==ng?void 0:null===(ns=ng.groupData)||void 0===ns?void 0:ns.eduType,children:null==ng?void 0:null===(nf=ng.groupData)||void 0===nf?void 0:nf.eduType})}),(0,a.jsx)(B.default,{children:"Read only"})]})]}),(0,a.jsx)(_.Autocomplete,{multiple:!0,id:"checkboxes-tags-demo",options:nG,disableCloseOnSelect:!0,getOptionLabel:function(n){return null==n?void 0:n.groupName},value:(null==nB?void 0:nB.id)===null?ny:(f=[],null==nB||null===(o=nB.groupsIds)||void 0===o||o.forEach(function(n){var e,l;(null==ng?void 0:null===(e=ng.allGroup)||void 0===e?void 0:e.find(function(e){return e.groupId===n}))&&f.push(null==ng?void 0:null===(l=ng.allGroup)||void 0===l?void 0:l.find(function(e){return e.groupId===n}))}),f.reduce(function(n,e){return!n.find(function(n){return n.groupId===e.groupId})&&n.push(e),n},[])),onChange:function(n,e){(null==nB?void 0:nB.id)===null?nP(function(n){return(0,d._)((0,t._)({},n),{groupsIds:null==e?void 0:e.map(function(n){return null==n?void 0:n.groupId})})}):nO(function(n){return(0,d._)((0,t._)({},n),{groupsIds:null==e?void 0:e.map(function(n){return null==n?void 0:n.groupId})})}),n_(e)},renderOption:function(n,e,l){var u=l.selected;return(0,a.jsxs)("li",(0,d._)((0,t._)({},n),{children:[(0,a.jsx)(I.default,{icon:nv,checkedIcon:nh,style:{marginRight:8},checked:u}),null==e?void 0:e.groupName]}))},style:{width:"100%",margin:"25px 0"},renderInput:function(n){return(0,a.jsx)(C.default,(0,d._)((0,t._)({required:!0},n),{label:"Groups",placeholder:"Group",helperText:"Required"}))}}),(0,a.jsx)($,{children:(0,a.jsxs)(v.default,{onClick:(null==nB?void 0:nB.id)===null?nQ:nW,variant:"contained",endIcon:(0,a.jsx)(w.IoSend,{}),disabled:nC,children:[" ",(null==nB?void 0:nB.id)===null?"Save":"Update"]})})]})}),(0,a.jsx)(_.Menu,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:nH,open:nV,onClose:nJ,PaperProps:{style:{maxHeight:180,width:"20ch"}},children:nU.map(function(n,e){return(0,a.jsx)(P.default,{onClick:function(){return nJ(n.title)},children:(0,a.jsxs)(p.default,{display:"flex",gap:"5px",alignItems:"center",children:[n.icon," ",n.title]})},e)})})]})}}}]);