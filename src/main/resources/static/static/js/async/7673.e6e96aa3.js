/*! For license information please see 7673.e6e96aa3.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["7673"],{92566:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return V}});var a=n("27412"),t=n("7409"),i=n("99282"),d=n("38956"),o=n("58865");n("69826"),n("31672"),n("59461"),n("2490"),n("41539"),n("92222"),n("21249"),n("57640"),n("9924");var u=n("85893"),r=n("67294"),s=n("71893"),c=n("50533"),f=n("16356"),p=n("28685"),m=n("89583"),v=n("94718"),h=n("86893"),g=n("63750"),x=n("27233"),b=n("97367"),j=n("55693"),y=n("79352"),C=n("52861"),S=n("42154"),E=n("32392"),k=n("44025"),w=n("61261"),_=n("90650"),G=n("72132"),I=n("38543"),L=n("5033"),A=n("71632"),N=n("7104");function R(){var e=(0,o._)(["\n  padding-top: 10px;\n  display: grid;\n  overflow-y: scroll;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 30px;\n  ","\n"]);return R=function(){return e},e}function B(){var e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return B=function(){return e},e}function H(){var e=(0,o._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin: 5px !important;\n"]);return H=function(){return e},e}function T(){var e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid red;\n  border-radius: 0.5rem;\n  color: red;\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"]);return T=function(){return e},e}function U(){var e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"]);return U=function(){return e},e}function F(){var e=(0,o._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 30px;\n  font-weight: bold;\n  color: ",";\n \n"]);return F=function(){return e},e}function W(){var e=(0,o._)(["\n  display: flex;\n  gap: 20px;\n  flex-direction: column;\n  height: 100%;\n  min-height: 500px;\n  border-radius: 10px;\n  margin-top: 10px !important;\n  margin-left: 10px !important;\n  padding: 5px 10px !important;\n"]);return W=function(){return e},e}var D=s.default.div(R(),(0,A.extrasmall)({gridTemplateColumns:"1fr",gap:"15px"})),O=(0,s.default)(_.motion.button)(B(),p.mainColor),z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"576px",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4," @media only screen and  (max-width: 576px)":{width:"95vw !important",height:"95vh !important"}},M=s.default.div(H()),K=s.default.button(T()),Z=s.default.button(U(),p.mainColor,p.mainColor),P=s.default.div(F(),p.mainColor),q=s.default.div(W()),V=function(){var e=(0,c.useSelector)(function(e){var l;return null==e?void 0:null===(l=e.dekanGroups)||void 0===l?void 0:l.dekanGroups}),l=(0,c.useSelector)(function(e){var l;return null==e?void 0:null===(l=e.dekanGroups)||void 0===l?void 0:l.dekanGroupsLoadingStatus}),n=(0,d._)((0,r.useState)([]),2),o=n[0],s=n[1],_=(0,d._)((0,r.useState)([]),2),A=_[0],R=_[1],B=(0,d._)((0,r.useState)(!1),2),H=B[0],T=B[1],U=(0,d._)((0,r.useState)(!1),2),F=U[0],W=U[1],V=(0,d._)((0,r.useState)({id:"",name:"",language:"",type:"",form:"",faculty:""}),2),J=V[0],Q=V[1],X=function(e){Q(function(l){return(0,i._)((0,t._)({},l),(0,a._)({},e.target.name,e.target.value))})},Y=(0,p.getHeaders)().headers,$=function(l){x.default.get(p.BASE_URL+"/dekan/getFacultiesShortnamesWithDekanId",{headers:Y}).then(function(e){var l,n;s(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.shortNames),R(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.educationTypes)}).catch(function(e){console.log(e)}),Q(function(n){return(0,i._)((0,t._)({},n),{id:l,name:e.find(function(e){return e.id===l}).name,level:e.find(function(e){return e.id===l}).level,type:e.find(function(e){return e.id===l}).type,language:e.find(function(e){return e.id===l}).language,form:e.find(function(e){return e.id===l}).form,faculty:e.find(function(e){return e.id===l}).faculty})}),T(!0)},ee=function(){T(!1),W(!1)},el=function(){x.default.get(p.BASE_URL+"/dekan/getFacultiesShortnamesWithDekanId",{headers:Y}).then(function(e){var l,n;s(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.shortNames),R(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.educationTypes)}).catch(function(e){console.log(e)}),Q(function(e){return(0,i._)((0,t._)({},e),{name:"",level:"",type:"",language:"",form:"",faculty:""})}),W(!0)},en=function(e,l){x.default.get(p.BASE_URL+"/group/changeActiveOfGroup/".concat(e),{headers:Y}).then(function(e){var l;G.toast.error(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),et((0,I.fetchDekanGroups)(ei))}).catch(function(e){var l,n;console.log(e),G.toast.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})})},ea=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"name",headerName:"Name",type:"string",width:150,editable:!1},{field:"level",headerName:"Level",type:"number",width:100,editable:!1},{field:"language",headerName:"Language",type:"string",width:150,editable:!1},{field:"type",headerName:"Type",type:"string",width:150,editable:!1},{field:"form",headerName:"Form",type:"string",width:200,editable:!1},{field:"action",headerName:"Action",type:"string",width:100,editable:!1,renderCell:function(e){return(0,u.jsxs)(M,{children:[(0,u.jsx)(Z,{onClick:function(){var l;return $(null==e?void 0:null===(l=e.row)||void 0===l?void 0:l.id)},children:(0,u.jsx)(h.FiEdit,{})}),(0,u.jsx)(K,{onClick:function(){var l,n;return en(null==e?void 0:null===(l=e.row)||void 0===l?void 0:l.id,null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.name)},children:(0,u.jsx)(g.BsTrash,{})})]})}}],et=(0,c.useDispatch)(),ei=(0,L.useHttp)().request;return(0,r.useEffect)(function(){et((0,I.fetchDekanGroups)(ei))},[]),(0,u.jsxs)(q,{children:[(0,u.jsxs)(P,{children:["Groups ",(0,u.jsx)(v.default,{variant:"contained",onClick:function(){return el()},children:" Add New Group"})]}),(0,u.jsx)(N.Card,{children:(0,u.jsx)(N.CardContent,{children:"done"===l&&(0,u.jsx)(f.DataGrid,{checkboxSelection:!0,style:{width:"500px!important",minHeight:"300px!important"},columns:ea,rows:e,components:{Toolbar:f.GridToolbar},autoHeight:!0,pageSize:20,initialState:(0,i._)((0,t._)({},null==e?void 0:e.initialState),{columns:{columnVisibilityModel:{id:!1,login:!1,card:!1,rfid:!1,email:!1,passport:!1,action:!1}}})})})}),(0,u.jsx)(b.default,{open:H,onClose:ee,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,u.jsxs)(j.default,{sx:z,children:[(0,u.jsx)(O,{onClick:ee,children:(0,u.jsx)(y.RiCloseLine,{})}),(0,u.jsx)("h3",{style:{color:"".concat(p.mainColor)},children:null==J?void 0:J.name}),(0,u.jsxs)(D,{children:[(0,u.jsx)(C.default,{id:"outlined-basic",label:"Group Name",variant:"outlined",value:null==J?void 0:J.name,name:"name",onChange:X}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Course"}),(0,u.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.level,label:"Course",name:"level",onChange:X,children:[(0,u.jsx)(w.default,{value:1,children:"1"}),(0,u.jsx)(w.default,{value:2,children:"2"}),(0,u.jsx)(w.default,{value:3,children:"3"}),(0,u.jsx)(w.default,{value:4,children:"4"})]})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Education Language"}),(0,u.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.language,label:"Education Language",name:"language",onChange:X,children:[(0,u.jsx)(w.default,{value:"UZBEK",children:"UZBEK"}),(0,u.jsx)(w.default,{value:"RUSSIAN",children:"RUSSIAN"}),(0,u.jsx)(w.default,{value:"ENGLISH",children:"ENGLISH"})]})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Education Type"}),(0,u.jsx)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.type,label:"Education Type",name:"type",onChange:X,disabled:(null==A?void 0:A.length)===1,children:null==A?void 0:A.map(function(e){return(0,u.jsx)(w.default,{value:e,children:e},e)})})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Education Form"}),(0,u.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.form,label:"Education Form",name:"form",onChange:X,children:[(0,u.jsx)(w.default,{value:"BACHELOR",children:"BACHELOR"}),(0,u.jsx)(w.default,{value:"MASTER",children:"MASTER"})]})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Faculty"}),(0,u.jsx)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.faculty,label:"Faculty",name:"faculty",onChange:X,children:null==o?void 0:o.map(function(e){return(0,u.jsx)(w.default,{value:e,children:e},e)})})]})]}),(0,u.jsx)(j.default,{sx:{display:"flex",justifyContent:"end"},children:(0,u.jsx)(v.default,{size:"large",variant:"contained",endIcon:(0,u.jsx)(m.FaSave,{}),onClick:function(){""!==J.name&&null!==J.name&&""!==J.type&&null!==J.type&&""!==J.form&&null!==J.form&&""!==J.language&&null!==J.language&&null!==J.faculty&&""!==J.faculty?x.default.put(p.BASE_URL+"/group/updateGroups",J,{headers:Y}).then(function(e){var l,n;(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.success)&&G.toast.success(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message),Q({id:"",name:"",language:"",type:"",form:"",faculty:""}),ee(),et((0,I.fetchDekanGroups)(ei))}).catch(function(e){var l,n,a,t;console.log(e),!(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.success)&&G.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}):G.toast.warning("Empty any fields..")},children:"Update"})})]})}),(0,u.jsx)(b.default,{open:F,onClose:ee,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,u.jsxs)(j.default,{sx:z,children:[(0,u.jsx)(O,{onClick:ee,children:(0,u.jsx)(y.RiCloseLine,{})}),(0,u.jsxs)("h3",{style:{color:"".concat(p.mainColor)},children:["Create ",null==J?void 0:J.name," group"]}),(0,u.jsxs)(D,{children:[(0,u.jsx)(C.default,{id:"outlined-basic",label:"Group Name",variant:"outlined",value:null==J?void 0:J.name,name:"name",onChange:X}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Course"}),(0,u.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.level,label:"Course",name:"level",onChange:X,children:[(0,u.jsx)(w.default,{value:1,children:"1"}),(0,u.jsx)(w.default,{value:2,children:"2"}),(0,u.jsx)(w.default,{value:3,children:"3"}),(0,u.jsx)(w.default,{value:4,children:"4"})]})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Education Language"}),(0,u.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.language,label:"Education Language",name:"language",onChange:X,children:[(0,u.jsx)(w.default,{value:"UZBEK",children:"UZBEK"}),(0,u.jsx)(w.default,{value:"RUSSIAN",children:"RUSSIAN"}),(0,u.jsx)(w.default,{value:"ENGLISH",children:"ENGLISH"})]})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Education Type"}),(0,u.jsx)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:(null==A?void 0:A.length)===1?A[0]:null==J?void 0:J.type,label:"Education Type",name:"type",onChange:X,disabled:(null==A?void 0:A.length)===1,children:null==A?void 0:A.map(function(e){return(0,u.jsx)(w.default,{value:e,children:e},e)})})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Education Form"}),(0,u.jsxs)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.form,label:"Education Form",name:"form",onChange:X,children:[(0,u.jsx)(w.default,{value:"BACHELOR",children:"BACHELOR"}),(0,u.jsx)(w.default,{value:"MASTER",children:"MASTER"})]})]}),(0,u.jsxs)(S.default,{fullWidth:!0,children:[(0,u.jsx)(E.default,{id:"demo-simple-select-label",children:"Faculty"}),(0,u.jsx)(k.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null==J?void 0:J.faculty,label:"Faculty",name:"faculty",onChange:X,children:null==o?void 0:o.map(function(e){return(0,u.jsx)(w.default,{value:e,children:e},e)})})]})]}),(0,u.jsx)(j.default,{sx:{display:"flex",justifyContent:"end"},children:(0,u.jsx)(v.default,{size:"large",variant:"contained",endIcon:(0,u.jsx)(m.FaSave,{}),onClick:function(){(null==A?void 0:A.length)!==1?""!==J.name&&null!==J.name&&""!==J.type&&null!==J.type&&""!==J.form&&null!==J.form&&""!==J.language&&null!==J.language&&null!==J.faculty&&""!==J.faculty?x.default.post(p.BASE_URL+"/group/createGroups",J,{headers:Y}).then(function(e){var l,n;(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.success)&&G.toast.success(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message),Q({id:"",name:"",language:"",type:"",form:"",faculty:""}),ee(),et((0,I.fetchDekanGroups)(ei))}).catch(function(e){var l,n,a,t;console.log(e),!(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.success)&&G.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)}):G.toast.warning("Empty any fields.."):""!==J.name&&null!==J.name&&""!==J.form&&null!==J.form&&""!==J.language&&null!==J.language&&null!==J.faculty&&""!==J.faculty?x.default.post(p.BASE_URL+"/group/createGroups",(0,i._)((0,t._)({},J),{id:null,type:A[0]}),{headers:Y}).then(function(e){var l,n;(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.success)&&G.toast.success(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message),ee(),Q({id:"",name:"",language:"",type:"",form:"",faculty:""}),et((0,I.fetchDekanGroups)(ei))}).catch(function(e){var l,n,a,t;console.log(e),!(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.success)&&G.toast.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)}):G.toast.warning("Empty any fields..")},children:"Save"})})]})})]})}}}]);