/*! For license information please see 6322.904c6541.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["6322"],{77851:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var a=n("76150"),r=n("38956"),i=n("58865"),u=n("37098"),o=n("18965");n("73210"),n("21249"),n("57640"),n("9924");var l=n("85893"),d=n("67294"),c=n("71893"),s=n("28685"),f=n("27233"),h=n("72132"),p=n("16356"),m=n("71632"),g=n("89583"),x=n("7104"),_=n("94718"),T=n("78258"),j=n("55693");function D(){var e=(0,i._)(["\n    ","\n"]);return D=function(){return e},e}function E(){var e=(0,i._)(["\n    width: 250px;\n    height: 50px;\n    background: white;\n    font-size: 14px;\n    border-radius: 7px;\n    padding: 5px;\n    cursor: pointer;\n    border: 1px solid ",";\n    color: ",";\n    box-shadow: rgba(149, 157, 165, 0.2) 0 8px 24px;\n\n    &:focus {\n        outline: none;\n    }\n\n    option {\n        color: black;\n        background: white;\n        font-weight: 300;\n        display: flex;\n        white-space: pre;\n        min-height: 20px;\n        padding: 0px 2px 1px;\n    }\n\n    ",""]);return E=function(){return e},e}function v(){var e=(0,i._)(["\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    display: grid;\n    grid-template-columns:repeat(4, 1fr);\n    gap: 30px;\n    justify-items: center;\n    align-items: center;\n    ","\n    ","\n    ",""]);return v=function(){return e},e}function b(){var e=(0,i._)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    flex-direction: column;\n"]);return b=function(){return e},e}function w(){var e=(0,i._)(["\n    margin-top: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    width: 100%;\n    min-height: 380px;\n    margin-bottom: 50px !important;\n"]);return w=function(){return e},e}var C=c.default.div(D(),(0,m.extrasmall)({width:"80% !important"})),S=c.default.select(E(),s.mainColor,s.mainColor,(0,m.extrasmall)({width:"80%"})),A=c.default.div(v(),(0,m.medium)({gridTemplateColumns:"repeat(2,1fr)"}),(0,m.small)({gridTemplateColumns:"repeat(1,1fr)"}),(0,m.extrasmall)({gridTemplateColumns:"repeat(1,1fr)"})),N=c.default.div(b()),U=c.default.div(w()),Y=function(){var e=(0,r._)((0,d.useState)(1),2),t=e[0],n=e[1],i=(0,r._)((0,d.useState)([]),2),c=i[0],m=i[1],D=(0,r._)((0,d.useState)(""),2),E=D[0],v=D[1],b=(0,r._)((0,d.useState)(""),2),w=b[0],Y=b[1],L=(0,r._)((0,d.useState)([]),2),F=L[0],R=L[1],y=(0,r._)((0,d.useState)(!1),2),O=y[0],k=y[1],B=(0,r._)((0,d.useState)(!1),2),G=B[0],H=B[1],I=(0,r._)((0,d.useState)(""),2),V=I[0],M=I[1],z=(0,r._)((0,d.useState)(""),2),P=z[0],W=z[1],q=(0,r._)((0,d.useState)([]),2),J=q[0],K=q[1],Q=(0,r._)((0,d.useState)(new Date),2),X=(Q[0],Q[1]),Z=(0,r._)((0,d.useState)({startTime:"",endTime:""}),2),$=Z[0];Z[1];var ee=function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear(),i="00",u="00";return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),i.length<2&&(i="0"+i),u.length<2&&(u="0"+u),[[r,n,a].join("-"),"T",i,":",u].join("")},et=function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear(),i=new Date,u="",o="";return e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()?(u=""+i.getHours(),o=""+i.getMinutes()):(a=""+t.getDate(),u="23",o="59"),n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),u.length<2&&(u="0"+u),o.length<2&&(o="0"+o),[[r,n,a].join("-"),"T",u,":",o].join("")},en=function(e){n(e)};(0,d.useEffect)(function(){""!==t&&f.default.get(s.BASE_URL+s.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+t).then(function(e){m(function(t){return(0,u._)(e.data.obj)}),v(function(){return e.data.obj[0]}),k(!1)}).catch(function(e){console.log(e)})},[t]);var ea=function(e){e=e.trim(),R([]),Y(""),v(e)};(0,d.useEffect)(function(){""!==E&&f.default.get(s.BASE_URL+s.STUDENT.GET_GROUPS_BY_LEVEL_AND_FACULTY_NAME+t+"?facultyName="+E).then(function(e){R(function(){return(0,u._)(e.data.obj)}),Y(function(){return e.data.obj[0]})}).catch(function(e){h.toast.error(e.data)})},[E]);var er=function(e){Y(e)},ei=function(e){""===e?H(function(){return!1}):"OTHER_DAY"===e&&(M(function(){return e}),H(function(){return!0})),"TODAY"===e&&(M(function(){return e}),X(new Date),H(function(){return!1}))};return(0,d.useEffect)(function(){f.default.get(s.BASE_URL+s.STUDENT.GET_FACULTY_BY_COURSE_LEVEL+t).then(function(e){m(e.data.obj),v(e.data.obj[0])}).catch(function(e){console.log(e)})},[t]),(0,d.useEffect)(function(){f.default.get(s.BASE_URL+s.STUDENT.GET_GROUPS_BY_LEVEL_AND_FACULTY_NAME+t+"?facultyName="+E).then(function(e){R(function(){return(0,u._)(e.data.obj)}),Y(function(){return e.data.obj[0]}),k(!1)}).catch(function(e){console.log(e)})},[E,t]),(0,d.useEffect)(function(){k(!0),f.default.get(s.BASE_URL+s.STUDENT.GET_STUDENT_WITH_RFID_FOR_TODAY+w).then(function(e){var t;null===(t=e.data.obj)||void 0===t||t.map(function(e){return null!==e.dateAsc&&(e.dateAsc=new Date(e.dateAsc)),null!==e.dateDesc&&(e.dateDesc=new Date(e.dateDesc)),e}),K(e.data.obj),k(!1)})},[w]),(0,l.jsxs)(N,{children:[(0,l.jsxs)(A,{children:[(0,l.jsxs)(S,{onChange:function(e){return en(e.target.value)},children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Select Course"}),(0,l.jsx)("option",{value:"1",children:"Course - 1"}),(0,l.jsx)("option",{value:"2",children:"Course - 2"}),(0,l.jsx)("option",{value:"3",children:"Course - 3"}),(0,l.jsx)("option",{value:"4",children:"Course - 4"})]}),(0,l.jsx)(S,{value:E,onChange:function(e){return ea(e.target.value)},children:c&&c.map(function(e){return(0,l.jsx)("option",{value:e,children:e},e)})}),(0,l.jsx)(S,{value:w,onChange:function(e){return er(e.target.value)},children:F&&F.map(function(e,t){return(0,l.jsx)("option",{value:e,children:e},t)})}),(0,l.jsxs)(S,{isOtherDay:G,onChange:function(e){return ei(e.target.value)},children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Time"}),(0,l.jsx)("option",{value:"TODAY",children:"TODAY"}),(0,l.jsx)("option",{value:"OTHER_DAY",children:"OTHER DAY"})]}),G&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.TextField,{component:C,sx:{width:"250px"},InputLabelProps:{shrink:!0,required:!0},label:"Date",type:"date",id:"end",size:"medium",onChange:function(e){return W(new Date(e.target.value))}}),(0,l.jsx)(_.default,{component:C,sx:{width:"250px"},variant:"contained",endIcon:(0,l.jsx)(g.FaFilter,{}),onClick:function(){if(K(function(){return[]}),"OTHER_DAY"===V){k(!0);var e=ee(P),t=et(P);$.endTime=t,$.startTime=e,f.default.post(s.BASE_URL+s.STUDENT.GET_STUDENT_WITH_RFID+"?endTime="+$.endTime+"&groupName="+w+"&startTime="+$.startTime).then(function(e){var t;e.data.obj.map((t=(0,a._)(function(e){return(0,o._)(this,function(t){return null!==e.dateAsc&&(e.dateAsc=new Date(e.dateAsc)),null!==e.dateDesc&&(e.dateDesc=new Date(e.dateDesc)),[2,e]})}),function(e){return t.apply(this,arguments)})),K(function(){return(0,u._)(e.data.obj)}),k(!1)}).catch(function(e){console.log(e),k(!1)})}},size:"large",children:"Filter"})]})]}),(0,l.jsx)(U,{children:(0,l.jsx)(x.Card,{style:{width:"100%"},children:(0,l.jsxs)(x.CardContent,{children:[O&&(0,l.jsx)(j.default,{sx:{width:"100%"},children:(0,l.jsx)(T.default,{})}),(0,l.jsx)(p.DataGrid,{style:{width:"100%",minHeight:"300px!important"},columns:[{field:"id",headerName:"ID",width:40,editable:!1},{field:"fullName",headerName:"Full Name",width:180,editable:!1},{field:"cardNo",headerName:"Card Number",width:180,editable:!1},{field:"dateAsc",headerName:"Come In",type:"dateTime",width:180,editable:!1,renderCell:function(e){return""!==e.formattedValue?(0,l.jsx)("p",{children:e.formattedValue}):(0,l.jsx)("p",{children:"kelmagan"})}},{field:"dateDesc",headerName:"Come Out",type:"dateTime",width:180,editable:!1,renderCell:function(e){return""!==e.formattedValue?(0,l.jsx)("p",{children:e.formattedValue}):(0,l.jsx)("p",{children:"kelmagan"})}}],rows:J||[],components:{Toolbar:p.GridToolbar},loading:O,autoHeight:!0})]})})})]})}}}]);