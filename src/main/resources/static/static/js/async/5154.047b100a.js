/*! For license information please see 5154.047b100a.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5154"],{17171:function(n,e,t){"use strict";var l=t("5751");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=l(t("64938")),i=t("85893"),a=(0,o.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");e.default=a},39628:function(n,e,t){"use strict";var l=t("5751");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=l(t("64938")),i=t("85893"),a=(0,o.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");e.default=a},5927:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return J}});var l=t("27412"),o=t("7409"),i=t("99282"),a=t("38956"),d=t("58865");t("21249"),t("57640"),t("9924"),t("69826"),t("31672"),t("59461"),t("2490"),t("41539"),t("92222"),t("57327"),t("88449"),t("19894"),t("26833"),t("68216"),t("79433");var r=t("85893"),u=t("67294"),c=t("71893"),s=t("28685"),f=t("27233"),h=t("86893"),v=t("63750"),p=t("45184"),m=t("16356"),x=t("97367"),g=t("55693"),b=t("79352"),j=t("52861"),y=t("89583"),_=t("90650"),C=t("71632"),w=t("44118"),S=t("15352"),k=t("39628"),E=t("17171"),N=t("72132"),O=t("94718"),B=t("7104");function L(){var n=(0,d._)(["\n  height: 80px;\n  padding-top: 10px;\n  display: grid;\n  overflow-y: scroll;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 30px;\n  ","\n  ","\n  ","\n"]);return L=function(){return n},n}function z(){var n=(0,d._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return z=function(){return n},n}function D(){var n=(0,d._)(["\n  ","\n  ","\n  ","\n"]);return D=function(){return n},n}function H(){var n=(0,d._)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"]);return H=function(){return n},n}function R(){var n=(0,d._)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin: 5px !important;\n"]);return R=function(){return n},n}function T(){var n=(0,d._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding:1rem;\n"]);return T=function(){return n},n}var U=(0,r.jsx)(k.default,{fontSize:"small"}),A=(0,r.jsx)(E.default,{fontSize:"small"}),F=c.default.div(L(),(0,C.medium)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,C.small)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,C.extrasmall)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),M=(0,c.default)(_.motion.button)(z(),s.mainColor),I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},P=c.default.div(D(),(0,C.medium)({width:"97vw !important",height:"60vh !important"}),(0,C.small)({width:"97vw !important",height:"60vh !important"}),(0,C.extrasmall)({width:"97vw !important",height:"60vh !important"})),V=c.default.button(H(),function(n){return n.color},function(n){return n.color}),G=c.default.div(R()),q=c.default.div(T()),J=function(){var n=(0,s.getHeaders)().headers,e=(0,a._)((0,u.useState)(!1),2),t=e[0],d=e[1],c=(0,a._)((0,u.useState)([]),2),_=c[0],C=c[1],k=(0,a._)((0,u.useState)(null),2),E=k[0],L=k[1],z=(0,a._)((0,u.useState)([]),2),D=z[0],H=z[1],R=(0,a._)((0,u.useState)(!1),2),T=R[0],J=R[1],K=(0,a._)((0,u.useState)({id:null,name:null,shortName:null,schoolCode:null,school:null}),2),Q=K[0],W=K[1],X=[{field:"id",headerName:"ID",width:300,editable:!1},{field:"name",headerName:"Name",type:"string",width:300,editable:!1},{field:"shortName",headerName:"Short name",type:"string",width:120,editable:!1},{field:"school",headerName:"School",type:"string",width:300,editable:!1},{field:"service",headerName:"Service",type:"string",width:100,editable:!1,renderCell:function(n){return(0,r.jsxs)(G,{children:[(0,r.jsx)(V,{color:s.mainColor,onClick:function(){var e,t;return ne(null==n?void 0:null===(e=n.row)||void 0===e?void 0:e.id,null==n?void 0:null===(t=n.row)||void 0===t?void 0:t.school)},children:(0,r.jsx)(h.FiEdit,{})}),(0,r.jsx)(V,{color:"red",onClick:function(){var e,t;return nt(null==n?void 0:null===(e=n.row)||void 0===e?void 0:e.id,null==n?void 0:null===(t=n.row)||void 0===t?void 0:t.name)},children:(0,r.jsx)(v.BsTrash,{})})]})}}],Y=function(){J(!1)},Z=function(){f.default.get(s.BASE_URL+"/school/findAll",{headers:n}).then(function(n){var e,t;H(null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.obj)||void 0===e?void 0:e.map(function(n){return{label:null==n?void 0:n.nameEn,value:null==n?void 0:n.code}}))}).catch(function(n){})},$=function(){f.default.get(s.BASE_URL+"/faculty/getDirectionsOfFaculty",{headers:n}).then(function(n){var e;C(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj),d(!1)}).catch(function(n){})},nn=function(n){W(function(e){return(0,i._)((0,o._)({},e),(0,l._)({},n.target.name,n.target.value))})};(0,u.useEffect)(function(){Z(),$()},[]),(0,u.useEffect)(function(){},[_]),(0,u.useEffect)(function(){},[Q]),(0,u.useEffect)(function(){t&&$()},[t]);var ne=function(n,e){(null==D?void 0:D.length)>0&&L(function(n){return(0,o._)({},null==D?void 0:D.find(function(n){return(null==n?void 0:n.label)===e}))}),(null==D?void 0:D.length)>0&&W(function(t){var l;return(0,i._)((0,o._)({},null==_?void 0:_.find(function(e){return(null==e?void 0:e.id)===n})),{schoolCode:null==D?void 0:null===(l=D.find(function(n){return(null==n?void 0:n.label)===e}))||void 0===l?void 0:l.value})}),J(!0)},nt=function(e,t){W({id:null,shortName:null,schoolCode:null,school:null}),window.confirm("Do you want to delete ".concat(t,"?"))&&(f.default.delete("".concat(s.BASE_URL,"/faculty/deleteFaculty/").concat(e),{headers:n}).then(function(n){var t;C(null==_?void 0:_.filter(function(n){return(null==n?void 0:n.id)!==e})),N.toast.success(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}).catch(function(n){}),N.toast.success("Deleted successfully",{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))},nl=function(e){delete e.id,delete e.school,Object.values(e).every(function(n){return null!==n&&n})?f.default.post(s.BASE_URL+"/faculty/saveDirection",(0,i._)((0,o._)({},e),{id:null}),{headers:n}).then(function(n){J(!1),L(null),$(),N.toast.success("".concat(null==e?void 0:e.name," direction has been saved successfully!."))}).catch(function(n){var e,t;N.toast.error(null==n?void 0:null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)}):N.toast.warning("Empty any field..")},no=function(e){delete e.school,Object.values(e).every(function(n){return null!==n&&n})?f.default.post(s.BASE_URL+"/faculty/saveDirection",e,{headers:n}).then(function(n){J(!1),$(),N.toast.success("".concat(null==e?void 0:e.name," direction has been updated successfully!."))}).catch(function(n){var e,t;N.toast.error(null==n?void 0:null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)}):N.toast.warning("Empty any field..")};return(0,r.jsxs)(q,{children:[(0,r.jsx)(g.default,{display:"flex",justifyContent:"end",children:(0,r.jsx)(O.default,{sx:{width:"220px"},variant:"contained",onClick:function(){J(!0),L(null),W({id:null,name:null,shortName:null,schoolCode:null,school:null})},children:"Create new direction"})}),t&&(null==_?void 0:_.length)>0?(0,r.jsx)(p.default,{}):(0,r.jsx)(B.Card,{children:(0,r.jsx)(B.CardContent,{children:(0,r.jsx)(m.DataGrid,{checkboxSelection:!0,sx:{minHeight:"670px!important",overflow:"scroll"},columns:X,rows:_,components:{Toolbar:m.GridToolbar},pageSize:10,initialState:(0,i._)((0,o._)({},_.initialState),{columns:{columnVisibilityModel:{id:!1}}})})})}),(0,r.jsx)(x.default,{open:T,onClose:Y,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,r.jsxs)(g.default,{sx:I,component:P,children:[(0,r.jsx)(M,{onClick:Y,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,r.jsx)(b.RiCloseLine,{})}),(0,r.jsx)("h3",{style:{color:"".concat(s.mainColor)},children:(null==Q?void 0:Q.id)!==null&&(null==Q?void 0:Q.id)?"Update direction":"Create new direction"}),(0,r.jsxs)(F,{children:[(0,r.jsx)(j.default,{id:"outlined-basic",label:"Name",variant:"outlined",value:null==Q?void 0:Q.name,name:"name",onChange:nn}),(0,r.jsx)(j.default,{id:"outlined-basic",label:"Short name",variant:"outlined",value:null==Q?void 0:Q.shortName,name:"shortName",onChange:nn}),(0,r.jsx)(w.default,{id:"checkboxes-tags-demo",options:D,disableCloseOnSelect:!0,getOptionLabel:function(n){return null==n?void 0:n.label},value:E,onChange:function(n,e){L(e),W(function(n){return(0,i._)((0,o._)({},n),{schoolCode:null==e?void 0:e.value})})},renderOption:function(n,e,t){var l=t.selected;return(0,r.jsxs)("li",(0,i._)((0,o._)({},n),{children:[(0,r.jsx)(S.default,{icon:U,checkedIcon:A,style:{marginRight:8},checked:l}),null==e?void 0:e.label]}))},renderInput:function(n){return(0,r.jsx)(j.default,(0,i._)((0,o._)({},n),{label:"School",placeholder:"School"}))}})]}),(0,r.jsx)(g.default,{sx:{display:"flex",justifyContent:"end"},children:(0,r.jsx)(O.default,{variant:"contained",endIcon:(null==Q?void 0:Q.id)!==null&&(null==Q?void 0:Q.id)?(0,r.jsx)(h.FiEdit,{}):(0,r.jsx)(y.FaSave,{}),onClick:function(){return(null==Q?void 0:Q.id)!==null&&(null==Q?void 0:Q.id)?no(Q):nl(Q)},children:(null==Q?void 0:Q.id)!==null&&(null==Q?void 0:Q.id)?"Update":" Save"})})]})})]})}}}]);