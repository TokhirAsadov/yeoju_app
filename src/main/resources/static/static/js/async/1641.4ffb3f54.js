/*! For license information please see 1641.4ffb3f54.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["1641"],{17171:function(n,e,l){"use strict";var o=l("5751");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(l("64938")),i=l("85893"),a=(0,t.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");e.default=a},39628:function(n,e,l){"use strict";var o=l("5751");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(l("64938")),i=l("85893"),a=(0,t.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");e.default=a},55982:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return Q}});var o=l("27412"),t=l("7409"),i=l("99282"),a=l("38956"),d=l("58865");l("92222"),l("57327"),l("88449"),l("19894"),l("2490"),l("41539"),l("26833"),l("68216"),l("79433");var r=l("85893"),u=l("67294"),s=l("71893"),c=l("28685"),v=l("27233"),f=l("72132"),h=l("45184"),p=l("16356"),m=l("89583"),g=l("86893"),x=l("63750"),b=l("79352"),j=l("71632"),w=l("90650"),_=l("55693"),k=l("52861"),y=l("44118"),C=l("97367"),S=l("15352"),R=l("39628"),E=l("17171"),O=l("94718"),U=l("7104");function z(){var n=(0,d._)(["\n    height: 250px;\n    padding-top: 10px;\n    display: grid;\n    overflow-y: scroll;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 30px;\n    ","\n    ","\n    ","\n"]);return z=function(){return n},n}function B(){var n=(0,d._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return B=function(){return n},n}function L(){var n=(0,d._)(["\n    ","\n    ","\n    ","\n"]);return L=function(){return n},n}function I(){var n=(0,d._)(["\n    width: 30px;\n    height: 30px;\n    background-color: #fff;\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid red;\n    border-radius: 0.5rem;\n    color: red;\n    padding: 5px !important;\n\n    &:hover {\n        transform: scale(1.1);\n    }\n\n"]);return I=function(){return n},n}function A(){var n=(0,d._)(["\n    width: 30px;\n    height: 30px;\n    background-color: #fff;\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid ",";\n    border-radius: 0.5rem;\n    color: ",";\n    padding: 5px !important;\n\n    &:hover {\n        transform: scale(1.1);\n    }\n\n"]);return A=function(){return n},n}function H(){var n=(0,d._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n    margin: 5px !important;\n"]);return H=function(){return n},n}function K(){var n=(0,d._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 1rem;\n"]);return K=function(){return n},n}var N=(0,r.jsx)(R.default,{fontSize:"small"}),P=(0,r.jsx)(E.default,{fontSize:"small"}),T=s.default.div(z(),(0,j.medium)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,j.small)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,j.extrasmall)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),V=(0,s.default)(w.motion.button)(B(),c.mainColor),D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},M=s.default.div(L(),(0,j.medium)({width:"97vw !important",height:"97vh !important"}),(0,j.small)({width:"97vw !important",height:"97vh !important"}),(0,j.extrasmall)({width:"97vw !important",height:"97vh !important"})),F=s.default.button(I()),G=s.default.button(A(),c.mainColor,c.mainColor),q=s.default.div(H()),J=s.default.div(K()),Q=function(){var n=(0,a._)((0,u.useState)(!1),2),e=n[0],l=n[1],d=(0,a._)((0,u.useState)([]),2),s=d[0],j=d[1],w=(0,a._)((0,u.useState)([]),2),R=w[0],E=w[1],z=(0,a._)((0,u.useState)(!1),2),B=z[0],L=z[1],I=(0,a._)((0,u.useState)([]),2),A=I[0],H=I[1],K=(0,a._)((0,u.useState)([]),2),Q=K[0],W=K[1],X=(0,a._)((0,u.useState)({id:null,nameEn:null,nameRu:null,nameUz:null,owner:null,room:null,phone:null,roles:[],positions:[]}),2),Y=X[0],Z=X[1],$=(0,a._)((0,u.useState)(null),2),nn=$[0],ne=$[1],nl=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"nameEn",headerName:"English name",type:"string",width:300,editable:!1},{field:"nameUz",headerName:"O`zbekcha nomi",type:"string",width:300,editable:!1},{field:"nameRu",headerName:"\u0420\u0443\u0441\u0441\u043A\u043E\u0435 \u0438\u043C\u044F",type:"string",width:300,editable:!1},{field:"owner",headerName:"Kafedra mudiri",type:"string",width:300,editable:!1,renderCell:function(n){var e,l;return(0,r.jsx)("div",{children:null==n?void 0:null===(l=n.row)||void 0===l?void 0:null===(e=l.owner)||void 0===e?void 0:e.label})}},{field:"room",headerName:"Room",type:"string",width:100,editable:!1},{field:"phone",headerName:"Phone",type:"string",width:200,editable:!1},{field:"service",headerName:"Service",type:"string",width:100,editable:!1,renderCell:function(n){return(0,r.jsxs)(q,{children:[(0,r.jsx)(G,{onClick:function(){var e;return nu(null==n?void 0:null===(e=n.row)||void 0===e?void 0:e.id)},children:(0,r.jsx)(g.FiEdit,{})}),(0,r.jsx)(F,{onClick:function(){var e,l;return na(null==n?void 0:null===(e=n.row)||void 0===e?void 0:e.id,null==n?void 0:null===(l=n.row)||void 0===l?void 0:l.nameEn)},children:(0,r.jsx)(x.BsTrash,{})})]})}}],no=(0,c.getHeaders)().headers;(0,u.useEffect)(function(){ni(),nt()},[]);var nt=function(){v.default.get(c.BASE_URL+"/kafedra/allKafedra",{headers:no}).then(function(n){var e;console.log(null==n?void 0:n.data,"kafedralar"),j(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj),l(!1)}).catch(function(n){console.log(n)})},ni=function(){v.default.get(c.BASE_URL+"/dekanat/getDatasForSavedKafedraMudiri").then(function(n){var e,l,o,t,i,a;E(null==n?void 0:null===(l=n.data)||void 0===l?void 0:null===(e=l.obj)||void 0===e?void 0:e.users),H(null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(o=t.obj)||void 0===o?void 0:o.roles),W(null==n?void 0:null===(a=n.data)||void 0===a?void 0:null===(i=a.obj)||void 0===i?void 0:i.positions)}).catch(function(n){console.log(n)})},na=function(n,e){console.log(n,"deleted"),Z({id:null,nameEn:null,nameRu:null,nameUz:null,owner:null,room:null,phone:null,roles:[],positions:[]}),window.confirm("Do you want to delete ".concat(e,"?"))&&(v.default.delete("".concat(c.BASE_URL,"/kafedra/deleteKafedra/").concat(n),{headers:no}).then(function(e){var l;j(null==s?void 0:s.filter(function(e){return(null==e?void 0:e.id)!==n})),f.toast.success(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}).catch(function(n){console.log(n)}),f.toast.success("Deleted successfully",{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))},nd=function(n){n.length>3&&v.default.get(c.BASE_URL+"/user/getUsersForUserRole?keyword="+n,{headers:no}).then(function(n){var e;E(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.obj)}).catch(function(n){console.log(n)})},nr=function(){L(!1)},nu=function(n){L(!0),console.log(n,"edited"),v.default.get("".concat(c.BASE_URL,"/kafedra/getKafedraV3ById?id=").concat(n),{headers:no}).then(function(n){var e,l;console.log(null==n?void 0:n.data," <---- "),ne(null==n?void 0:null===(l=n.data)||void 0===l?void 0:null===(e=l.obj)||void 0===e?void 0:e.owner),Z(function(e){var l,o,a,d,r,u,s,c,v,f,h,p,m,g,x,b,j,w,_,k,y;return(0,i._)((0,t._)({},e),{id:null==n?void 0:null===(o=n.data)||void 0===o?void 0:null===(l=o.obj)||void 0===l?void 0:l.id,nameEn:null==n?void 0:null===(d=n.data)||void 0===d?void 0:null===(a=d.obj)||void 0===a?void 0:a.nameEn,nameRu:null==n?void 0:null===(u=n.data)||void 0===u?void 0:null===(r=u.obj)||void 0===r?void 0:r.nameRu,nameUz:null==n?void 0:null===(c=n.data)||void 0===c?void 0:null===(s=c.obj)||void 0===s?void 0:s.nameUz,owner:null==n?void 0:null===(f=n.data)||void 0===f?void 0:null===(v=f.obj)||void 0===v?void 0:v.owner,ownerId:null==n?void 0:null===(m=n.data)||void 0===m?void 0:null===(p=m.obj)||void 0===p?void 0:null===(h=p.owner)||void 0===h?void 0:h.value,room:null==n?void 0:null===(x=n.data)||void 0===x?void 0:null===(g=x.obj)||void 0===g?void 0:g.room,phone:null==n?void 0:null===(j=n.data)||void 0===j?void 0:null===(b=j.obj)||void 0===b?void 0:b.phone,roles:null==n?void 0:null===(_=n.data)||void 0===_?void 0:null===(w=_.obj)||void 0===w?void 0:w.roles,positions:null==n?void 0:null===(y=n.data)||void 0===y?void 0:null===(k=y.obj)||void 0===k?void 0:k.positions})})}).catch(function(n){console.log(n)})};(0,u.useEffect)(function(){e&&nt()},[e]),(0,u.useEffect)(function(){console.log(Y,"change updateKafedra")},[Y]);var ns=function(n){Z(function(e){return(0,i._)((0,t._)({},e),(0,o._)({},n.target.name,n.target.value))})},nc=function(n){delete n.owner,delete n.id,console.log(n," for save kafedra"),Object.values(n).every(function(n){return null!==n&&n})?v.default.post(c.BASE_URL+"/kafedra/createKafedraV2",(0,i._)((0,t._)({},n),{id:null}),{headers:no}).then(function(e){L(!1),nt(),f.toast.success("".concat(null==n?void 0:n.name," kafedra has been saved successfully!."))}).catch(function(n){var e,l;console.log(n),f.toast.error(null==n?void 0:null===(l=n.response)||void 0===l?void 0:null===(e=l.data)||void 0===e?void 0:e.message)}):f.toast.warning("Empty any field..")},nv=function(n){delete n.owner,console.log(n,"edit kafedra"),Object.values(n).every(function(n){return null!==n&&n})?v.default.post(c.BASE_URL+"/kafedra/createKafedraV2",n,{headers:no}).then(function(n){L(!1),nt(),f.toast.success("Updated kafedra successfully!.")}).catch(function(n){console.log(n)}):f.toast.warning("Empty any field..")};return(0,r.jsxs)(J,{children:[(0,r.jsx)(_.default,{display:"flex",justifyContent:"end",children:(0,r.jsx)(O.default,{sx:{width:"220px"},variant:"contained",onClick:function(){ne(null),Z({id:null,nameEn:null,nameRu:null,nameUz:null,owner:null,room:null,phone:null,roles:[],positions:[]}),L(!0)},children:" Add new department"})}),e&&(null==s?void 0:s.length)>0?(0,r.jsx)(h.default,{}):(0,r.jsx)(U.Card,{children:(0,r.jsx)(U.CardContent,{children:(0,r.jsx)(p.DataGrid,{checkboxSelection:!0,sx:{minHeight:"670px!important",overflow:"scroll"},columns:nl,rows:s,components:{Toolbar:p.GridToolbar},pageSize:10,initialState:(0,i._)((0,t._)({},s.initialState),{columns:{columnVisibilityModel:{id:!1,nameRu:!1}}})})})}),(0,r.jsx)(C.default,{open:B,onClose:nr,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,r.jsxs)(_.default,{sx:D,component:M,children:[(0,r.jsx)(V,{onClick:nr,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,r.jsx)(b.RiCloseLine,{})}),(0,r.jsx)("h3",{style:{color:"".concat(c.mainColor)},children:(null==Y?void 0:Y.id)!==null&&(null==Y?void 0:Y.id)?"Update kafedra":"Create new kafedra"}),(0,r.jsxs)(T,{children:[(0,r.jsx)(k.default,{id:"outlined-basic",label:"English name",variant:"outlined",value:null==Y?void 0:Y.nameEn,name:"nameEn",onChange:ns}),(0,r.jsx)(k.default,{id:"outlined-basic",label:"\u0420\u0443\u0441\u0441\u043A\u043E\u0435 \u0438\u043C\u044F",variant:"outlined",value:null==Y?void 0:Y.nameRu,name:"nameRu",onChange:ns}),(0,r.jsx)(k.default,{id:"outlined-basic",label:"O`zbekcha nomi",variant:"outlined",value:null==Y?void 0:Y.nameUz,name:"nameUz",onChange:ns}),(0,r.jsx)(y.default,{id:"checkboxes-tags-demo",options:R,disableCloseOnSelect:!0,getOptionLabel:function(n){return null==n?void 0:n.label},value:nn,onChange:function(n,e){console.log(e,"new value"),ne(e),Z(function(n){return(0,i._)((0,t._)({},n),{ownerId:null==e?void 0:e.value})})},onInputChange:function(n,e){(null==n?void 0:n.type)==="change"&&nd(e)},renderOption:function(n,e,l){var o=l.selected;return(0,r.jsxs)("li",(0,i._)((0,t._)({},n),{children:[(0,r.jsx)(S.default,{icon:N,checkedIcon:P,style:{marginRight:8},checked:o}),null==e?void 0:e.label]}))},renderInput:function(n){return(0,r.jsx)(k.default,(0,i._)((0,t._)({},n),{label:"Owner",placeholder:"Owner"}))}}),(0,r.jsx)(k.default,{id:"outlined-basic",label:"Room",variant:"outlined",value:null==Y?void 0:Y.room,name:"room",onChange:ns}),(0,r.jsx)(k.default,{id:"outlined-basic",label:"Phone",variant:"outlined",value:null==Y?void 0:Y.phone,name:"phone",onChange:ns}),(0,r.jsx)(y.default,{multiple:!0,id:"checkboxes-tags-demo",options:A,disableCloseOnSelect:!0,getOptionLabel:function(n){return n},value:null==Y?void 0:Y.roles,onChange:function(n,e){Z(function(n){return(0,i._)((0,t._)({},n),{roles:e})})},renderOption:function(n,e,l){var o=l.selected;return(0,r.jsxs)("li",(0,i._)((0,t._)({},n),{children:[(0,r.jsx)(S.default,{icon:N,checkedIcon:P,style:{marginRight:8},checked:o}),e]}))},renderInput:function(n){return(0,r.jsx)(k.default,(0,i._)((0,t._)({},n),{label:"Roles",placeholder:"Roles"}))}}),(0,r.jsx)(y.default,{multiple:!0,id:"checkboxes-tags-demo",options:Q,disableCloseOnSelect:!0,getOptionLabel:function(n){return n},value:null==Y?void 0:Y.positions,onChange:function(n,e){Z(function(n){return(0,i._)((0,t._)({},n),{positions:e})})},renderOption:function(n,e,l){var o=l.selected;return(0,r.jsxs)("li",(0,i._)((0,t._)({},n),{children:[(0,r.jsx)(S.default,{icon:N,checkedIcon:P,style:{marginRight:8},checked:o}),e]}))},renderInput:function(n){return(0,r.jsx)(k.default,(0,i._)((0,t._)({},n),{label:"Positions",placeholder:"Positions"}))}})]}),(0,r.jsx)(_.default,{sx:{display:"flex",justifyContent:"end"},children:(0,r.jsx)(O.default,{variant:"contained",endIcon:(null==Y?void 0:Y.id)!==null&&(null==Y?void 0:Y.id)?(0,r.jsx)(g.FiEdit,{}):(0,r.jsx)(m.FaSave,{}),onClick:function(){return(null==Y?void 0:Y.id)!==null&&(null==Y?void 0:Y.id)?nv(Y):nc(Y)},children:(null==Y?void 0:Y.id)!==null&&(null==Y?void 0:Y.id)?"Update":" Save"})})]})})]})}}}]);