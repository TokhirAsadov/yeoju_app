/*! For license information please see 3515.0feb370b.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["3515"],{58577:function(e,n,t){"use strict";t.r(n);var i=t("58865");t("33948"),t("88449"),t("19894"),t("2490"),t("31672"),t("59461"),t("57640"),t("9924");var l=t("85893"),o=t("67294"),d=t.n(o),a=t("71893"),r=t("16393"),u=t("27233"),s=t("72132"),c=t("53432"),p=t("16356"),h=t("97367"),f=t("55693"),x=t("79352"),v=t("52861"),m=t("42154"),g=t("32392"),b=t("61261"),j=t("7104"),w=t("89583"),C=t("5434"),S=t("94718");function D(){let e=(0,i._)(["  \n  width: 120px;\n  height:50px;\n  background: ","; \n  font-size: 18px; \n  border-radius: 4px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-left: 15px!important;\n  letter-spacing: 1.2px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    transform: scale(0.95);\n  }\n"]);return D=function(){return e},e}function _(){let e=(0,i._)(["\n  padding: 20px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 25px;\n"]);return _=function(){return e},e}function A(){let e=(0,i._)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center; \n  background-color: rgba(255,255,255,0.6);\n  border-radius: 50%;\n  color: ",";\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return A=function(){return e},e}function y(){let e=(0,i._)(["\n  width: 100%;\n  display: flex;\n  gap: 10px;\n  margin: 5px!important;\n"]);return y=function(){return e},e}function N(){let e=(0,i._)(["\n  width: 100%;\n  background-color: #fff;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n"]);return N=function(){return e},e}function k(){let e=(0,i._)(["\n  display: flex;\n  width: 100%;\n  float: left;\n  margin-left: 15px;\n  margin-top: ",";\n  color: ",";\n"]);return k=function(){return e},e}function R(){let e=(0,i._)(["\n  margin-top: 20px;\n  width: 100px;\n  height:35px;\n  background: ",";\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: #fff;\n  transition: all 0.2s ease;\n  margin-left: 15px!important;\n  letter-spacing: 1.2px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    transform: scale(0.95);\n  }\n"]);return R=function(){return e},e}function E(){let e=(0,i._)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding:  8px!important;\n  color: ",";\n"]);return E=function(){return e},e}function I(){let e=(0,i._)(["\n  width: "," ;\n  margin-top: 20px;\n  height:35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 7px;\n  cursor: pointer;\n  border: 1px solid ",";\n  color: ",";\n  margin-left: 15px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  &:focus{\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n  \n"]);return I=function(){return e},e}function O(){let e=(0,i._)(["\n  padding:  10px!important; \n"]);return O=function(){return e},e}let U=a.default.button(D(),r.mainColor,r.mainColor),P=a.default.div(_()),B=a.default.button(A(),r.mainColor),L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4},T=a.default.div(y()),z=a.default.div(N()),M=a.default.h3(k(),e=>e.mt,r.mainColor),W=a.default.button(R(),r.mainColor,r.mainColor),H=a.default.div(E(),r.mainColor),G=a.default.select(I(),e=>e.width,r.mainColor,r.mainColor),V=a.default.div(O());n.default=()=>{var e;let[n,t]=(0,o.useState)(""),[i,a]=(0,o.useState)(1),[D,_]=(0,o.useState)([]),[A,y]=(0,o.useState)(1),[N,k]=(0,o.useState)([]),[R,E]=(0,o.useState)(""),[I,O]=(0,o.useState)([]),[F,K]=(0,o.useState)(""),[q,J]=(0,o.useState)([]),[Q,X]=(0,o.useState)({deviceId:i,doorName:F,doorNo:A}),[Y,Z]=(0,o.useState)(!1),$=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"ip",headerName:"Device",type:"string",width:300,editable:!1},{field:"port",headerName:"Port",type:"integer",width:180,editable:!1},{field:"room",headerName:"Room",type:"string",width:140,editable:!1},{field:"state",headerName:"State",type:"string",width:240,editable:!1,renderCell:e=>(0,l.jsxs)(T,{children:[(0,l.jsx)(S.default,{size:"small",variant:"contained",startIcon:(0,l.jsx)(w.FaEdit,{size:17}),onClick:n=>{n.preventDefault(),ef(e.id)},children:"Update"}),(0,l.jsx)(S.default,{size:"small",startIcon:(0,l.jsx)(C.MdDelete,{size:17}),variant:"contained",color:"error",onClick:n=>{n.preventDefault(),ex(e.id)},children:"Delete"})]})}],[ee,en]=(0,o.useState)([{id:1,fullName:"Tohir Asadov",cardNo:"123456",dateAsc:new Date,dateDesc:new Date,phoneNumber:"993361603"},{id:2,fullName:"Tohir Asadov",cardNo:"123456",dateAsc:new Date,dateDesc:new Date,Print:"OK See",phoneNumber:"993361603"}]),[et,ei]=d().useState(!1),[el,eo]=(0,o.useState)({}),[ed,ea]=(0,o.useState)([]),er=()=>ei(!0),eu=()=>ei(!1),{headers:es}=(0,r.getHeaders)();(0,o.useEffect)(()=>{X({...Q,deviceId:i,doorName:F,doorNo:A})},[i,A,F]),(0,o.useEffect)(()=>{ec()},[]),(0,o.useEffect)(()=>{var e,n;a(null===(e=D[0])||void 0===e?void 0:e.id),D[0]&&u.default.get(r.BASE_URL+r.ADMIN.ACC_DOOR_PORTS+(null===(n=D[0])||void 0===n?void 0:n.id),{headers:es}).then(e=>{var n;k(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(e=>{})},[D]),(0,o.useEffect)(()=>{var e;let t=null===(e=D.filter(e=>(null==e?void 0:e.ip)===n)[0])||void 0===e?void 0:e.id;a(t),t&&u.default.get(r.BASE_URL+r.ADMIN.ACC_DOOR_PORTS+t,{headers:es}).then(e=>{var n;k(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(e=>{})},[n]);let ec=()=>{u.default.get(r.BASE_URL+r.ADMIN.DEVICE,{headers:es}).then(e=>{var n,t,i,l,o,d;_(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.devices),O(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.buildings),J(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.rooms),K(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(l=o.rooms[0])||void 0===l?void 0:l.name),en(null==e?void 0:null===(d=e.data)||void 0===d?void 0:d.deviceList)}).catch(e=>{})},ep=e=>{u.default.get(r.BASE_URL+r.ADMIN.ACC_DOOR_PORTS+e,{headers:es}).then(e=>{ea(n=>{var t;return[...n,...null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj]})}).catch(e=>{})},eh=e=>{u.default.put(r.BASE_URL+r.ADMIN.ACC_DOOR_UPDATED,e,{headers:es}).then(e=>{ei(!1),ec(),200===e.status&&s.toast.success("Changed successfully...")}).catch(e=>{})},ef=e=>{var n;er(),eo(ee.find(n=>n.id===e)),ea([null==ee?void 0:null===(n=ee.find(n=>n.id===e))||void 0===n?void 0:n.port]),ep(e)},ex=e=>{u.default.get(r.BASE_URL+"/ac-door/findById/"+e,{headers:es}).then(n=>{if(200===n.status){var t,i;window.confirm("Do you agree to delete "+(null===(i=n.data)||void 0===i?void 0:null===(t=i.obj)||void 0===t?void 0:t.doorName)+" room?")&&ev(e)}}).catch(e=>{})},ev=e=>{u.default.delete(r.BASE_URL+"/ac-door/delete/"+e,{headers:es}).then(n=>{204===n.status&&(s.toast.success("Deleted room successfully!..."),en(ee.filter(n=>n.id!==e)),ec())}).catch(e=>{})};return(0,l.jsxs)(V,{children:[(0,l.jsx)(M,{children:"Update Device"}),(0,l.jsxs)(H,{children:[(0,l.jsx)(G,{id:"device",width:"230px",value:n,onChange:e=>t(e.target.value),children:(0,l.jsx)("optgroup",{label:"Devices",children:null==D?void 0:D.map((e,n)=>(0,l.jsx)("option",{value:e.ip,children:e.ip},n))})}),(0,l.jsx)(G,{id:"ip",width:"140px",value:A,onChange:e=>y(e.target.value),children:(0,l.jsx)("optgroup",{label:"Ports",children:null==N?void 0:N.map((e,n)=>(0,l.jsx)("option",{value:e,children:e},n))})}),(0,l.jsx)(G,{id:"building",width:"140px",value:R,onChange:e=>E(e.target.value),children:(0,l.jsx)("optgroup",{label:"Buildings",children:null==I?void 0:I.map((e,n)=>(0,l.jsx)("option",{value:e.name,children:e.name},n))})}),(0,l.jsx)(G,{id:"room",width:"230px",value:F,onChange:e=>K(e.target.value),children:(0,l.jsx)("optgroup",{label:"Rooms",children:null==q?void 0:q.map((e,n)=>(0,l.jsx)("option",{value:e.name,children:e.name},n))})}),(0,l.jsx)(W,{onClick:()=>{u.default.put(r.BASE_URL+r.ADMIN.ACC_DOOR_UPDATED,Q,{headers:es}).then(e=>{ec(),200===e.status&&s.toast.success("Changed successfully...")}).catch(e=>{})},children:"Save"})]}),(0,l.jsx)(M,{mt:"50px",children:"Table of Device"}),(0,l.jsxs)(z,{children:[Y?(0,l.jsx)(c.default,{}):(0,l.jsx)(p.DataGrid,{checkboxSelection:!0,style:{width:"700px",minHeight:"300px!important"},columns:$,rows:ee,components:{Toolbar:p.GridToolbar},autoHeight:!0,pageSize:50,initialState:{...ee.initialState,columns:{columnVisibilityModel:{id:!1}}}}),(0,l.jsx)(h.default,{open:et,onClose:eu,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,l.jsxs)(f.default,{sx:L,children:[(0,l.jsx)(B,{onClick:eu,children:(0,l.jsx)(x.RiCloseLine,{})}),(0,l.jsxs)(P,{children:[(0,l.jsx)(v.default,{id:"outlined-basic",label:"IP",variant:"outlined",value:null==el?void 0:el.ip,disabled:!0}),(0,l.jsx)(f.default,{sx:{minWidth:200},children:(0,l.jsxs)(m.default,{fullWidth:!0,children:[(0,l.jsx)(g.default,{id:"demo-simple-select-label",children:"Port"}),(0,l.jsx)(j.Select,{disabled:!0,sx:{width:"200px"," @media only screen and  (max-width: 576px)":{width:300}},labelId:"demo-simple-select-label",id:"demo-simple-select",name:"port",value:null==el?void 0:el.port,label:"Port",onChange:e=>eo(n=>{var t;return{...n,port:null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value}}),children:null==ed?void 0:ed.map(e=>(0,l.jsx)(b.default,{value:e,children:e},e))})]})}),(0,l.jsx)(f.default,{sx:{minWidth:200},children:(0,l.jsxs)(m.default,{fullWidth:!0,children:[(0,l.jsx)(g.default,{id:"demo-simple-select-label",children:"Room"}),(0,l.jsx)(j.Select,{sx:{width:"200px"," @media only screen and  (max-width: 576px)":{width:300}},labelId:"demo-simple-select-label",id:"demo-simple-select",name:"room",value:null==el?void 0:el.room,label:"Room",onChange:e=>eo(n=>{var t;return{...n,room:null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value}}),children:(e=[{name:null==el?void 0:el.room},...q],e.map(e=>(0,l.jsx)(b.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.name)))})]})})]}),(0,l.jsx)(P,{children:(0,l.jsx)(U,{onClick:()=>eh({deviceId:null==el?void 0:el.deviceId,doorName:null==el?void 0:el.room,doorNo:null==el?void 0:el.port}),children:"Update"})})]})})]})]})}}}]);