/*! For license information please see 7255.b6b74a58.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["7255"],{71031:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n("38956"),o=n("58865");n("57658"),n("15581"),n("34514"),n("2490"),n("41539"),n("17727"),n("88674");var r=n("85893"),u=n("67294"),i=n("71893"),l=n("28685"),s=n("27233"),d=n("87346"),c=n("50533"),f=n("30381"),h=n.n(f);function v(){var e=(0,o._)(["\n  color: ",";\n  margin-bottom: 20px;\n"]);return v=function(){return e},e}function k(){var e=(0,o._)(["\n  width: 100%;\n  padding: 1rem!important;\n"]);return k=function(){return e},e}n("21793");var w=i.default.h3(v(),l.mainColor),m=i.default.div(k()),b=function(){var e=(0,l.getHeaders)().headers,t=(0,a._)((0,u.useState)([]),2),n=t[0],o=t[1],i=(0,a._)((0,u.useState)(null),2),f=i[0],v=i[1],k=(0,c.useSelector)(function(e){var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.user}),b=(0,a._)((0,u.useState)(!1),2),g=b[0],y=b[1],D=(0,a._)((0,u.useState)({date:new Date,dateFrom:h()(new Date).startOf("isoWeek").toDate(),dateTo:h()(new Date).endOf("isoWeek").toDate(),weekNumber:h()(new Date).isoWeek(),daysOfWeek:function(e,t){h().locale("ru");for(var n=h()().year(t).isoWeek(e).startOf("isoWeek"),a=[],o=0;o<6;o++)a.push(n.clone().add(o,"days").toDate());return a}(h()(new Date).isoWeek(),h()().year())}),2),_=D[0];return D[1],(0,u.useEffect)(function(){y(!0),s.default.get(l.BASE_URL+"/timeTableByWeekOfYear/getTeacherTimeTable?t="+(null==k?void 0:k.id)+"&week="+(null==_?void 0:_.weekNumber)+"&year="+h()(null==_?void 0:_.date).format("YYYY"),{headers:e}).then(function(e){var t,n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj,a=[],r={};for(var u in null==n||n.forEach(function(e){e.shows.forEach(function(t){var n=t.daysName;!r[n]&&(r[n]={teacherData:e.teacherData,shows:[]}),r[n].shows.push(t)})}),r)a.push(r[u]);console.log(a),o(a)}).catch(function(e){console.log(e)}).finally(function(){y(!1)}),s.default.get(l.BASE_URL+"/user/getTeacherStatisticsForTimeTableByWeek?teacherId="+(null==k?void 0:k.id)+"&week="+(null==_?void 0:_.weekNumber)+"&year="+h()(null==_?void 0:_.date).format("YYYY"),{headers:e}).then(function(e){var t;v(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(function(e){console.log(e),v([])})},[]),(0,r.jsxs)(m,{children:[(0,r.jsx)(w,{children:"Schedule of lessons"}),null!==f&&(0,r.jsx)(d.default,{isLoading:g,obj:_,data:n,statistics:f})]})}}}]);