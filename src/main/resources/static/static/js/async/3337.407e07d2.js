/*! For license information please see 3337.407e07d2.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["3337"],{73248:function(n,e,t){"use strict";t.r(e);var r=t("58865");t("33948"),t("57640"),t("9924");var i=t("85893"),o=t("67294"),l=t("71893"),a=t("16393"),u=t("27233"),d=t("72132"),s=t("89583"),c=t("50533"),f=t("57024"),p=t("94718"),x=t("47516"),h=t("39711"),g=t("55693");function m(){let n=(0,r._)(["\n","\n"]);return m=function(){return n},n}function v(){let n=(0,r._)(["\n  width: 100%;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-bottom-right-radius: 10px;\n  border-top-right-radius: 10px;\n  color: #ffffff;\n  border: none;\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"]);return v=function(){return n},n}function E(){let n=(0,r._)(["\n  width: 125px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  color: ",";\n  margin-left: 5px !important;\n  border: none;\n\n  &::placeholder {\n    font-size: 14px;\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return E=function(){return n},n}function b(){let n=(0,r._)(["\n  font-size: 14px;\n"]);return b=function(){return n},n}function _(){let n=(0,r._)(["\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  padding: 5px 10px !important;\n  border-bottom: 1px solid lightgray;\n  cursor: pointer;\n\n  &::before {\n\n  }\n"]);return _=function(){return n},n}function y(){let n=(0,r._)(["\n  max-height: 300px;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 45px;\n  left: 20px;\n  margin-top: 3px !important;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n  overflow: hidden;\n  overflow-y: scroll;\n  opacity: ",";\n"]);return y=function(){return n},n}function A(){let n=(0,r._)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n"]);return A=function(){return n},n}function j(){let n=(0,r._)(["\n  width: 150px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 10px;\n  background-color: #fff;\n"]);return j=function(){return n},n}function w(){let n=(0,r._)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  ","\n"]);return w=function(){return n},n}function C(){let n=(0,r._)(["\n  position: absolute;\n  top: 45px;\n  z-index: 5;\n"]);return C=function(){return n},n}function S(){let n=(0,r._)(["\n  padding: 4px 35px;\n  background-color: ",";\n  color: #fff;\n  border: none;\n  border-radius: 10px;\n  font-size: 20px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n\n  ","\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"]);return S=function(){return n},n}function k(){let n=(0,r._)(["\n  color: ",";\n  margin-left: 10px !important;\n  cursor: pointer;\n"]);return k=function(){return n},n}function T(){let n=(0,r._)(["\n  height: 22px;\n  width: 22px;\n  vertical-align: middle;\n  cursor: pointer;\n"]);return T=function(){return n},n}function R(){let n=(0,r._)(["\n  display: flex;\n  position: relative;\n"]);return R=function(){return n},n}function N(){let n=(0,r._)(["\n  width: 150px;\n  padding: 4px 15px !important;\n  background-color: #fff;\n  border-radius: 10px;\n  font-size: 20px;\n  vertical-align: middle;\n  box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n"]);return N=function(){return n},n}function D(){let n=(0,r._)(["\n  margin-left: 20px;\n  margin-right: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  ","\n"]);return D=function(){return n},n}function z(){let n=(0,r._)(["\n  width: 100%;\n  min-height: 200px;\n  padding: 5px 10px !important;\n  border: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return z=function(){return n},n}function H(){let n=(0,r._)(["\n  border-radius: 5px;\n  padding: 0 5px !important;\n  color: ",";\n  font-size: 20px;\n"]);return H=function(){return n},n}function L(){let n=(0,r._)(["\n  width: 95%;\n  height: 50%;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #E6E8EB;\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  margin: 20px auto;\n  overflow: hidden;\n  box-shadow: 0 3px 20px rgb(0 0 0 / 4%);\n"]);return L=function(){return n},n}function I(){let n=(0,r._)(["\n  width: 100%;\n"]);return I=function(){return n},n}function O(){let n=(0,r._)(["\n  padding: 1rem !important;\n"]);return O=function(){return n},n}let K=l.default.div(m(),(0,f.extrasmall)({margin:"0  0 0 auto !important"})),F=l.default.span(v(),a.mainColor),B=l.default.input(E(),a.mainColor,a.color_2),M=l.default.span(b()),U=l.default.div(_()),G=l.default.div(y(),n=>n.opacity),P=l.default.div(A()),W=l.default.div(j()),q=l.default.section(w(),(0,f.extrasmall)({flexDirection:"column"})),J=l.default.div(C()),Q=l.default.button(S(),a.mainColor,(0,f.extrasmall)({padding:"6px 45px",margin:"35px auto"})),V=l.default.label(k(),a.mainColor),X=l.default.input.attrs({type:"radio"})(T()),Y=l.default.div(R()),Z=l.default.div(N()),$=l.default.div(D(),(0,f.extrasmall)({margin:0})),nn=l.default.textarea(z()),ne=l.default.span(H(),a.mainColor),nt=l.default.div(L()),nr=l.default.form(I()),ni=l.default.div(O());e.default=()=>{let n=(0,c.useSelector)(n=>{var e;return null==n?void 0:null===(e=n.section)||void 0===e?void 0:e.section}),[e,t]=(0,o.useState)("ALL_TEACHER"),[r,l]=(0,o.useState)(""),[f,m]=(0,o.useState)(""),v=(0,h.useNavigate)(),[E,b]=(0,o.useState)([]),[_,y]=(0,o.useState)(""),[A,j]=(0,o.useState)(""),[w,C]=(0,o.useState)({messageBody:_,smsType:e,status:"SENDING",userId:A});(0,o.useEffect)(()=>{if(r.length<3)b([]);else{let n=localStorage.getItem(a.TOKEN),e={Authorization:a.TokenType+n,"Access-Control-Allow-Origin":"*"};u.default.get(a.BASE_URL+a.DEKAN.GET_USER_SEARCHING_FOR_DEKAN+r,{headers:e}).then(n=>{var e;(null===(e=n.data)||void 0===e?void 0:e.length)!==0?b(()=>n.data):b([])}).catch(n=>{})}},[r]),(0,o.useEffect)(()=>{C(n=>({...n,messageBody:_}))},[_]),(0,o.useEffect)(()=>{C(n=>({...n,smsType:e}))},[e]),(0,o.useEffect)(()=>{C(n=>({...n,userId:A}))},[A]);let S=n=>{switch(n.preventDefault(),e){case"ALL_TEACHER":j(null),""===_?alert("Error, empty message of sms..."):k();break;case"TEACHER":""!==A&&""!==_?k():alert("Error, empty message of sms or do not choose teacher...")}},k=()=>{let n=localStorage.getItem(a.TOKEN),e={Authorization:a.TokenType+n,"Access-Control-Allow-Origin":"*"};u.default.post(a.BASE_URL+a.DEKAN.SMS_CREATE,w,{headers:e}).then(n=>{200===n.status&&d.toast.success("Sending SMS successfully!")}).catch(n=>{d.toast.warning("Error...")})};return(0,i.jsxs)(ni,{children:[(0,i.jsxs)(g.default,{sx:{display:"flex",justifyContent:"space-between",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[(0,i.jsxs)(ne,{children:["Message: ","TEACHER"===e?e+" "+f:e]}),(0,i.jsx)(p.default,{component:K,onClick:()=>v("smsHistory"),variant:"contained",endIcon:(0,i.jsx)(x.BiMailSend,{size:25}),children:"message history"})]}),(0,i.jsxs)(nr,{onSubmit:n=>S(n),children:[(0,i.jsx)(nt,{children:(0,i.jsx)(nn,{name:_,value:_,onChange:n=>y(n.target.value)})}),(0,i.jsxs)(q,{children:[(0,i.jsxs)($,{children:[(0,i.jsxs)(Z,{children:[(0,i.jsx)(X,{id:"all",name:"type",checked:"ALL_TEACHER"===e,onChange:()=>t(()=>"ALL_TEACHER")}),(0,i.jsx)(V,{htmlFor:"all",children:"All"})]}),(0,i.jsxs)(Y,{children:[(0,i.jsxs)(Z,{children:[(0,i.jsx)(X,{id:"teacher",name:"type",onChange:()=>t(()=>"TEACHER")}),(0,i.jsx)(V,{htmlFor:"teacher",children:"Teacher"})]}),(0,i.jsx)(J,{children:"TEACHER"===e&&(0,i.jsxs)(P,{children:[(0,i.jsxs)(W,{children:[(0,i.jsx)(B,{value:r,onChange:n=>l(n.target.value),placeholder:"UserID or Passport"}),(0,i.jsx)(F,{onClick:()=>{if(""!==r&&r.length>2){let e=localStorage.getItem(a.TOKEN),t={Authorization:a.TokenType+e,"Access-Control-Allow-Origin":"*"};u.default.get(a.BASE_URL+a.KAFEDRA.GET_TEACHERS_FOR_SEND_SMS+"?search="+r+"&kafedraId="+(null==n?void 0:n.id),{headers:t}).then(n=>{var e;(null===(e=n.data)||void 0===e?void 0:e.length)!==0?b(()=>n.data):(m(""),alert("\u26A0\uFE0F Not fount user!...\uD83D\uDE14"))}).catch(n=>{})}else alert("Enter search param")},children:(0,i.jsx)(s.FaSearch,{})})]}),(0,i.jsx)(G,{opacity:E.length>0?1:0,style:{display:"block",position:"absolute",top:"35px"},children:null==E?void 0:E.map(n=>(0,i.jsx)(U,{onClick:e=>{e.preventDefault(),j(null==n?void 0:n.id),m(null==n?void 0:n.fullName),l("")},children:(0,i.jsx)(M,{children:null==n?void 0:n.fullName})},null==n?void 0:n.id))})]})})]})]}),(0,i.jsx)(Q,{onClick:()=>void 0,children:"Send"})]})]})]})}}}]);