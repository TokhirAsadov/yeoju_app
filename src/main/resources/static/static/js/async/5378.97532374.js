/*! For license information please see 5378.97532374.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5378"],{517394:function(e,t,n){"use strict";n.r(t);var i=n("258865");n("333948"),n("857640"),n("409924");var a=n("785893"),r=n("667294"),l=n("671893"),d=n("316393"),o=n("727233"),u=n("553432"),s=n("816356"),c=n("639711"),f=n("194718"),h=n("60155"),m=n("455693");function p(){let e=(0,i._)(["\n  width: 100%;\n  background-color: #fff;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return p=function(){return e},e}function S(){let e=(0,i._)(["\n  width: 100%;\n  background-color: ",";\n  padding: 5px 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 5px!important;\n  border-radius: 10px;\n \n"]);return S=function(){return e},e}function b(){let e=(0,i._)(["\n  color: ",";\n"]);return b=function(){return e},e}function x(){let e=(0,i._)(["\n  display: flex;\n  padding: 1rem!important;\n  flex-direction: column;\n  height: calc(100hv -",");\n"]);return x=function(){return e},e}let w=l.default.div(p()),g=l.default.div(S(),e=>"SEND"===e.type?"lime":"SENDING"===e.type?"yellow":"red"),y=l.default.h3(b(),d.mainColor),N=l.default.div(x(),d.navbarHeight);t.default=()=>{let[e,t]=(0,r.useState)(!0),n=(0,c.useNavigate)(),i=[{field:"id",headerName:"ID",width:40,editable:!1},{field:"createdAt",headerName:"Created Time",type:"dateTime",width:200,editable:!1},{field:"smsType",headerName:"TYPE OF SMS",width:200,editable:!1},{field:"messageBody",headerName:"MESSAGE",width:400,editable:!1},{field:"status",headerName:"STATUS",width:100,editable:!1,renderCell:e=>(0,a.jsx)(g,{type:e.row.status,children:e.row.status})},{field:"course",headerName:"COURSE",width:40,editable:!1},{field:"groupName",headerName:"GROUP NAME",width:200,editable:!1},{field:"user",headerName:"USER",width:400,editable:!1}],[l,p]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=localStorage.getItem(d.TOKEN),t={Authorization:d.TokenType+e,"Access-Control-Allow-Origin":"*"};o.default.get(d.BASE_URL+d.KAFEDRA.GET_MESSAGES_HISTORY,{headers:t}).then(e=>{e.data.map(async e=>{var t;return e.user=null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.fullName,null!==e.createdAt&&(e.createdAt=new Date(e.createdAt)),e}),p(e.data)}).catch(e=>{})},[]),(0,a.jsxs)(N,{children:[(0,a.jsxs)(m.default,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)(y,{children:"History of SMS"}),(0,a.jsx)(f.default,{variant:"outlined",startIcon:(0,a.jsx)(h.IoArrowBackOutline,{}),onClick:()=>n(-1),children:"back"})]}),(0,a.jsx)(w,{children:e?(0,a.jsx)(s.DataGrid,{checkboxSelection:!0,style:{width:"900px",minHeight:"300px!important"},columns:i,rows:l,components:{Toolbar:s.GridToolbar},autoHeight:!0,pageSize:5,initialState:{...l.initialState,columns:{columnVisibilityModel:{id:!1,user:!1,groupName:!1,course:!1}}}}):(0,a.jsx)(u.default,{})})]})}}}]);