/*! For license information please see 3817.94574623.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["3817"],{94037:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nd}});var i=t("38956"),r=t("58865");t("57327"),t("88449"),t("19894"),t("2490"),t("41539"),t("21249"),t("57640"),t("9924");var o=t("85893"),l=t("67294"),a=t("71893"),d=t("28685"),s=t("89583"),u=t("97367"),c=t("55693"),f=t("79352"),x=t("54635"),h=t("4590"),p=t("23228"),m=t("90650"),v=t("63750");function g(){var n=(0,r._)(["\n    width: 20px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    overflow: hidden;\n"]);return g=function(){return n},n}function j(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n"]);return j=function(){return n},n}function y(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n    flex-direction: column;\n"]);return y=function(){return n},n}function b(){var n=(0,r._)(["\n    flex: 1;\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n"]);return b=function(){return n},n}function w(){var n=(0,r._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return w=function(){return n},n}function _(){var n=(0,r._)(["\n    width: 40px;\n    height: 40px;\n    background-color: #fff;\n    border-radius: 0.5rem;\n    align-self: end;\n  \n    border: none;\n"]);return _=function(){return n},n}function k(){var n=(0,r._)(["\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return k=function(){return n},n}function C(){var n=(0,r._)(["\n    flex: 1;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 32px;\n    border-radius: 50%;\n    overflow: hidden;\n\n"]);return C=function(){return n},n}function S(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n"]);return S=function(){return n},n}function A(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n\n"]);return A=function(){return n},n}function N(){var n=(0,r._)(["\n    min-width: 500px;\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    min-height: 480px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n"]);return N=function(){return n},n}function R(){var n=(0,r._)(["\n    flex: ",";\n"]);return R=function(){return n},n}function H(){var n=(0,r._)(["\n    width: 100%;\n    display: flex;\n    gap: 20px;\n"]);return H=function(){return n},n}function z(){var n=(0,r._)(["\n    width: 200px;\n    height: 200px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 100px;\n    border-radius: 50%;\n\n"]);return z=function(){return n},n}function U(){var n=(0,r._)(["\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return U=function(){return n},n}function I(){var n=(0,r._)(["\n    width: 80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 15px 20px !important;\n    border: none;\n    border-radius: 1rem;\n    background-color: transparent;\n    color: ",";\n    transition: 0.3s background-color;\n\n    &:hover {\n        background-color: #fff;\n    }\n\n"]);return I=function(){return n},n}function F(){var n=(0,r._)(["\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return F=function(){return n},n}function E(){var n=(0,r._)(["\n\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    min-height: 480px;\n"]);return E=function(){return n},n}function T(){var n=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    min-height: 480px;\n"]);return T=function(){return n},n}function D(){var n=(0,r._)(["\n    overflow: scroll;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    gap: 20px;\n    grid-template-columns: 20rem auto 16rem;\n"]);return D=function(){return n},n}var L={width:"100%",maxHeight:380},M={width:"100%",maxHeight:170},B=a.default.div(g()),O=(0,a.default)(m.motion.div)(j()),Y=(0,a.default)(m.motion.div)(y()),P=a.default.div(b()),q=(0,a.default)(m.motion.button)(w(),d.mainColor),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",minHeight:500,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:2},W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"89vw",minHeight:400,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},G=a.default.button(_()),J=a.default.div(k()),Q=a.default.div(C()),V=(0,a.default)(m.motion.div)(S()),X=(0,a.default)(m.motion.div)(A()),Z=(0,a.default)(m.motion.div)(N()),$=a.default.div(R(),function(n){return n.flex}),nn=a.default.div(H()),ne=a.default.div(z()),nt=a.default.div(U()),ni=a.default.button(I(),d.mainColor),nr=a.default.div(F()),no=(0,a.default)(m.motion.div)(E()),nl=(0,a.default)(m.motion.div)(T()),na=(0,a.default)(m.motion.div)(D()),nd=function(n){var e,t,r,a,g=n.colName,j=n.kafedraMudiri,y=n.come,b=n.noCome,w=n.all,_=n.facultyName,k=n.kafedraId,C=n.isTeacherUrl,S=(0,i._)((0,l.useState)([]),2),A=S[0],N=S[1];(0,l.useEffect)(function(){N(w)},[]);var R=(0,i._)((0,l.useState)(""),2),H=R[0],z=R[1],U=(0,i._)((0,l.useState)(""),2),I=U[0],F=U[1],E=(0,i._)((0,l.useState)(""),2),T=E[0],D=E[1],nd=(0,i._)((0,l.useState)(!1),2),ns=nd[0],nu=nd[1],nc=(0,i._)((0,l.useState)(!1),2),nf=nc[0],nx=nc[1],nh=function(){nu(!1)},np=function(){nx(!1)},nm={hidden:{scale:0},show:{scale:1}},nv={visible:function(n){return{scale:1,transition:{delay:.1*n}}},hidden:{scale:0}};return(0,o.jsxs)(na,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.8}}},initial:"hidden",animate:"show",children:[(0,o.jsxs)(no,{variants:nm,children:[(0,o.jsx)(nt,{children:j?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ne,{children:(null==j?void 0:j.photos)?(0,o.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==j?void 0:null===(e=j.photos)||void 0===e?void 0:e.id),width:"200px",height:"200px",style:{borderRadius:"50%"},alt:""}):(0,o.jsx)(s.FaUserAlt,{})}),(0,o.jsxs)(nn,{children:[(0,o.jsx)($,{flex:1,children:"Name:"}),(0,o.jsx)($,{flex:2,children:null==j?void 0:j.fullName})]}),(0,o.jsxs)(nn,{children:[(0,o.jsx)($,{flex:1,children:"Email:"}),(0,o.jsx)($,{flex:2,children:null==j?void 0:j.email})]}),(0,o.jsxs)(nn,{children:[(0,o.jsx)($,{flex:1,children:"Tel:"}),(0,o.jsx)($,{flex:2,children:(null==j?void 0:null===(t=j.phones)||void 0===t?void 0:t.length)!==0?null==j?void 0:null===(a=j.phones)||void 0===a?void 0:null===(r=a.filter(function(n){return"WORK_PHONE"===n.phoneType})[0])||void 0===r?void 0:r.phoneNumber:"-"})]})]}):(0,o.jsx)(o.Fragment,{children:"\u26A0\uFE0F"})}),(0,o.jsxs)(nr,{children:[(0,o.jsx)(ni,{onClick:function(){nx(!0)},children:"Open Month Modal"}),(0,o.jsx)(m.AnimatePresence,{children:nf&&(0,o.jsx)(u.default,{open:nf,onClose:np,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:m.motion.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,o.jsxs)(c.default,{sx:K,children:[(0,o.jsx)(q,{onClick:np,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,o.jsx)(f.RiCloseLine,{})}),(0,o.jsx)(p.default,{colName:g,isTeacher:C,date:new Date,userName:_,kafedraId:k,url:C?"/kafera-mudiri/getStatisticssForRektor?kafedraId=":"/staff/getStatisticsForRektor?sectionId="})]})})})]})]}),(0,o.jsxs)(Z,{variants:nm,children:[(0,o.jsxs)("h5",{style:{fontSize:"20px",textAlign:"center",color:"white"},children:[C?"O'qituvchilar":"Hodimlar"," "," ro'yxati"]}),(0,o.jsx)(h.default,{style:L,children:(0,o.jsxs)(X,{variants:{hidden:{opacity:0,scale:.75},show:{opacity:1,scale:1,rotate:0,transition:{staggerChildren:.1,delayChildren:.3}}},initial:"hidden",animate:"show",children:[null==A?void 0:A.map(function(n,e){var t;return(0,o.jsxs)(V,{custom:e,animate:"visible",variants:nv,initial:"hidden",children:[(0,o.jsx)(Q,{children:(null==n?void 0:n.photo)?(0,o.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(t=n.photo)||void 0===t?void 0:t.id),style:{borderRadius:"50%"},width:"40px",height:"40px",alt:""}):(0,o.jsx)(s.FaUserAlt,{})}),(0,o.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"12px",lineHeight:"40px"},children:n.fullName}),(0,o.jsx)(J,{children:(0,o.jsxs)(G,{onClick:function(){var e,t,i,r;return t=n.fullName,i=n.id,r=null==n?void 0:null===(e=n.photo)||void 0===e?void 0:e.id,z(t),D(r),F(i),nu(!0)},children:[null==n?void 0:n.countTouch,(0,o.jsx)(v.BsCalendar2Date,{size:19,color:d.mainColor})]})})]},n.id)}),(0,o.jsx)(u.default,{open:ns,onClose:nh,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,o.jsxs)(c.default,{sx:W,children:[(0,o.jsx)(q,{onClick:nh,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,o.jsx)(f.RiCloseLine,{})}),(0,o.jsx)(x.default,{userName:H,userId:I,date:new Date,photo:T})]})})]})})]}),(0,o.jsxs)(nl,{variants:nm,children:[(0,o.jsxs)(P,{children:[(0,o.jsx)("h5",{style:{fontSize:"14px",textAlign:"center",color:"white"},children:"Ishga kelganlar"}),(0,o.jsx)(h.default,{style:M,children:(0,o.jsxs)(Y,{children:[null==y?void 0:y.map(function(n,e){var t;return(0,o.jsxs)(O,{custom:e,animate:"visible",variants:nv,initial:"hidden",children:[(0,o.jsx)(B,{children:(null==n?void 0:n.photo)?(0,o.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(t=n.photo)||void 0===t?void 0:t.id),style:{borderRadius:"50%"},width:"20px",height:"20px",alt:""}):(0,o.jsx)(s.FaUserAlt,{})}),(0,o.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"10px",lineHeight:"20px"},children:n.fullName})]},n.id)}),(null==y?void 0:y.length)===0&&(0,o.jsx)("h1",{style:{textAlign:"center",fontSize:"14px"},children:"-"})]})})]}),(0,o.jsxs)(P,{children:[(0,o.jsx)("h5",{style:{fontSize:"14px",textAlign:"center",color:"red"},children:"Ishga kelmaganlar"}),(0,o.jsx)(h.default,{style:M,children:(0,o.jsx)(Y,{children:null==b?void 0:b.map(function(n,e){var t;return(0,o.jsxs)(O,{custom:e,animate:"visible",variants:nv,initial:"hidden",children:[(0,o.jsx)(B,{children:(null==n?void 0:n.photo)?(0,o.jsx)("img",{src:d.BASE_URL+"/attachment/download/"+(null==n?void 0:null===(t=n.photo)||void 0===t?void 0:t.id),width:"20px",height:"20px",alt:""}):(0,o.jsx)(s.FaUserAlt,{})}),(0,o.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"10px",lineHeight:"20px"},children:n.fullName})]},n.id)})})})]})]})]})}},12421:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return u}});var i=t("37098");t("2707"),t("92222"),t("21249"),t("57640"),t("9924");var r=t("85893"),o=t("67294"),l=t("30381"),a=t.n(l),d=t("37595"),s=t("94718"),u=(0,o.memo)(function(n){var e=n.dataToExcel,t=n.direction,o=function(n){if(!n||0===n.length){console.error("No data to export.");return}var e=n.sort(function(n,e){return n.name.toUpperCase().localeCompare(e.name.toUpperCase())}),r=[["\u2116","Direction","All Staff","Staff Came","Percent","".concat(a()().format("DD.MM.YYYY HH:mm"))]].concat((0,i._)(e.map(function(n,e){var t,i,r,o,l,a;return[e+1,n.name,(null===(t=n.data)||void 0===t?void 0:t.allCount)||0,(null===(i=n.data)||void 0===i?void 0:i.comeCount)||0,(l=null===(r=n.data)||void 0===r?void 0:r.allCount,a=null===(o=n.data)||void 0===o?void 0:o.comeCount,l&&a?Math.ceil(100*a/l):0)]}))),o=d.utils.book_new(),l=d.utils.aoa_to_sheet(r);d.utils.book_append_sheet(o,l,"data");d.writeFile(o,"".concat(t,"_data.xlsx"))};return(0,r.jsx)(s.default,{variant:"contained",onClick:function(){return o(e)},children:"export to excel"})})}}]);