/*! For license information please see 1798.33b724bd.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["1798"],{67707:function(e,n,l){"use strict";l.r(n);var t=l("58865");l("33948"),l("57640"),l("9924"),l("31672"),l("59461"),l("2490"),l("68216"),l("79433"),l("88449"),l("19894");var i=l("85893"),o=l("67294"),a=l("71893"),d=l("57024"),r=l("16393"),u=l("53432"),s=l("16356"),c=l("27233"),h=l("86893"),m=l("63750"),p=l("97367"),v=l("55693"),f=l("79352"),x=l("52861"),g=l("89583"),b=l("90650"),j=l("72132"),C=l("94718"),w=l("7104");function y(){let e=(0,t._)(["\n    height: 155px;\n    padding-top: 10px;\n    display: grid;\n    overflow-y: scroll;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 30px;\n    ","\n    ","\n    ","\n"]);return y=function(){return e},e}function k(){let e=(0,t._)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"]);return k=function(){return e},e}function E(){let e=(0,t._)(["\n    ","\n    ","\n    ","\n"]);return E=function(){return e},e}function S(){let e=(0,t._)(["\n    width: 30px;\n    height: 30px;\n    background-color: #fff;\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid ",";\n    border-radius: 0.5rem;\n    color: ",";\n    padding: 5px !important;\n\n    &:hover {\n        transform: scale(1.1);\n    }\n\n"]);return S=function(){return e},e}function R(){let e=(0,t._)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n    margin: 5px !important;\n"]);return R=function(){return e},e}function U(){let e=(0,t._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    padding: 1rem;\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return U=function(){return e},e}let _=a.default.div(y(),(0,d.medium)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,d.small)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,d.extrasmall)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),z=(0,a.default)(b.motion.button)(k(),r.mainColor),O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},B=a.default.div(E(),(0,d.medium)({width:"97vw !important",height:"70vh !important"}),(0,d.small)({width:"97vw !important",height:"70vh  !important"}),(0,d.extrasmall)({width:"97vw !important",height:"70vh  !important"})),T=a.default.button(S(),e=>e.color,e=>e.color),N=a.default.div(R()),H=a.default.div(U());n.default=()=>{let{headers:e}=(0,r.getHeaders)(),[n,l]=(0,o.useState)(!1),[t,a]=(0,o.useState)([]),[d,b]=(0,o.useState)(!1),[y,k]=(0,o.useState)({id:null,code:null,nameEn:null,nameRu:null,nameUz:null}),E=[{field:"count",headerName:"\u2116",width:40,align:"center",editable:!1},{field:"code",headerName:"Code",width:60,align:"center",editable:!1},{field:"nameEn",headerName:"Name English",flex:1,minWidth:250,editable:!1},{field:"nameRu",headerName:"\u0420\u0443\u0441\u0441\u043A\u043E\u0435 \u0438\u043C\u044F",flex:1,minWidth:250,editable:!1},{field:"nameUz",headerName:"O`zbekcha nomi",flex:1,minWidth:250,editable:!1},{field:"service",headerName:"Service",flex:.3,minWidth:100,editable:!1,renderCell:e=>(0,i.jsxs)(N,{children:[(0,i.jsx)(T,{color:r.mainColor,onClick:()=>{var n;return L(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.id)},children:(0,i.jsx)(h.FiEdit,{})}),(0,i.jsx)(T,{color:"red",onClick:()=>{var n,l;return P(null==e?void 0:null===(n=e.row)||void 0===n?void 0:n.id,null==e?void 0:null===(l=e.row)||void 0===l?void 0:l.nameEn)},children:(0,i.jsx)(m.BsTrash,{})})]})}],S=()=>{c.default.get(r.BASE_URL+"/school/findAll",{headers:e}).then(e=>{var n,t;a(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.obj)||void 0===n?void 0:n.map((e,n)=>({...e,count:n+1}))),l(!1)}).catch(e=>{})};(0,o.useEffect)(()=>{S()},[]),(0,o.useEffect)(()=>{n&&S()},[n]);let R=()=>{b(!1)},U=e=>{k(n=>({...n,[e.target.name]:e.target.value}))},L=e=>{(null==t?void 0:t.length)>0&&k(n=>({...n,...null==t?void 0:t.find(n=>(null==n?void 0:n.id)===e)})),b(!0)},A=n=>{delete n.id,Object.values(n).every(e=>null!==e&&e)?c.default.post(r.BASE_URL+"/school/save",{...n,id:null},{headers:e}).then(e=>{b(!1),S(),j.toast.success("".concat(null==n?void 0:n.name," school has been saved successfully!."))}).catch(e=>{var n,l;j.toast.error(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.message)}):j.toast.warning("Empty any field..")},D=n=>{Object.values(n).every(e=>null!==e&&e)?c.default.post(r.BASE_URL+"/school/save",n,{headers:e}).then(e=>{b(!1),S(),j.toast.success("".concat(null==n?void 0:n.name," school has been updated successfully!."))}).catch(e=>{var n,l;j.toast.error(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.message)}):j.toast.warning("Empty any field..")},P=(n,l)=>{k({id:null,code:null,nameEn:null,nameRu:null,nameUz:null}),window.confirm("Do you want to delete ".concat(l,"?"))&&(c.default.delete("".concat(r.BASE_URL,"/school/deleteById/").concat(n),{headers:e}).then(e=>{var l;a(null==t?void 0:t.filter(e=>(null==e?void 0:e.id)!==n)),j.toast.success(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}).catch(e=>{}),j.toast.success("Deleted successfully",{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))};return(0,i.jsxs)(H,{children:[(0,i.jsx)(v.default,{display:"flex",justifyContent:"end",children:(0,i.jsx)(C.default,{sx:{width:"220px"},variant:"contained",onClick:()=>{b(!0),k({id:null,code:null,nameEn:null,nameRu:null,nameUz:null})},children:"Create School"})}),n&&(null==t?void 0:t.length)>0?(0,i.jsx)(u.default,{}):(0,i.jsx)(w.Card,{children:(0,i.jsx)(w.CardContent,{children:(0,i.jsx)(s.DataGrid,{columns:E,rows:t,components:{Toolbar:s.GridToolbar},rowsPerPageOptions:[10,20,30,40,50,100],autoHeight:!0,initialState:{pagination:{pageSize:10}}})})}),(0,i.jsx)(p.default,{open:d,onClose:R,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,i.jsxs)(v.default,{sx:O,component:B,children:[(0,i.jsx)(z,{onClick:R,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,i.jsx)(f.RiCloseLine,{})}),(0,i.jsx)("h3",{style:{color:"".concat(r.mainColor)},children:(null==y?void 0:y.id)!==null&&(null==y?void 0:y.id)?"Update school":"Create new school"}),(0,i.jsxs)(_,{children:[(0,i.jsx)(x.default,{id:"outlined-basic",label:"English name",variant:"outlined",value:null==y?void 0:y.nameEn,name:"nameEn",onChange:U}),(0,i.jsx)(x.default,{id:"outlined-basic",label:"\u0420\u0443\u0441\u0441\u043A\u043E\u0435 \u0438\u043C\u044F",variant:"outlined",value:null==y?void 0:y.nameRu,name:"nameRu",onChange:U}),(0,i.jsx)(x.default,{id:"outlined-basic",label:"O`zbekcha nomi",variant:"outlined",value:null==y?void 0:y.nameUz,name:"nameUz",onChange:U}),(0,i.jsx)(x.default,{label:"Code",variant:"outlined",id:"outlined-number",type:"number",InputLabelProps:{shrink:!0},value:null==y?void 0:y.code,name:"code",onChange:U})]}),(0,i.jsx)(v.default,{sx:{display:"flex",justifyContent:"end"},children:(0,i.jsx)(C.default,{variant:"contained",endIcon:(null==y?void 0:y.id)!==null&&(null==y?void 0:y.id)?(0,i.jsx)(h.FiEdit,{}):(0,i.jsx)(g.FaSave,{}),onClick:()=>(null==y?void 0:y.id)!==null&&(null==y?void 0:y.id)?D(y):A(y),children:(null==y?void 0:y.id)!==null&&(null==y?void 0:y.id)?"Update":" Save"})})]})})]})}}}]);