/*! For license information please see 2147.f0459eee.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2147"],{66360:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return w}});var t=l("38956"),i=l("58865"),r=l("37098");l("23123"),l("74916"),l("47042"),l("21249"),l("57640"),l("9924"),l("57327"),l("88449"),l("19894"),l("2490"),l("41539"),l("91058"),l("57658"),l("91038"),l("78783"),l("85827"),l("25387"),l("72608"),l("26699"),l("32023"),l("92222");var d=l("85893"),o=l("67294"),a=l("71893"),u=l("30381"),s=l.n(u),c=l("55693"),h=l("94718"),f=l("89583"),v=l("68621"),x=l("50533"),p=l("7701"),j=l("90199"),m=l("32326");function y(){var e=(0,i._)(["\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        font-size: 10px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #000000;\n            padding: 6px;\n            font-size: 12px;\n            text-align: center;\n        }\n    }\n\n    .td_item {\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.25);\n            cursor: pointer;\n        }\n    }\n\n"]);return y=function(){return e},e}var b=(0,o.memo)(function(){var e,n,l,i,a,u=function(e){var n=e.split(" ").slice(0,3);return n.length>1?n.map(function(e,n){if(!(n>0))return e;if(e)return"S"==e[0]&&"H"==e[1]||"C"==e[0]&&"H"==e[1]?e[0]+e[1]+".":e[0]+"."}).filter(Boolean).join(" "):e},y=(0,x.useSelector)(function(e){return e.tableData}),b=y.data,w=y.isLoading,D=y.isError,V=(0,t._)((0,o.useState)({personId:"",day:"",hourValue:""}),2),S=V[0],_=V[1],C=(0,t._)((0,o.useState)(!1),2),k=C[0],I=C[1],A=function(e){for(var n=s()(e),l=n.month(),t=n.year(),i=n.endOf("month").format("D"),d=[],o=s()({year:t,month:l}),a=null,u=0;u<o.daysInMonth();u++){var c=o.clone().startOf("isoWeek").add(u,"days");if(c.month()===l&&7===c.isoWeekday()){a=parseInt(c.format("D"));break}}return null!==a&&d.push.apply(d,(0,r._)(Array.from({length:Math.ceil((i-a+1)/7)},function(e,n){return a+7*n}))),d}(null===(e=b[0])||void 0===e?void 0:e.date),O=function(e){var n=e.filter(function(e){return"number"==typeof(null==e?void 0:e.hourValue)&&(null==e?void 0:e.hourValue)!==0}),l=null==n?void 0:n.reduce(function(e,n){return{hourValue:((null==e?void 0:e.hourValue)||0)+(null==n?void 0:n.hourValue)}},{hourValue:0});return(null==l?void 0:l.hourValue)||0},T=function(e,n){!A.includes(n.day)&&(I(!0),_({personId:e.id,day:n.day,hourValue:n.hourValue}))};return(0,d.jsxs)(g,{children:[w?(0,d.jsx)(c.default,{sx:{display:"flex",justifyContent:"center"},children:(0,d.jsx)(p.default,{})}):D?(0,d.jsx)("h4",{children:"error"}):b.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("table",{children:[(0,d.jsxs)("thead",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,d.jsx)("th",{rowSpan:2,children:"F.I.O"}),(0,d.jsx)("th",{rowSpan:2,children:"Position"}),(0,d.jsx)("th",{colSpan:null===(l=b[0])||void 0===l?void 0:null===(n=l.monthly)||void 0===n?void 0:n.length,children:"Attendance and absence notes by day of the month"}),(0,d.jsx)("th",{colSpan:2,children:"Worked for the month"})]}),(0,d.jsxs)("tr",{children:[null===(a=b[0])||void 0===a?void 0:null===(i=a.monthly)||void 0===i?void 0:i.map(function(e){return(0,d.jsx)("td",{style:{minWidth:25},children:null==e?void 0:e.day},null==e?void 0:e.day)}),(0,d.jsx)("td",{children:"days"}),(0,d.jsx)("td",{children:"hours"})]})]}),(0,d.jsx)("tbody",{children:null==b?void 0:b.map(function(e,n){var l,t,i,r,o;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:n+1}),(0,d.jsx)("td",{style:{textAlign:"start"},children:u(null==e?void 0:null===(l=e.fullName)||void 0===l?void 0:l.toUpperCase())}),(0,d.jsxs)("td",{children:[null==e?void 0:null===(t=e.userPosition)||void 0===t?void 0:t.label," ",(null==e?void 0:e.rate)?"(".concat(null==e?void 0:e.rate,")"):""]}),null==e?void 0:null===(i=e.monthly)||void 0===i?void 0:i.map(function(n){return(0,d.jsx)("td",{className:"td_item",onClick:function(){return T(e,n)},children:null==n?void 0:n.hourValue},null==n?void 0:n.day)}),(0,d.jsx)("td",{children:null==e?void 0:null===(o=e.monthly)||void 0===o?void 0:null===(r=o.filter(function(e){return"number"==typeof(null==e?void 0:e.hourValue)&&(null==e?void 0:e.hourValue)!==0}))||void 0===r?void 0:r.length}),(0,d.jsx)("td",{children:O(null==e?void 0:e.monthly)})]},n)})})]}),(0,d.jsxs)(c.default,{sx:{mt:"1.5rem",display:"flex",justifyContent:"end",gap:"1.5rem"},children:[(0,d.jsx)(h.default,{variant:"contained",endIcon:(0,d.jsx)(f.FaSave,{}),onClick:function(){console.log(b)},children:"save"}),(0,d.jsx)(v.default,{data:b})]})]}):(0,d.jsx)(j.default,{w:200,h:180}),(0,d.jsx)(m.default,{selectedDay:S,open:k,handleClose:function(){return I(!1)}})]})}),g=a.default.div(y()),w=b},32326:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return p}});var t=l("7409"),i=l("99282"),r=l("38956");l("73210"),l("41539"),l("39714"),l("82772"),l("64211"),l("41874"),l("2490"),l("57658"),l("92222");var d=l("85893"),o=l("67294"),a=l("55693"),u=l("7104"),s=l("94718"),c=l("44118"),h=l("52861"),f=l("50533"),v=l("15254"),x=(0,c.createFilterOptions)(),p=(0,o.memo)(function(e){var n=e.open,l=e.handleClose,p=e.selectedDay,j=(0,r._)((0,o.useState)(""),2),m=j[0],y=j[1],b=(0,f.useDispatch)();return(0,d.jsxs)(u.Dialog,{disableEscapeKeyDown:!0,open:n,onClose:l,children:[(0,d.jsx)(u.DialogTitle,{children:"Select day type"}),(0,d.jsx)(u.DialogContent,{children:(0,d.jsx)(a.default,{component:"form",sx:{my:2},children:(0,d.jsx)(c.default,{value:m,onChange:function(e,n){n&&n.inputValue?y(n.inputValue):y(n.toString().substring(0,n.indexOf("-")))},filterOptions:function(e,n){var l=x(e,n),t=n.inputValue,i=e.some(function(e){return t===e||e.inputValue===t});return""!==t&&!i&&l.push({inputValue:t,title:'Add "'.concat(t,'"')}),l},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-dsgdemo",options:["H-Holiday","SL-Sick leave","DO-Day off","V-Vacation"],getOptionLabel:function(e){return"string"==typeof e?e:e.title},renderOption:function(e,n){return(0,d.jsx)("li",(0,i._)((0,t._)({},e),{children:n.title||n}))},sx:{width:300},freeSolo:!0,renderInput:function(e){return(0,d.jsx)(h.default,(0,i._)((0,t._)({},e),{label:"Type"}))}})})}),(0,d.jsxs)(u.DialogActions,{children:[(0,d.jsx)(s.default,{onClick:function(){l(),y("")},children:"Cancel"}),(0,d.jsx)(s.default,{onClick:function(){console.log(m),""!==m.trim()&&(b((0,v.changeDayValue)((0,i._)((0,t._)({},p),{hourValue:m}))),l(),y(""))},children:"Ok"})]})]})})},48354:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return T}});var t=l("7409"),i=l("99282"),r=l("38956"),d=l("58865");l("73210"),l("21249"),l("57640"),l("9924"),l("82772");var o=l("85893"),a=l("67294"),u=l("71893"),s=l("7104"),c=l("42154"),h=l("32392"),f=l("44025"),v=l("61261"),x=l("55693"),p=l("96484"),j=l("15352"),m=l("73871"),y=l("1190"),b=l("96413"),g=l("52861"),w=l("66360"),D=l("30381"),V=l.n(D),S=l("27233"),_=l("28685"),C=l("50533"),k=l("47971");function I(){var e=(0,d._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return I=function(){return e},e}var A={PaperProps:{style:{maxHeight:368,width:300}}},O=u.default.div(I()),T=function(){var e=(0,_.getHeaders)().headers,n=(0,C.useDispatch)(),l=(0,r._)((0,a.useState)([]),2),d=l[0],u=l[1],D=(0,r._)((0,a.useState)([]),2),I=D[0],T=D[1],F=(0,r._)((0,a.useState)({department:"",personData:[],selectedDate:V()()}),2),H=F[0],N=F[1],P=function(){S.default.get(_.BASE_URL+"/kafedra/getKafedrasForSelect",{headers:e}).then(function(e){var n;u(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e),u([])})},E=function(n){n&&(null==n?void 0:n.trim())!==""&&S.default.get(_.BASE_URL+"/kafedra/getTeachersForTableByKafedraId?kafedraId="+n,{headers:e}).then(function(e){var n;T(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.obj)}).catch(function(e){console.log(e),T([])})};return(0,a.useEffect)(function(){P()},[]),(0,a.useEffect)(function(){E(null==H?void 0:H.department)},[H.department]),(0,a.useEffect)(function(){H.personData.length>0&&n((0,k.getTableDataTeachers)({valueData:H,staffData:I}))},[H]),(0,o.jsxs)(O,{children:[(0,o.jsx)(x.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,o.jsxs)(x.default,{sx:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[(0,o.jsxs)(c.default,{sx:{width:300},children:[(0,o.jsx)(h.default,{id:"demo-simple-select-label",children:"Department"}),(0,o.jsxs)(f.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:H.department,label:"Department",onChange:function(e){N(function(n){return(0,i._)((0,t._)({},n),{department:e.target.value})}),N(function(e){return(0,i._)((0,t._)({},e),{personData:[]})})},children:[(0,o.jsx)(v.default,{value:"",children:(0,o.jsx)("em",{children:"None"})}),null==d?void 0:d.map(function(e){return(0,o.jsx)(v.default,{value:null==e?void 0:e.value,children:null==e?void 0:e.label},null==e?void 0:e.value)})]})]}),(0,o.jsxs)(c.default,{sx:{width:300},children:[(0,o.jsx)(h.default,{id:"demo-multiple-checkbox-label",children:"Choose teachers"}),(0,o.jsx)(f.default,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:H.personData,onChange:function(e){var n=e.target.value;N(function(e){return(0,i._)((0,t._)({},e),{personData:n})})},input:(0,o.jsx)(p.default,{label:"Choose teachers"}),renderValue:function(e){return e.join(", ")},MenuProps:A,children:I.map(function(e){return(0,o.jsxs)(v.default,{value:null==e?void 0:e.label,children:[(0,o.jsx)(j.default,{checked:H.personData.indexOf(null==e?void 0:e.label)>-1}),(0,o.jsx)(s.ListItemText,{primary:null==e?void 0:e.label})]},null==e?void 0:e.value)})})]}),(0,o.jsx)(m.LocalizationProvider,{dateAdapter:b.AdapterMoment,adapterLocale:"en",children:(0,o.jsx)(y.DatePicker,{inputFormat:"MMMM YYYY",value:H.selectedDate,label:"month",views:["month"],openTo:"month",onChange:function(e){N(function(n){return(0,i._)((0,t._)({},n),{selectedDate:e})})},renderInput:function(e){return(0,o.jsx)(g.default,(0,i._)((0,t._)({},e),{variant:"outlined",label:"Choose month"}))},disableMaskedInput:!0})})]})}),(0,o.jsx)(s.Card,{sx:{mt:"1.5rem"},children:(0,o.jsx)(s.CardContent,{children:(0,o.jsx)(w.default,{})})})]})}},68621:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return p}});var t=l("76150"),i=l("38956"),r=l("58865"),d=l("18965");l("23123"),l("74916"),l("47042"),l("21249"),l("57640"),l("9924"),l("57327"),l("88449"),l("19894"),l("2490"),l("41539"),l("92222"),l("85827"),l("25387"),l("72608");var o=l("85893"),a=l("67294"),u=l("49492"),s=l("94718"),c=l("7701"),h=l("71893"),f=l("70231");function v(){var e=(0,r._)(["\n    width: 100%;\n    margin: 0 auto;\n    font-size: 10px;\n    padding: 5px;\n    color: black;\n    line-height: 1.7;\n\n\n    table {\n        font-size: 10px;\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        overflow: hidden;\n\n        table, td, th {\n            border: 1px solid #000000;\n            padding: 5px;\n            font-size: 10px;\n            text-align: center;\n        }\n    }\n"]);return v=function(){return e},e}var x=h.default.div(v()),p=(0,a.memo)(function(e){var n,l,r,h,v,p,j,m,y,b,g=e.data,w=function(e){var n=e.split(" ").slice(0,3);return n.length>1?n.map(function(e,n){if(!(n>0))return e;if(e)return"S"==e[0]&&"H"==e[1]||"C"==e[0]&&"H"==e[1]?e[0]+e[1]+".":e[0]+"."}).filter(Boolean).join(" "):e},D=(0,a.useRef)(null),V=(0,i._)((0,a.useState)(!1),2),S=V[0],_=V[1];var C=(n=(0,t._)(function(){var e,n;return(0,d._)(this,function(l){switch(l.label){case 0:return _(!0),e=D.current,n={margin:5,filename:"tabel-file".concat(new Date().getTime(),".pdf"),image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"landscape"}},[4,(0,u.default)().set(n).from(e).save()];case 1:return l.sent(),_(!1),[2]}})}),function(){return n.apply(this,arguments)}),k=function(e){var n=e.filter(function(e){return"number"==typeof(null==e?void 0:e.hourValue)&&(null==e?void 0:e.hourValue)!==0}),l=null==n?void 0:n.reduce(function(e,n){return{hourValue:((null==e?void 0:e.hourValue)||0)+(null==n?void 0:n.hourValue)}},{hourValue:0});return(null==l?void 0:l.hourValue)||0};return(0,o.jsxs)(o.Fragment,{children:[S?(0,o.jsx)(s.default,{disabled:!0,variant:"outlined",endIcon:(0,o.jsx)(c.default,{size:18}),children:"download"}):(0,o.jsx)(s.default,{variant:"contained",endIcon:(0,o.jsx)(f.FaRegFilePdf,{}),onClick:C,children:"download"}),(0,o.jsx)("div",{style:{display:"none"},children:(0,o.jsxs)(x,{ref:D,children:[(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,o.jsxs)("div",{style:{width:200,textAlign:"center"},children:[(0,o.jsxs)("h4",{children:["I confirm: ",(0,o.jsx)("br",{}),"Rector ",(0,o.jsx)("br",{}),"Kudaibergenov"]}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{style:{width:200,borderBottom:"1px solid #000"}})]})}),(0,o.jsx)("h2",{style:{textAlign:"center"},children:"KIMYO INTERNATIONAL UNIVERSITY IN TASHKENT"}),(0,o.jsx)("h3",{style:{textAlign:"center"},children:"Department of information technologies"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,o.jsxs)("p",{children:["Document number:25 ",(0,o.jsx)("br",{}),"Date of compilation: December 2023"]})}),(0,o.jsx)("h3",{style:{textAlign:"center"},children:"T A B E L"}),(0,o.jsx)("h4",{style:{textAlign:"center"},children:"recording the use of working time"})]}),(0,o.jsxs)("div",{className:"main",children:[(0,o.jsxs)("table",{children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,o.jsx)("th",{rowSpan:2,children:"F.I.O"}),(0,o.jsx)("th",{rowSpan:2,children:"Position"}),(0,o.jsx)("th",{colSpan:null===(r=g[0])||void 0===r?void 0:null===(l=r.monthly)||void 0===l?void 0:l.length,children:"Attendance and absence notes by day of the month"}),(0,o.jsx)("th",{colSpan:2,children:"Worked for the month"})]}),(0,o.jsxs)("tr",{children:[null===(v=g[0])||void 0===v?void 0:null===(h=v.monthly)||void 0===h?void 0:h.map(function(e){return(0,o.jsx)("td",{style:{minWidth:25},children:null==e?void 0:e.day},null==e?void 0:e.day)}),(0,o.jsx)("td",{children:"days"}),(0,o.jsx)("td",{children:"hours"})]})]}),(0,o.jsx)("tbody",{children:null==g?void 0:null===(p=g.slice(0,14))||void 0===p?void 0:p.map(function(e,n){var l,t,i,r,d;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:n+1}),(0,o.jsx)("td",{style:{textAlign:"start",width:140},children:w(null==e?void 0:null===(l=e.fullName)||void 0===l?void 0:l.toUpperCase())}),(0,o.jsxs)("td",{style:{width:130},children:[null==e?void 0:null===(t=e.userPosition)||void 0===t?void 0:t.label," ",(null==e?void 0:e.rate)?"(".concat(null==e?void 0:e.rate,")"):""]}),null==e?void 0:null===(i=e.monthly)||void 0===i?void 0:i.map(function(e){return(0,o.jsxs)("td",{children:[" ",null==e?void 0:e.hourValue]},null==e?void 0:e.day)}),(0,o.jsx)("td",{children:null==e?void 0:null===(d=e.monthly)||void 0===d?void 0:null===(r=d.filter(function(e){return"number"==typeof(null==e?void 0:e.hourValue)&&(null==e?void 0:e.hourValue)!==0}))||void 0===r?void 0:r.length}),(0,o.jsx)("td",{children:k(null==e?void 0:e.monthly)})]},n)})})]}),g.length>=15&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]}),(null==g?void 0:g.length)>14&&(0,o.jsxs)("table",{children:[(0,o.jsxs)("thead",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,o.jsx)("th",{rowSpan:2,children:"F.I.O"}),(0,o.jsx)("th",{rowSpan:2,children:"Position"}),(0,o.jsx)("th",{colSpan:null===(m=g[0])||void 0===m?void 0:null===(j=m.monthly)||void 0===j?void 0:j.length,children:"Attendance and absence notes by day of the month"}),(0,o.jsx)("th",{colSpan:2,children:"Worked for the month"})]}),(0,o.jsxs)("tr",{children:[null===(b=g[0])||void 0===b?void 0:null===(y=b.monthly)||void 0===y?void 0:y.map(function(e){return(0,o.jsx)("td",{style:{minWidth:25},children:null==e?void 0:e.day},null==e?void 0:e.day)}),(0,o.jsx)("td",{children:"days"}),(0,o.jsx)("td",{children:"hours"})]})]}),(0,o.jsx)("tbody",{children:null==g?void 0:g.slice(14).map(function(e,n){var l,t,i,r,d;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:n+(null==g?void 0:g.slice(0,14).length)+1}),(0,o.jsx)("td",{style:{textAlign:"start",width:140},children:w(null==e?void 0:null===(l=e.fullName)||void 0===l?void 0:l.toUpperCase())}),(0,o.jsxs)("td",{style:{width:130},children:[null==e?void 0:null===(t=e.userPosition)||void 0===t?void 0:t.label," ",(null==e?void 0:e.rate)?"(".concat(null==e?void 0:e.rate,")"):""]}),null==e?void 0:null===(i=e.monthly)||void 0===i?void 0:i.map(function(e){return(0,o.jsxs)("td",{children:[" ",null==e?void 0:e.hourValue]},null==e?void 0:e.day)}),(0,o.jsx)("td",{children:null==e?void 0:null===(d=e.monthly)||void 0===d?void 0:null===(r=d.filter(function(e){return"number"==typeof(null==e?void 0:e.hourValue)&&(null==e?void 0:e.hourValue)!==0}))||void 0===r?void 0:r.length}),(0,o.jsx)("td",{children:k(null==e?void 0:e.monthly)})]},n)})})]})]}),(0,o.jsxs)("div",{className:"footer",style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"5px",marginTop:15},children:[(0,o.jsx)("p",{children:"Meaning of abbreviations: "}),(0,o.jsxs)("p",{children:["H - Holiday ",(0,o.jsx)("br",{}),"SL - Sick leave ",(0,o.jsx)("br",{}),"DO - Day off ",(0,o.jsx)("br",{}),"V - Vacation ",(0,o.jsx)("br",{})]})]}),(0,o.jsxs)("div",{style:{width:700,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",marginTop:15,rowGap:15},children:[(0,o.jsx)("b",{children:"Head of the department"}),(0,o.jsx)("p",{style:{width:150,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:"\u0428.\u0422.\u0421\u0430\u0431\u0438\u0440\u043E\u0432"}),(0,o.jsx)("b",{children:"Head of HR Department"}),(0,o.jsx)("p",{style:{width:150,borderBottom:"1px solid #000"}}),(0,o.jsx)("b",{children:"\u0424.\u0428. \u0421\u0443\u043B\u0430\u0439\u043C\u0430\u043D\u043E\u0432"})]})]})]})})]})})}}]);