/*! For license information please see 5086.19571bb8.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5086"],{84733:function(e,l,n){"use strict";n.r(l);var d=n("58865");n("33948"),n("31672"),n("59461"),n("2490"),n("17727"),n("57640"),n("9924");var t=n("85893"),a=n("67294"),i=n("71893"),u=n("55693"),o=n("42154"),r=n("32392"),s=n("44025"),c=n("61261"),v=n("57024"),h=n("50533"),f=n("27120"),x=n("92120"),m=n("27233"),p=n("16393"),j=n("7104"),g=n("4548");function b(){let e=(0,d._)(["\n    margin-top: 15px;\n    padding: 15px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    ","\n"]);return b=function(){return e},e}function S(){let e=(0,d._)(["\n    padding: 1rem;\n"]);return S=function(){return e},e}let w=i.default.div(b(),(0,v.extrasmall)({justifyContent:"center"})),k=i.default.div(S());l.default=()=>{var e;let{headers:l}=(0,p.getHeaders)(),n=(0,h.useSelector)(e=>{var l;return null==e?void 0:null===(l=e.educationYear)||void 0===l?void 0:l.educationYear})||null,[d,i]=(0,a.useState)([]),[v,b]=(0,a.useState)(""),S=(0,h.useSelector)(e=>{var l;return null==e?void 0:null===(l=e.dekanat)||void 0===l?void 0:l.dekanat})||null,C=(0,h.useDispatch)(),[_,y]=(0,a.useState)(""),[F,E]=(0,a.useState)([]),[N,Y]=(0,a.useState)([]),[G,A]=(0,a.useState)(!1),B=async()=>{await m.default.get(p.BASE_URL+"/education/educationYearsForSelected",{headers:l}).then(e=>{var l,n,d;i(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.obj),C((0,x.fetchEducationYear)(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(n=d.obj)||void 0===n?void 0:n[0]))}).catch(e=>{})},I=async()=>{var e;A(!0),await m.default.get("".concat(p.BASE_URL,"/gradeOfStudentByTeacher/getAllMiddleGrade/").concat(null==n?void 0:n.id,"?groupId=").concat(null==F?void 0:null===(e=F.find(e=>(null==e?void 0:e.name)===_))||void 0===e?void 0:e.id),{headers:l}).then(e=>{var l;Y(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.obj.sort(U))}).catch(e=>{Y([])}).finally(()=>{A(!1)})};function U(e,l){let n=e.fullName.toUpperCase(),d=l.fullName.toUpperCase();return n<d?-1:n>d?1:0}return(0,a.useEffect)(()=>{var e,n;v&&m.default.get(p.BASE_URL+"/dekan/getGroupsNamesForDekanByFacultyId/".concat(null==S?void 0:null===(n=S.faculties)||void 0===n?void 0:null===(e=n.find(e=>e.shortName===v))||void 0===e?void 0:e.id),{headers:l}).then(e=>{var l;E(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.sort(function(e,l){return(null==e?void 0:e.name)>(null==l?void 0:l.name)?1:(null==e?void 0:e.name)<(null==l?void 0:l.name)?-1:0}))}).catch(e=>{})},[v]),(0,a.useEffect)(()=>{_&&I()},[_]),(0,a.useEffect)(()=>{B()},[]),(0,t.jsxs)(k,{children:[(0,t.jsxs)(w,{children:[(0,t.jsx)(u.default,{sx:{width:200},children:(0,t.jsxs)(o.default,{fullWidth:!0,children:[(0,t.jsx)(r.default,{id:"semestr",children:"Semestr"}),(0,t.jsx)(s.default,{labelId:"semestr",id:"demo-simple-select",value:null==n?void 0:n.name,label:"Semistr",onChange:e=>{e.target.value!==(null==n?void 0:n.name)&&C((0,f.educationYearStatisticsFetching)()),C((0,x.fetchEducationYear)(null==d?void 0:d.find(l=>(null==l?void 0:l.name)===e.target.value)))},children:d.map((e,l)=>(0,t.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})}),(0,t.jsx)(u.default,{sx:{width:200},children:(0,t.jsxs)(o.default,{fullWidth:!0,children:[(0,t.jsx)(r.default,{id:"demo-simple-select-label",children:"Yo'nalish"}),(0,t.jsx)(s.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v,label:"Yo'nalish",onChange:e=>{b(e.target.value)},children:null==S?void 0:null===(e=S.faculties)||void 0===e?void 0:e.map((e,l)=>(0,t.jsx)(c.default,{value:null==e?void 0:e.shortName,children:null==e?void 0:e.shortName},null==e?void 0:e.id))})]})}),(0,t.jsx)(u.default,{sx:{width:200},children:(0,t.jsxs)(o.default,{fullWidth:!0,children:[(0,t.jsx)(r.default,{id:"demo-simple-select-label1",children:"Group"}),(0,t.jsx)(s.default,{labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:_,label:"Group",onChange:e=>{y(e.target.value)},children:null==F?void 0:F.map((e,l)=>(0,t.jsx)(c.default,{value:null==e?void 0:e.name,children:null==e?void 0:e.name},null==e?void 0:e.id))})]})})]}),(0,t.jsx)(j.Card,{sx:{mt:1.5},children:(0,t.jsx)(j.CardContent,{children:(0,t.jsx)(g.default,{loading:G,data:N})})})]})}},4548:function(e,l,n){"use strict";n.r(l);var d=n("58865");n("57640"),n("9924");var t=n("85893"),a=n("67294"),i=n.n(a),u=n("71893"),o=n("16393"),r=n("94718"),s=n("78951"),c=n("37595"),v=n("55693"),h=n("53432");function f(){let e=(0,d._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 1500px;\n        border-collapse: collapse;\n        width: 100%;\n        text-align: center;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 14px;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }\n\n"]);return f=function(){return e},e}let x=u.default.div(f(),o.mainColor);l.default=e=>{var l,n,d;let{data:a,loading:u}=e;return(0,t.jsxs)(t.Fragment,{children:[(null==a?void 0:a.length)>0&&(0,t.jsx)(v.default,{display:"flex",justifyContent:"end",mb:3,children:(0,t.jsx)(r.default,{variant:"contained",onClick:()=>{let e=c.utils.table_to_sheet(document.querySelector("table")),l=c.utils.book_new();c.utils.book_append_sheet(l,e,"Sheet1"),c.writeFile(l,"table_data.xlsx")},children:"Export to Excel"})}),(0,t.jsx)(x,{children:u?(0,t.jsx)(h.default,{}):a.length>0?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("table",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{rowSpan:2,children:"\u2116"}),(0,t.jsx)("th",{rowSpan:2,children:"Full name"}),null===(n=a[0])||void 0===n?void 0:null===(l=n.subjects)||void 0===l?void 0:l.map((e,l)=>(0,t.jsx)("th",{colSpan:2,children:null==e?void 0:e.subjectName},l))]}),(0,t.jsx)("tr",{children:Array.from({length:(null===(d=a[0])||void 0===d?void 0:d.subjects.length)*2}).map((e,l)=>(0,t.jsx)("th",{children:l%2==0?"JN":"YN"},l))}),a.map((e,l)=>{var n;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:l+1}),(0,t.jsxs)("td",{children:[e.fullName," "]}),null==e?void 0:null===(n=e.subjects)||void 0===n?void 0:n.map((e,l)=>(0,t.jsxs)(i().Fragment,{children:[(0,t.jsx)("td",{children:parseFloat((((null==e?void 0:e.allSumGrade)||0)+((null==e?void 0:e.allGradesForAttendance)||0)).toFixed(2))||"-"}),(0,t.jsx)("td",{children:(null==e?void 0:e.endGrade)!==null?null==e?void 0:e.endGrade:"-"})]},l))]},l)})]})}):(0,t.jsx)(s.default,{w:200,h:180})})]})}}}]);