/*! For license information please see 5633.1b133f06.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5633"],{7432:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return R}});var a=t("7409"),r=t("99282"),i=t("38956"),l=t("58865");t("92222"),t("21249"),t("57640"),t("9924"),t("17727"),t("88674"),t("41539");var o=t("85893"),u=t("67294"),c=t("71893"),s=t("89583"),d=t("7104"),f=t("16356"),h=t("28685"),p=t("55693"),x=t("94718"),g=t("74113"),v=t("53854"),m=t("97367"),b=t("60155"),j=t("89589"),C=t("71632"),_=t("27233"),y=t("72132"),S=t("10493"),w=t("53071"),k=t("21348"),T=t("60134");function G(){var e=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return G=function(){return e},e}function I(){var e=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return I=function(){return e},e}function N(){var e=(0,l._)(["\n    ","\n"]);return N=function(){return e},e}function A(){var e=(0,l._)(["\n    display: flex;\n    align-items: center;\n    color: ",";\n    gap: 5px;\n\n    h1 {\n        margin: 0;\n        font-size: 30px;\n        font-weight: bold;\n\n    }\n"]);return A=function(){return e},e}function F(){var e=(0,l._)(["\n    width: 100%;\n    padding: 1rem;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return F=function(){return e},e}var D=c.default.div(G()),P=c.default.button(I(),h.mainColor),U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},E=c.default.div(N(),(0,C.extrasmall)({width:"95% !important"})),W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},z=c.default.div(A(),h.mainColor),O=c.default.div(F()),R=function(){var e=T.MONITORING_STUDENT_GPA_FILE,n=(0,i._)((0,u.useState)(1e3),2),t=n[0],l=n[1],c=(0,i._)((0,u.useState)(null),2),C=c[0],G=c[1],I=(0,h.getHeaders)().headers,N=(0,i._)((0,u.useState)([]),2),A=N[0],F=N[1],R=(0,i._)((0,u.useState)(!1),2),B=R[0],L=R[1],M=(0,i._)((0,u.useState)(!1),2),H=M[0],q=M[1],K=(0,i._)((0,u.useState)(null),2),V=K[0],J=K[1],Q=(0,i._)((0,u.useState)(!1),2),X=Q[0],Y=Q[1],Z=(0,i._)((0,u.useState)({page:0,pageSize:30}),2),$=Z[0],ee=Z[1],en=function(e){G({id:e.id,studentId:e.studentId,passport:e.passport,stGroup:e.stGroup,unv:e.unv,educationType:e.educationType,fullName:e.fullName,course:e.course,yunalish:e.yunalish,fails:e.fails,stGpa:e.stGpa}),Y(!0)},et=function(){L(!0),_.default.get("".concat(h.BASE_URL,"/workOtherService/getGPAs?page=").concat($.page+1,"&size=").concat($.pageSize)).then(function(e){var n,t,i,o;l(null===(n=e.data.obj)||void 0===n?void 0:n.totalElements),F(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(i=o.obj)||void 0===i?void 0:null===(t=i.content)||void 0===t?void 0:t.map(function(e,n){return(0,r._)((0,a._)({},e),{count:n+1})}))}).catch(function(e){}).finally(function(){return L(!1)})};(0,u.useEffect)(function(){et()},[$]);var ea=function(){J(null),q(!1)},er=function(){Y(!1),G(null)};return(0,o.jsxs)(O,{children:[(0,o.jsx)(S.default,{titleFile:"MONITORING_STUDENT_GPA_FILE",fetchData:et,saveFileUrl:"/workOtherService/updateGPA",urlBase:e}),(0,o.jsxs)(z,{children:[(0,o.jsx)(s.FaClipboardList,{size:25}),(0,o.jsx)("h1",{children:"GPA"})]}),(0,o.jsx)(d.Card,{children:(0,o.jsxs)(d.CardContent,{children:[(0,o.jsx)(p.default,{display:"flex",justifyContent:"space-between",mb:2,children:(0,o.jsx)(w.default,{setData:F,searchUrl:"/otherService/studentsGPA2/",pagination:$,fetchData:et})}),(0,o.jsx)(f.DataGrid,{rowCount:t,columns:[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:.4,field:"studentId",headerName:"Student id",sortable:!1,align:"center",justifyContent:"center"},{minWidth:150,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center"},{minWidth:60,flex:.3,field:"course",headerName:"Course",sortable:!0,align:"center"},{minWidth:100,flex:.3,field:"stGroup",headerName:"Group name",editable:!1,sortable:!1,align:"center"},{minWidth:150,flex:.7,field:"yunalish",headerName:"Direction",editable:!1,sortable:!1,align:"center"},{minWidth:150,flex:.7,field:"educationType",headerName:"Education type",editable:!1,sortable:!1,align:"center"},{minWidth:90,flex:.3,field:"fails",headerName:"Fails",editable:!1,sortable:!0,align:"center"},{minWidth:90,flex:.3,field:"stGpa",headerName:"GPA",editable:!1,sortable:!0,align:"center"},{minWidth:100,flex:.3,field:"passport",headerName:"Passport",editable:!1,sortable:!1,align:"center"},{flex:.4,field:"action",headerName:"Action",editable:!1,sortable:!1,align:"center",renderCell:function(e){return(0,o.jsx)(d.Stack,{direction:"row",spacing:2,justifyContent:"center",children:(0,o.jsx)(g.default,{"aria-label":"change",color:"success",onClick:function(){return en(e.row)},children:(0,o.jsx)(v.HiPencilAlt,{})})})}}],rows:A||[],loading:B,components:{Toolbar:f.GridToolbar},pageSize:$.pageSize,page:$.page,rowsPerPageOptions:[10,30,50,70,100],paginationMode:"server",onPageChange:function(e){ee(function(n){return(0,r._)((0,a._)({},n),{page:e})})},onPageSizeChange:function(e){ee(function(n){return(0,r._)((0,a._)({},n),{pageSize:e})})},autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1,studentId:!1,yunalish:!1,educationType:!1,passport:!1}}}})]})}),(0,o.jsx)(m.default,{open:H,onClose:ea,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(p.default,{sx:U,component:E,children:[(0,o.jsxs)(D,{children:[(0,o.jsx)("h5",{children:"Delete"}),(0,o.jsxs)(P,{onClick:ea,children:[" ",(0,o.jsx)(b.IoClose,{size:22})]})]}),(0,o.jsxs)(p.default,{children:[(0,o.jsx)(d.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,o.jsx)(j.default,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,o.jsxs)(d.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,o.jsx)(x.default,{variant:"outlined",onClick:ea,children:"Cancel"}),(0,o.jsx)(x.default,{variant:"contained",color:"error",onClick:function(){V&&_.default.delete("".concat(h.BASE_URL,"/example/").concat(V),{headers:I}).then(function(e){ea(),y.toast.success("Delete item")}).catch(function(e){y.toast.error("Error deleting")})},children:"Ok"})]})]})]})}),(0,o.jsx)(m.default,{open:X,onClose:er,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(p.default,{sx:W,component:E,children:[(0,o.jsxs)(D,{children:[(0,o.jsx)("h3",{children:C?"Update":"Create"}),(0,o.jsxs)(P,{onClick:er,children:[" ",(0,o.jsx)(b.IoClose,{size:22})]})]}),(0,o.jsx)(p.default,{children:(0,o.jsx)(k.default,{closeBtnFn:er,fetchData:et,putData:C})})]})})]})}},10493:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t("38956"),r=t("58865");t("17727"),t("88674"),t("41539"),t("75505"),t("87714"),t("82801"),t("1174"),t("82472"),t("48675"),t("92990"),t("18927"),t("33105"),t("35035"),t("74345"),t("7174"),t("63408"),t("14590"),t("32846"),t("44731"),t("77209"),t("96319"),t("58867"),t("37789"),t("33739"),t("29368"),t("14483"),t("12056"),t("3462"),t("30678"),t("27462"),t("33824"),t("12974"),t("1439"),t("87585"),t("15016"),t("55315"),t("66992"),t("23252"),t("6461"),t("32372"),t("8922"),t("5835"),t("8970"),t("84444"),t("60285"),t("41637"),t("46229"),t("17330"),t("62062"),t("33948"),t("78783"),t("92222");var i=t("85893"),l=t("67294"),o=t("55693"),u=t("94718"),c=t("8193"),s=t("15729"),d=t("27233"),f=t("28685"),h=t("71893"),p=t("72132"),x=t("7701"),g=t("7104");function v(){var e=(0,r._)(["\n  position: relative;\n  width: 95%;\n  height: 30px;\n  //background-color: #ccc;\n  border-radius: 7px;\n  overflow: hidden;\n\n  .progress-bar {\n    background-color: ",";\n    color: #fff;\n    text-align: center;\n    line-height: 30px;\n    width: 0;\n    position: absolute;\n    transition: width 0.1s;\n  }\n"]);return v=function(){return e},e}var m=h.default.div(v(),f.mainColor),b=function(e){var n=e.saveFileUrl,t=e.urlBase,r=e.fetchData,h=e.titleFile,v=(0,a._)((0,l.useState)(!1),2),b=v[0],j=v[1],C=(0,a._)((0,l.useState)(0),2),_=(C[0],C[1]);return(0,i.jsxs)(o.default,{display:"flex",justifyContent:"end",children:[(0,i.jsxs)(g.Stack,{direction:"row",spacing:2,children:[(0,i.jsxs)(u.default,{startIcon:(0,i.jsx)(c.AiOutlineCloudUpload,{}),variant:"contained",component:"label",onChange:function(e){j(!0);var t=e.target.files[0],a=f.BASE_URL+n,i=localStorage.getItem(f.TOKEN),l={headers:{"Content-Type":"multipart/form-data",Authorization:f.TokenType+i,"Access-Control-Allow-Origin":"*"},onUploadProgress:function(e){_(Math.round(100*e.loaded/e.total))}},o=new FormData;o.append("file",t),d.default.put(a,o,l).then(function(e){p.toast.success("Uploaded file successfully"),r()}).catch(function(e){p.toast.error("Upload failed")}).finally(function(){return j(!1)}),e.target.value=null},children:["import file",(0,i.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",type:"file",hidden:!0})]}),(0,i.jsx)(u.default,{variant:"contained",onClick:function(){for(var e=atob(t),n=new Uint8Array(e.length),a=0;a<e.length;++a)n[a]=e.charCodeAt(a);var r=new Blob([n],{type:"application/xlsx"}),i=document.createElement("a");i.href=URL.createObjectURL(r),i.download="".concat(h,".xlsx"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},children:"example file"})]}),(0,i.jsx)(s.default,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:b,children:(0,i.jsx)(m,{children:(0,i.jsx)(o.default,{display:"flex",justifyContent:"center",children:(0,i.jsx)(x.default,{color:"inherit"})})})})]})}},21348:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t("7409"),r=t("99282"),i=t("38956"),l=t("58865");t("91058");var o=t("85893"),u=t("67294"),c=t("71893"),s=t("7104"),d=t("94718"),f=t("27233"),h=t("28685"),p=t("72132"),x=t("71632");function g(){var e=(0,l._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap:20px;\n  margin-bottom: 20px;\n  ","\n"]);return g=function(){return e},e}function v(){var e=(0,l._)(["\n    margin: 20px 0;\n \n"]);return v=function(){return e},e}var m=c.default.div(g(),(0,x.extrasmall)({gridTemplateColumns:"1fr"})),b=c.default.div(v()),j=(0,u.memo)(function(e){var n=e.closeBtnFn,t=e.fetchData,l=e.putData,c=l||{fullName:"",studentId:"",passport:"",stGroup:"",unv:"",educationType:"",course:"",yunalish:"",fails:"",stGpa:""},x=(0,i._)((0,u.useState)(c),2),g=x[0],v=x[1],j=function(e){f.default.post(h.BASE_URL+"/workOtherService/saveSingleGPA",e).then(function(e){p.toast.success("Successfully saved"),t(),n()}).catch(function(e){p.toast.error("Error saving")})},C=function(e){f.default.put(h.BASE_URL+"/workOtherService/updateSingleGPA",e).then(function(e){p.toast.success("Successfully updated"),t(),n()}).catch(function(e){p.toast.error("Error updated")})};return(0,o.jsxs)(b,{children:[(0,o.jsxs)(m,{children:[(0,o.jsx)(s.TextField,{fullWidth:!0,disabled:!0,label:"Full name",value:g.fullName,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{fullName:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,disabled:!0,label:"StudentId",value:g.studentId,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{studentId:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,disabled:!0,label:"Passport",value:g.passport,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{passport:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"Group name",value:g.stGroup,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{stGroup:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"Unv",value:g.unv,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{unv:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"Education type",value:g.educationType,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{educationType:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"Course",value:g.course,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{course:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"Direction",value:g.yunalish,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{yunalish:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"Fails",type:"number",value:g.fails,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{fails:e.target.value})})}}),(0,o.jsx)(s.TextField,{fullWidth:!0,label:"GPA",value:g.stGpa,onChange:function(e){return v(function(n){return(0,r._)((0,a._)({},n),{stGpa:e.target.value})})}})]}),(0,o.jsxs)(s.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,o.jsx)(d.default,{variant:"outlined",onClick:n,children:"Cancel"}),(0,o.jsx)(d.default,{variant:"contained",onClick:function(){var e=!0;for(var n in g)if(""===g[n]){e=!1;break}if(e){var t=parseInt(g.fails,10);if(isNaN(t))p.toast.error("Please enter a valid number for Credit.");else{var i=(0,r._)((0,a._)({},g),{fails:t});j(i),l?C(i):j(i)}}else p.toast.error("Please fill in all the fields")},children:l?"update":"save"})]})]})})},53071:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var a=t("7409"),r=t("99282"),i=t("38956");t("92222"),t("21249"),t("57640"),t("9924");var l=t("85893"),o=t("67294"),u=t("79623"),c=t("7104"),s=t("63750"),d=t("27233"),f=t("28685"),h=(0,o.memo)(function(e){var n=e.setData,t=e.searchUrl,h=e.fetchData,p=e.pagination,x=(0,o.useRef)(null),g=(0,i._)((0,o.useState)(""),2),v=g[0],m=g[1],b=(0,f.getHeaders)().headers,j=function(e){m(e),x.current&&x.current.cancel("Operation canceled due to new request.");var i=d.default.CancelToken.source();x.current=i;var l=setTimeout(function(){e.length>=2?d.default.get("".concat(f.BASE_URL).concat(t).concat(e),{headers:b,cancelToken:i.token}).then(function(e){n(e.data.obj.obj.map(function(e,n){return(0,r._)((0,a._)({},e),{count:n+1})}))}).catch(function(e){d.default.isCancel(e)}):h()},300);return function(){i&&i.cancel("Operation canceled due to component unmount."),clearTimeout(l)}};return(0,o.useEffect)(function(){m("")},[p]),(0,l.jsx)(c.TextField,{placeholder:"Search by ID card",size:"small",value:v,onChange:function(e){return j(e.target.value)},id:"idCard",sx:{width:"300px"},InputProps:{startAdornment:(0,l.jsx)(u.default,{position:"start",children:(0,l.jsx)(s.BsSearch,{size:20})})}})})}}]);