"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[4369],{24369:function(n,e,t){t.r(e);var r,o,i,s,a,l,c,u,d,p,f,x,h,g,m,Z,v,b,j,y,E,S,w,C,P,k=t(30168),A=t(1413),_=t(29439),D=t(72791),N=t(17939),R=t(27301),L=t(55294),O=t(56355),U=t(56960),z=t(95173),T=t(64554),I=t(24518),G=t(7692),K=t(16871),F=t(80184),q=N.ZP.div(r||(r=(0,k.Z)(["\n","\n"])),(0,z.qD)({margin:"0  0 0 auto !important"})),B=N.ZP.span(o||(o=(0,k.Z)(["\n  width: 100%;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-bottom-right-radius: 10px;\n  border-top-right-radius: 10px;\n  color: #ffffff;\n  border: none;\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"])),R.Lr),H=N.ZP.div(i||(i=(0,k.Z)(["\n  position: absolute;\n  top: 45px;\n  z-index: 5;\n","\n"])),(0,z.qD)({top:0,left:"160px"})),M=N.ZP.input(s||(s=(0,k.Z)(["\n  width: 125px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  color: ",";\n  margin-left: 5px !important;\n  border: none;\n\n  &::placeholder {\n    font-size: 14px;\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"])),R.Lr,R.HN),W=N.ZP.span(a||(a=(0,k.Z)(["\n  font-size: 12px;\n  color: lightgray;\n"]))),Y=N.ZP.span(l||(l=(0,k.Z)(["\n  font-size: 14px;\n"]))),J=N.ZP.div(c||(c=(0,k.Z)(["\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  padding: 5px 10px !important;\n  border-bottom: 1px solid lightgray;\n  cursor: pointer;\n\n  &::before {\n\n  }\n"]))),Q=N.ZP.div(u||(u=(0,k.Z)(["\n  max-height: 300px;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 45px;\n  left: 20px;\n  margin-top: 3px !important;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n  overflow: hidden;\n  overflow-y: scroll;\n  opacity: ",";\n"])),(function(n){return n.opacity})),V=N.ZP.div(d||(d=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),X=N.ZP.div(p||(p=(0,k.Z)(["\n  width: 150px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 10px;\n  background-color: #fff;\n"]))),$=N.ZP.select(f||(f=(0,k.Z)(["\n  width: 150px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  border: none;\n  cursor: pointer;\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n\n  option {\n    color: black;\n    background: white;\n    font-weight: 300;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n  }\n"])),R.Lr),nn=(N.ZP.div(x||(x=(0,k.Z)(["\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),N.ZP.section(h||(h=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  ","\n\n"])),(0,z.qD)({flexDirection:"column"}))),en=N.ZP.div(g||(g=(0,k.Z)(["\n  margin-left: 20px;\n  margin-top: 20px;\n  display: flex;\n  justify-content: end;\n"]))),tn=N.ZP.button(m||(m=(0,k.Z)(["\n  margin-right: 25px;\n  padding: 4px 35px !important;\n  background-color: ",";\n  color: #fff;\n  border: none;\n  border-radius: 10px;\n  font-size: 20px;\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"])),R.Lr),rn=N.ZP.label(Z||(Z=(0,k.Z)(["\n  color: ",";\n  margin-left: 10px !important;\n  cursor: pointer;\n"])),R.Lr),on=N.ZP.input.attrs({type:"radio"})(v||(v=(0,k.Z)(["\n  height: 22px;\n  width: 22px;\n  vertical-align: middle;\n  cursor: pointer;\n"]))),sn=N.ZP.div(b||(b=(0,k.Z)(["\n  position: relative;\n"]))),an=N.ZP.div(j||(j=(0,k.Z)(["\n  width: 150px;\n  padding: 4px 15px !important;\n  background-color: #fff;\n  border-radius: 10px;\n  font-size: 20px;\n  vertical-align: middle;\n"]))),ln=N.ZP.div(y||(y=(0,k.Z)(["\n  margin-left: 20px;\n  margin-top: 20px;\n  padding-left: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  ","\n\n"])),(0,z.qD)({flexDirection:"column",paddingLeft:"0",marginTop:"20px",marginLeft:"0"})),cn=N.ZP.textarea(E||(E=(0,k.Z)(["\n  width: 100%;\n  min-height: 200px;\n  padding: 5px 10px !important;\n  border: none;\n\n  &:focus {\n    outline: none;\n  }\n"]))),un=N.ZP.span(S||(S=(0,k.Z)(["\n  border-radius: 5px;\n  padding: 0 5px !important;\n  color: ",";\n  font-size: 20px;\n"])),R.Lr),dn=N.ZP.div(w||(w=(0,k.Z)(["\n  width: 95%;\n  height: 50%;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #E6E8EB;\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  margin: 20px auto;\n  overflow: hidden;\n  box-shadow: 0 3px 20px rgb(0 0 0 / 4%);\n"]))),pn=N.ZP.form(C||(C=(0,k.Z)(["\n  width: 100%;\n"]))),fn=N.ZP.div(P||(P=(0,k.Z)(["\n  height: 100%;\n  min-height: 500px;\n  border-radius: 10px;\n  margin-top: 10px !important;\n  padding: 5px 10px !important;\n"])));e.default=function(){var n=(0,D.useState)("ALL"),e=(0,_.Z)(n,2),t=e[0],r=e[1],o=(0,D.useState)(1),i=(0,_.Z)(o,2),s=i[0],a=i[1],l=(0,D.useState)(""),c=(0,_.Z)(l,2),u=c[0],d=c[1],p=(0,D.useState)([]),f=(0,_.Z)(p,2),x=f[0],h=f[1],g=(0,D.useState)(""),m=(0,_.Z)(g,2),Z=m[0],v=m[1],b=(0,D.useState)(""),j=(0,_.Z)(b,2),y=j[0],E=j[1],S=(0,D.useState)([]),w=(0,_.Z)(S,2),C=w[0],P=w[1],k=(0,D.useState)(""),N=(0,_.Z)(k,2),z=N[0],xn=N[1],hn=(0,D.useState)(""),gn=(0,_.Z)(hn,2),mn=gn[0],Zn=gn[1],vn=(0,D.useState)({course:s,messageBody:z,groupName:u,smsType:t,status:"SENDING",userId:mn}),bn=(0,_.Z)(vn,2),jn=bn[0],yn=bn[1],En=(0,K.s0)();(0,D.useEffect)((function(){if(Z.length<3)P([]);else{var n=localStorage.getItem(R.o3),e={Authorization:R.iv+n,"Access-Control-Allow-Origin":"*"};L.Z.get(R._n+R.rK.GET_USER_SEARCHING_FOR_DEKAN+Z,{headers:e}).then((function(n){var e;0!==(null===(e=n.data)||void 0===e?void 0:e.length)?P((function(){return n.data})):P([])})).catch((function(n){console.log(n)}))}}),[Z]),(0,D.useEffect)((function(){yn((function(n){return(0,A.Z)((0,A.Z)({},n),{},{messageBody:z})}))}),[z]),(0,D.useEffect)((function(){yn((function(n){return(0,A.Z)((0,A.Z)({},n),{},{smsType:t})}))}),[t]),(0,D.useEffect)((function(){yn((function(n){return(0,A.Z)((0,A.Z)({},n),{},{groupName:u})}))}),[u]),(0,D.useEffect)((function(){yn((function(n){return(0,A.Z)((0,A.Z)({},n),{},{course:s})}))}),[s]),(0,D.useEffect)((function(){yn((function(n){return(0,A.Z)((0,A.Z)({},n),{},{userId:mn})}))}),[mn]);var Sn=function(){var n=localStorage.getItem(R.o3),e={Authorization:R.iv+n,"Access-Control-Allow-Origin":"*"};L.Z.post(R._n+R.rK.SMS_CREATE,jn,{headers:e}).then((function(n){200===n.status&&U.Am.success("Sending SMS successfully!")})).catch((function(n){U.Am.warning("Error..."),console.log(n)}))};return(0,F.jsxs)(fn,{children:[(0,F.jsxs)(T.Z,{sx:{display:"flex",justifyContent:"space-between",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[(0,F.jsxs)(un,{children:["Message: ","COURSE"===t?t+" - "+s:"GROUP"===t?t+" "+u:"STUDENT"===t?t+" "+y:t]}),(0,F.jsx)(I.Z,{component:q,onClick:function(){return En("smsHistory")},variant:"contained",endIcon:(0,F.jsx)(G.DBs,{size:25}),children:"message history"})]}),(0,F.jsxs)(pn,{onSubmit:function(n){return function(n){switch(n.preventDefault(),t){case"ALL":a(null),d(null),Zn(null),""===z?alert("Error, empty message of sms..."):Sn();break;case"COURSE":d(""),Zn(""),null!==s&&""!==z?Sn():alert("Error, empty message of sms or course...");break;case"GROUP":""!==u&&""!==z?Sn():alert("Error, empty message of sms or name of group...");break;case"STUDENT":""!==mn&&""!==z?Sn():alert("Error, empty message of sms or do not choose student...");break;default:console.log("default")}}(n)},children:[(0,F.jsx)(dn,{children:(0,F.jsx)(cn,{name:z,value:z,onChange:function(n){return xn(n.target.value)}})}),(0,F.jsxs)(nn,{children:[(0,F.jsxs)(ln,{children:[(0,F.jsxs)(an,{children:[(0,F.jsx)(on,{id:"all",name:"type",checked:"ALL"===t,onChange:function(){return r((function(){return"ALL"}))}}),(0,F.jsx)(rn,{htmlFor:"all",children:"All"})]}),(0,F.jsxs)(sn,{children:[(0,F.jsxs)(an,{children:[(0,F.jsx)(on,{id:"course",name:"type",onChange:function(){return r((function(){return"COURSE"}))}}),(0,F.jsx)(rn,{htmlFor:"course",children:"Course"})]}),(0,F.jsx)(H,{children:"COURSE"===t&&(0,F.jsxs)($,{value:s,onChange:function(n){return a((function(){return n.target.value}))},children:[(0,F.jsx)("option",{value:1,children:"Course - 1"}),(0,F.jsx)("option",{value:2,children:"Course - 2"}),(0,F.jsx)("option",{value:3,children:"Course - 3"}),(0,F.jsx)("option",{value:4,children:"Course - 4"})]})})]}),(0,F.jsxs)(sn,{children:[(0,F.jsxs)(an,{children:[(0,F.jsx)(on,{id:"group",name:"type",onChange:function(){r((function(){return"GROUP"}));var n=localStorage.getItem(R.o3),e={Authorization:R.iv+n,"Access-Control-Allow-Origin":"*"};L.Z.get(R._n+R.rK.GET_GROUPS_NAMES_FOR_DEKAN_BY_DEKAN_ID,{headers:e}).then((function(n){d(n.data[0]),h(n.data)})).catch((function(n){console.log(n)}))}}),(0,F.jsx)(rn,{htmlFor:"group",children:"Group"})]}),(0,F.jsx)(H,{children:"GROUP"===t&&(0,F.jsx)($,{value:u,onChange:function(n){return d((function(){return n.target.value}))},children:(null===x||void 0===x?void 0:x.length)>0?x.map((function(n,e){return(0,F.jsx)("option",{value:n,children:n},e)})):""})})]}),(0,F.jsxs)(sn,{children:[(0,F.jsxs)(an,{children:[(0,F.jsx)(on,{id:"student",name:"type",onChange:function(){return r((function(){return"STUDENT"}))}}),(0,F.jsx)(rn,{htmlFor:"student",children:"Student"})]}),(0,F.jsx)(H,{children:"STUDENT"===t&&(0,F.jsxs)(V,{children:[(0,F.jsxs)(X,{children:[(0,F.jsx)(M,{value:Z,onChange:function(n){return v(n.target.value)},placeholder:"StudentID or Passport"}),(0,F.jsx)(B,{onClick:function(){if(""!==Z&&Z.length>2){var n=localStorage.getItem(R.o3),e={Authorization:R.iv+n,"Access-Control-Allow-Origin":"*"};L.Z.get(R._n+R.rK.GET_USER_SEARCHING_FOR_DEKAN+Z,{headers:e}).then((function(n){var e;0!==(null===(e=n.data)||void 0===e?void 0:e.length)?P((function(){return n.data})):(E(""),alert("\u26a0\ufe0f Not fount user!...\ud83d\ude14"))})).catch((function(n){console.log(n)}))}else alert("Enter search param")},children:(0,F.jsx)(O.U41,{})})]}),(0,F.jsx)(Q,{opacity:C.length>0?1:0,style:{display:"block",position:"absolute",top:"35px"},children:null===C||void 0===C?void 0:C.map((function(n){return(0,F.jsxs)(J,{onClick:function(e){e.preventDefault(),Zn(n.id),E(n.fullName),v("")},children:[(0,F.jsx)(Y,{children:n.fullName}),(0,F.jsx)(W,{children:n.groupData.name})]},n.id)}))})]})})]})]}),(0,F.jsx)(en,{children:(0,F.jsx)(tn,{onClick:function(){return console.log(jn,"sms \u274c\u274c\u274c\u274cishlamayapdi tugirlash kerak isingdan chiqmasin")},children:"Send"})})]})]})]})}}}]);
//# sourceMappingURL=4369.d11aa0af.chunk.js.map