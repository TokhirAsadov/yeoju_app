"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[2611],{82611:function(e,t,a){a.r(t);var o,n,i=a(30168),r=a(29439),l=a(72791),u=a(17939),d=a(27301),s=a(55294),c=a(84891),v=a(59434),h=a(72426),f=a.n(h),k=(a(23333),a(80184)),w=u.ZP.h3(o||(o=(0,i.Z)(["\n  color: ",";\n  margin-bottom: 20px;\n"])),d.Lr),m=u.ZP.div(n||(n=(0,i.Z)(["\n  width: 100%;\n  padding: 1rem!important;\n"])));t.default=function(){var e=(0,d.wU)().headers,t=(0,l.useState)([]),a=(0,r.Z)(t,2),o=a[0],n=a[1],i=(0,l.useState)(null),u=(0,r.Z)(i,2),h=u[0],b=u[1],Z=(0,v.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.user})),g=(0,l.useState)(!1),D=(0,r.Z)(g,2),T=D[0],p=D[1],y=(0,l.useState)({date:new Date,dateFrom:f()(new Date).startOf("isoWeek").toDate(),dateTo:f()(new Date).endOf("isoWeek").toDate(),weekNumber:f()(new Date).isoWeek(),daysOfWeek:function(e,t){f().locale("ru");for(var a=f()().year(t).isoWeek(e).startOf("isoWeek"),o=[],n=0;n<6;n++)o.push(a.clone().add(n,"days").toDate());return o}(f()(new Date).isoWeek(),f()().year())}),W=(0,r.Z)(y,2),Y=W[0];W[1];return(0,l.useEffect)((function(){p(!0),s.Z.get(d._n+"/timeTableByWeekOfYear/getTeacherTimeTable?t="+(null===Z||void 0===Z?void 0:Z.id)+"&week="+(null===Y||void 0===Y?void 0:Y.weekNumber)+"&year="+f()(null===Y||void 0===Y?void 0:Y.date).format("YYYY"),{headers:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.obj,o=[],i={};for(var r in null===a||void 0===a||a.forEach((function(e){e.shows.forEach((function(t){var a=t.daysName;i[a]||(i[a]={teacherData:e.teacherData,shows:[]}),i[a].shows.push(t)}))})),i)o.push(i[r]);console.log(o),n(o),p(!1)})).catch((function(e){console.log(e)})),s.Z.get(d._n+"/user/getTeacherStatisticsForTimeTableByWeek?teacherId="+(null===Z||void 0===Z?void 0:Z.id)+"&week="+(null===Y||void 0===Y?void 0:Y.weekNumber)+"&year="+f()(null===Y||void 0===Y?void 0:Y.date).format("YYYY"),{headers:e}).then((function(e){var t;b(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.obj)})).catch((function(e){console.log(e)}))}),[]),(0,k.jsxs)(m,{children:[(0,k.jsx)(w,{children:"Teacher Time table"}),null!==h&&(0,k.jsx)(c.Z,{isLoading:T,obj:Y,data:o,statistics:h})]})}}}]);
//# sourceMappingURL=2611.da503ad2.chunk.js.map