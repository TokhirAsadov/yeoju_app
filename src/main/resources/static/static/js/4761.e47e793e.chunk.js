"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[4761],{64761:function(e,n,t){t.r(n);var r,i=t(30168),l=t(29439),o=t(72791),a=t(17939),u=t(48550),c=t(57621),s=t(39504),d=t(72426),f=t.n(d),h=t(89704),m=t(58766),v=t(55294),x=t(27301),j=t(84638),g=t(56960),b=t(59434),C=t(20890),N=t(80184),Z=a.ZP.div(r||(r=(0,i.Z)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"])));n.default=function(){var e="Sirtqi ta'lim"===(0,b.v9)((function(e){var n;return null===(n=e.dekanat.dekanat)||void 0===n?void 0:n.name})),n=["RUNNABLE","CALLED"," RUNNING","WAITING","CANCELLED","COMPLETED"],t=[{field:"number",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){var n,t;return(0,N.jsx)("p",{children:null===(n=e.row)||void 0===n||null===(t=n.studentData)||void 0===t?void 0:t.fullName})}},{minWidth:100,flex:.5,field:"date",headerName:"Date of creation",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){var n;return(0,N.jsx)("p",{children:f()(null===(n=e.row)||void 0===n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")})}},{minWidth:100,flex:.5,field:"status",headerName:"Status",sortable:!0,align:"center",justifyContent:"center"},{minWidth:150,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:function(e){var t;return(0,N.jsx)(u.Z,{select:!0,size:"small",defaultValue:null===(t=e.row)||void 0===t?void 0:t.status,onChange:function(n){return function(e,n){var t={id:n,statusEnum:e};v.Z.put(x._n+"/queue/changeQueue",t,{headers:D}).then((function(n){console.log(n),E(),g.Am.success(e)})).catch((function(e){console.log(e),g.Am.error("Error status")}))}(n.target.value,e.row.id)},sx:{width:200},children:n.map((function(e){return(0,N.jsx)(j.Z,{value:e,children:e},e)}))})}}],r=(0,o.useState)([]),i=(0,l.Z)(r,2),a=i[0],d=i[1],w=(0,o.useState)(!1),y=(0,l.Z)(w,2),A=y[0],p=y[1],D=(0,x.wU)().headers;var E=function(){p(!0),v.Z.get(x._n+"/queue/findAllQueuesOfTodayForDean",{headers:D}).then((function(e){console.log(e.data.obj),d(e.data.obj.sort((function(e,n){return e.number>n.number?1:e.number<n.number?-1:0})))})).catch((function(e){console.log(e)})).finally((function(){p(!1)}))};return(0,o.useEffect)((function(){E()}),[]),(0,N.jsx)(Z,{children:e?(0,N.jsx)(c.Z,{sx:{mt:3},children:(0,N.jsx)(s.Z,{children:(0,N.jsx)(h._,{columns:t,rows:a||[],loading:A,components:{Toolbar:m.n},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})}):(0,N.jsx)(c.Z,{sx:{mt:3},children:(0,N.jsx)(s.Z,{children:(0,N.jsx)(C.Z,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})})}}}]);
//# sourceMappingURL=4761.e47e793e.chunk.js.map