"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[3710],{13710:function(n,t,e){e.r(t),e.d(t,{default:function(){return Bn}});var o=e(30168),i=e(15861),l=e(29439),r=e(64687),a=e.n(r),u=e(72791),d=e(17939),c=e(27301),s=function(n,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])},s(n,t)};function v(n){var t=n.className,e=n.counterClockwise,o=n.dashRatio,i=n.pathRadius,l=n.strokeWidth,r=n.style;return(0,u.createElement)("path",{className:t,style:Object.assign({},r,f({pathRadius:i,dashRatio:o,counterClockwise:e})),d:p({pathRadius:i,counterClockwise:e}),strokeWidth:l,fillOpacity:0})}function p(n){var t=n.pathRadius,e=n.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+e+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+e+" 1 1 0,-"+2*t+"\n    "}function f(n){var t=n.counterClockwise,e=n.dashRatio,o=n.pathRadius,i=2*Math.PI*o,l=(1-e)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-l:l)+"px"}}var h=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return function(n,t){function e(){this.constructor=n}s(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var n=this.props,t=n.value,e=n.minValue,o=n.maxValue;return(Math.min(Math.max(t,e),o)-e)/(o-e)},t.prototype.render=function(){var n=this.props,t=n.circleRatio,e=n.className,o=n.classes,i=n.counterClockwise,l=n.styles,r=n.strokeWidth,a=n.text,d=this.getPathRadius(),c=this.getPathRatio();return(0,u.createElement)("svg",{className:o.root+" "+e,style:l.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,u.createElement)("circle",{className:o.background,style:l.background,cx:50,cy:50,r:50}):null,(0,u.createElement)(v,{className:o.trail,counterClockwise:i,dashRatio:t,pathRadius:d,strokeWidth:r,style:l.trail}),(0,u.createElement)(v,{className:o.path,counterClockwise:i,dashRatio:c*t,pathRadius:d,strokeWidth:r,style:l.path}),a?(0,u.createElement)("text",{className:o.text,style:l.text,x:50,y:50},a):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(u.Component);var m,x,g,Z,b,C,y,j,w,k,P,D,N,E,T,S,_,M,R,O,F,W,z,L,Y,I,A,G=e(80184),U=d.ZP.span(m||(m=(0,o.Z)(["\n    width: 80px !important;\n    height: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),B=d.ZP.span(x||(x=(0,o.Z)(["\n    font-size: 30px;\n    font-weight: 600;\n"]))),V=d.ZP.span(g||(g=(0,o.Z)(["\n    font-size: 14px;\n    font-weight: 300;\n"]))),q=d.ZP.div(Z||(Z=(0,o.Z)(["\n    display: flex;\n    justify-content: flex-start;\n    flex-direction: column;\n    color: ",";\n"])),(function(n){return n.color})),H=d.ZP.div(b||(b=(0,o.Z)(["\n    position: relative;\n    width: 100%;\n    min-height: 120px;\n    background-color: #fff;\n    border-radius: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 5px 20px;\n    cursor: pointer;\n\n"]))),K=function(n){var t=n.course,e=n.comeCount,o=n.allCount;return(0,G.jsxs)(H,{children:[(0,G.jsxs)(q,{color:1===t?c.Lr:2===t?"#FD8539":3===t?"#2ED480":"#FE6D8E",children:[(0,G.jsxs)(V,{children:["Course - ",t]}),(0,G.jsx)(B,{children:e}),(0,G.jsx)(B,{children:o})]}),e&&o&&(0,G.jsx)(U,{children:(0,G.jsx)(h,{value:Math.ceil(e/o*100),text:"".concat(Math.ceil(e/o*100),"%"),styles:{pathTransition:"none",path:{stroke:1===t?c.Lr:2===t?"#FD8539":3===t?"#2ED480":"#FE6D8E",strokeWidth:"20px",transformOrigin:"center center",filter:"drop-shadow(2px 4px 6px ".concat(1===t?c.Lr:2===t?"#FD8539":3===t?"#2ED480":"#FE6D8E",")")},root:{width:"4rem",overflow:"visible"},text:{fill:"".concat(1===t?c.Lr:2===t?"#FD8539":3===t?"#2ED480":"#FE6D8E"),fontSize:"20px"},trail:{strokeWidth:"24px",transformOrigin:"center center",stroke:"#F2F6FC"}}})})]})},J=e(93433),Q=e(1413),X=e(45987),$=e(55294),nn=e(59434),tn=e(72426),en=e.n(tn),on=e(64554),ln=e(58406),rn=e(68096),an=e(30829),un=e(84638),dn=e(56355),cn=e(20068),sn=e(95173),vn=e(47047),pn=e(39124),fn=e(43896),hn=e(90177),mn=e(77159),xn=e(34045),gn=e(24518),Zn=["children","value","index"],bn=d.ZP.div(C||(C=(0,o.Z)(["\n    display: flex;\n    justify-content: end;\n    margin-bottom: 20px;\n"]))),Cn=d.ZP.div(y||(y=(0,o.Z)(["\n    margin: 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 30px;\n    height: 30px;\n    background-color: red;\n    color: white;\n    border-radius: 50%;\n"]))),yn=d.ZP.div(j||(j=(0,o.Z)(["\n    h6 {\n        font-size: 11px;\n        font-weight: bold;\n        color: #000000;\n    }\n\n    p {\n        font-size: 10px;\n        font-weight: normal;\n        color: silver;\n    }\n\n"]))),jn=d.ZP.div(w||(w=(0,o.Z)(["\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin: 0 auto;\n\n"]))),wn=d.ZP.div(k||(k=(0,o.Z)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 0.2fr 1fr 0.2fr;\n    align-items: center;\n    gap: 5px;\n\n"]))),kn=d.ZP.div(P||(P=(0,o.Z)(["\n    margin-top: 20px;\n\n    h5 {\n        text-align: center;\n    }\n"]))),Pn=d.ZP.p(D||(D=(0,o.Z)(["\n    font-size: 15px;\n    font-weight: bold;\n    color: ",";\n"])),(function(n){return n.cl})),Dn=d.ZP.div(N||(N=(0,o.Z)(["\n    border-radius: 8px;\n    background-color: #fff;\n    padding: 10px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n"]))),Nn=d.ZP.div(E||(E=(0,o.Z)(["\n    font-size: 13px;\n    width: 200px !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    border-radius: 8px !important;;\n    color: ",";\n    padding: 5px 20px !important;\n    height: 42px !important;\n    margin: 5px !important;\n    box-shadow: rgba(0, 0, 0, 0.1) 0 4px 12px;\n\n    &:hover {\n        color: #ffffff !important;\n        background-color: #5093f1 !important;\n    }\n\n    &.Mui-selected {\n        color: #ffffff !important;\n        background-color: #5093f1 !important;\n    }\n"])),c.Lr),En=d.ZP.div(T||(T=(0,o.Z)(["\n    width: ",";\n    height: 100%;\n    background-color: ",";\n"])),(function(n){return n.width}),(function(n){return n.bgcolor})),Tn=d.ZP.div(S||(S=(0,o.Z)(["\n    display: flex;\n    width: 100%;\n    overflow: hidden;\n    height: 8.5px;\n    border-radius: 5px;\n"]))),Sn=d.ZP.h6(_||(_=(0,o.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    color: ",";\n"])),(function(n){return n.color})),_n=d.ZP.div(M||(M=(0,o.Z)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n"]))),Mn=d.ZP.h6(R||(R=(0,o.Z)(["\n    font-size: 14px;\n"]))),Rn=d.ZP.div(O||(O=(0,o.Z)(["\n    width: 100%;\n"]))),On=d.ZP.div(F||(F=(0,o.Z)(["\n    width: 100%;\n    padding: 10px;\n    background-color: #fff;\n    display: flex;\n    align-items: center;\n    margin: 0 auto;\n    gap: 10px;\n    border-radius: 5px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    cursor: pointer;\n    transition: 0.06s;\n\n    &:hover {\n        transform: scale(1.05);\n    }\n"]))),Fn=d.ZP.div(W||(W=(0,o.Z)(["\n    width: 100%;\n    min-width: 300px;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    gap: 40px;\n    margin-bottom: 40px;\n    ","\n    ","\n"])),(0,sn.yG)({gridTemplateColumns:"auto auto"}),(0,sn.qD)({gridTemplateColumns:"auto"})),Wn=d.ZP.div(z||(z=(0,o.Z)(["\n    width: 100%;\n    min-width: 300px;\n    display: grid;\n    grid-template-columns: auto auto auto auto;\n    gap: 40px;\n    ","\n    ","\n"])),(0,sn.yG)({gridTemplateColumns:"auto auto"}),(0,sn.qD)({gridTemplateColumns:"auto"})),zn=d.ZP.div(L||(L=(0,o.Z)(["\n    width: 100%;\n    margin-top: 10px;\n    color: ",";\n"])),c.Lr),Ln=function(){var n=(0,u.useState)([]),t=(0,l.Z)(n,2),e=t[0],o=t[1],i=(0,nn.v9)((function(n){var t;return null===n||void 0===n||null===(t=n.dekanat)||void 0===t?void 0:t.dekanat})),r=(0,nn.v9)((function(n){var t;return null===n||void 0===n||null===(t=n.educationYear)||void 0===t?void 0:t.educationYear})),a=(0,c.wU)().headers,d=(0,u.useState)([]),s=(0,l.Z)(d,2),v=s[0],p=s[1],f=(0,u.useState)(0),h=(0,l.Z)(f,2),m=h[0],x=h[1],g=(0,u.useState)(!0),Z=(0,l.Z)(g,2),b=Z[0],C=Z[1],y=function(n){E(n.target.value)};function j(n,t){return n&&t?Math.ceil(100*t/n):0}function w(n){var t=n.children,e=n.value,o=n.index,i=(0,X.Z)(n,Zn);return(0,G.jsx)("div",(0,Q.Z)((0,Q.Z)({role:"tabpanel",hidden:e!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},i),{},{children:e===o&&(0,G.jsx)(on.Z,{sx:{p:0},children:(0,G.jsx)("div",{children:t})})}))}(0,u.useEffect)((function(){$.Z.get(c._n+c.rK.GET_GROUP_STATISTICS+"?endTime=".concat(en()(new Date).format("yyyy.MM.DD")," 23%3A59&&startTime=").concat(en()(new Date).format("yyyy.MM.DD")," 00%3A00"),{headers:a}).then((function(n){var t;p(null===(t=n.data)||void 0===t?void 0:t.reduce((function(n,t){var e=t.name,o=t.allCount,i=t.comeCount,l=t.level,r=e.split("-")[0],a=n.find((function(n){return n.title===r}));return a?a.groups.push({name:e,allCount:o,comeCount:i,level:l}):n.push({title:r,groups:[{name:e,allCount:o,comeCount:i,level:l}]}),n}),[]))})).catch((function(n){console.log(n)}))}),[]);var k=[5,10,20,30,40,50],P=(0,u.useState)(k[0]),D=(0,l.Z)(P,2),N=D[0],E=D[1],T=[1,2,3,4,5],S=(0,u.useState)({date:new Date,dateFrom:en()().startOf("isoWeek").toDate(),dateTo:en()().endOf("isoWeek").toDate(),weekNumber:en()().isoWeek(),weekDay:en()().day()}),_=(0,l.Z)(S,2),M=_[0],R=(_[1],(0,u.useState)([])),O=(0,l.Z)(R,2),F=O[0],W=O[1],z=(0,u.useState)([]),L=(0,l.Z)(z,2),Y=L[0],I=L[1];(0,u.useEffect)((function(){var n,t,e,l,a,u;o([]),C(!0),(null===v||void 0===v?void 0:v.length)>0&&i&&r&&$.Z.get("".concat(c._n,"/timeTableByWeekOfYear/studentStatisticsWithWeekOfEduYear/").concat(null===r||void 0===r?void 0:r.id,"?facultyId=").concat(null===i||void 0===i||null===(n=i.faculties)||void 0===n||null===(t=n.find((function(n){var t,e;return(null===n||void 0===n?void 0:n.shortName)===(null===v||void 0===v||null===(t=v[m])||void 0===t||null===(e=t.title)||void 0===e?void 0:e.substring(0,3))})))||void 0===t?void 0:t.id,"&facultyShortName=").concat(null===i||void 0===i||null===(e=i.faculties)||void 0===e||null===(l=e.find((function(n){var t,e;return(null===n||void 0===n?void 0:n.shortName)===(null===v||void 0===v||null===(t=v[m])||void 0===t||null===(e=t.title)||void 0===e?void 0:e.substring(0,3))})))||void 0===l?void 0:l.shortName,"&eduType=").concat(null===i||void 0===i||null===(a=i.eduType)||void 0===a?void 0:a.name,"&eduTypeId=").concat(null===i||void 0===i||null===(u=i.eduType)||void 0===u?void 0:u.id)).then((function(n){var t,e,i,l,r,a;W(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(e=t.obj)||void 0===e?void 0:e.map((function(n){var t=[];return null===n||void 0===n||n.map((function(n){T.map((function(e){var o,i,l,r;(null===n||void 0===n?void 0:n.sortNumber)===(null===M||void 0===M?void 0:M.weekNumber)?e<=(null===M||void 0===M?void 0:M.weekDay)&&t.push(null===n||void 0===n||null===(o=n[e])||void 0===o||null===(i=o.statistics)||void 0===i?void 0:i.map((function(t){return(0,Q.Z)((0,Q.Z)({},t),{},{day:e,week:null===n||void 0===n?void 0:n.sortNumber})}))):t.push(null===n||void 0===n||null===(l=n[e])||void 0===l||null===(r=l.statistics)||void 0===r?void 0:r.map((function(t){return(0,Q.Z)((0,Q.Z)({},t),{},{day:e,week:null===n||void 0===n?void 0:n.sortNumber})})))}))})),Object.values((null===t||void 0===t?void 0:t.flat()).reduce((function(n,t){var e=null===t||void 0===t?void 0:t.fullName;return n[e]?n[e].push(t):n[e]=[t],n}),{}))}))),I(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.secondObj)||void 0===l?void 0:l.map((function(n){return null===n||void 0===n?void 0:n.map((function(n){return(0,Q.Z)((0,Q.Z)({},n),{},{count:Object.values((t=null===n||void 0===n?void 0:n.count,t.reduce((function(n,t){var e=t;return n[e]?n[e].push(t):n[e]=[t],n}),{})))});var t}))}))),null===n||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.obj)||void 0===a||a.map((function(n){n.map((function(n){(null===n||void 0===n?void 0:n.sortNumber)===(null===M||void 0===M?void 0:M.weekNumber)?T.map((function(t){t<=(null===M||void 0===M?void 0:M.weekDay)&&o((function(e){var o;return[].concat((0,J.Z)(e),(0,J.Z)(null===n||void 0===n||null===(o=n[t])||void 0===o?void 0:o.statistics))}))})):T.map((function(t){o((function(e){var o;return[].concat((0,J.Z)(e),(0,J.Z)(null===n||void 0===n||null===(o=n[t])||void 0===o?void 0:o.statistics))}))}))}))})),C(!1)})).catch((function(n){C(!1),console.log(n)}))}),[r,m,v]),(0,u.useEffect)((function(){console.log(Object.values(e.reduce((function(n,t){var e=null===t||void 0===t?void 0:t.level;return n[e]?n[e].push(t):n[e]=[t],n}),{})))}),[m]);return(0,G.jsxs)(zn,{id:"chart",children:[(0,G.jsx)("div",{className:"dekantabs",children:(0,G.jsx)(pn.Z,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,value:m,onChange:function(n,t){x(t)},indicatorColor:"","aria-label":"basic tabs example",children:null===v||void 0===v?void 0:v.map((function(n,t){return(0,G.jsx)(fn.Z,(0,Q.Z)({component:Nn,label:null===n||void 0===n?void 0:n.title},{id:"simple-tab-".concat(e=t),"aria-controls":"simple-tabpanel-".concat(e)}),t);var e}))})}),null===v||void 0===v?void 0:v.map((function(n,t){var e,o;return(0,G.jsxs)(w,{value:m,index:t,children:[(0,G.jsx)(bn,{children:(0,G.jsxs)(rn.Z,{sx:{minWidth:100},size:"small",children:[(0,G.jsx)(an.Z,{id:"select-label",children:"Size"}),(0,G.jsx)(ln.Z,{labelId:"select-label",id:"select-small-size",value:N,label:"Size",onChange:y,children:k.map((function(n,t){return(0,G.jsx)(un.Z,{value:n,children:n},t)}))})]})}),(0,G.jsxs)(Fn,{children:[b&&Array.from({length:4}).map((function(n,t){return(0,G.jsxs)(Dn,{children:[(0,G.jsxs)(Pn,{cl:0===t&&"".concat(c.Lr)||1===t&&"#FD8539"||2===t&&"#2ED480"||3===t&&"#FE6D8E",children:[t+1,"-Course"]}),(0,G.jsx)(kn,{children:(0,G.jsxs)(on.Z,{sx:{width:"100%"},children:[(0,G.jsx)(vn.Z,{}),(0,G.jsx)(vn.Z,{animation:"wave"}),(0,G.jsx)(vn.Z,{animation:!1})]})})]},t)})),!b&&(null===F||void 0===F?void 0:F.map((function(n,t){var e,o,i;return(0,G.jsxs)(Dn,{children:[(0,G.jsxs)(Pn,{cl:0===t&&"".concat(c.Lr)||1===t&&"#FD8539"||2===t&&"#2ED480"||3===t&&"#FE6D8E",children:[t+1,"-Course"]}),(0,G.jsx)(kn,{children:n.length>0?null===n||void 0===n||null===(e=n.sort((function(n,t){return(null===n||void 0===n?void 0:n.length)<(null===t||void 0===t?void 0:t.length)?1:(null===n||void 0===n?void 0:n.length)>(null===t||void 0===t?void 0:t.length)?-1:0})))||void 0===e||null===(o=e.map((function(n,e){var o=0;return null===n||void 0===n||n.map((function(n){var e,i,l,r,a,u,d,c,s=en()().isoWeek(),v=en()().format("DD");s>n.week&&Number(v)>n.day&&(null!==Y&&void 0!==Y&&null!==(e=Y[t])&&void 0!==e&&null!==(i=e.find((function(t){return(null===t||void 0===t?void 0:t.week)===(null===n||void 0===n?void 0:n.week)&&t.groupName===(null===n||void 0===n?void 0:n.groupName)})))&&void 0!==i&&null!==(l=i.count)&&void 0!==l&&null!==(r=l[(null===n||void 0===n?void 0:n.day)-1])&&void 0!==r&&r.length&&(o+=null===Y||void 0===Y||null===(a=Y[t])||void 0===a||null===(u=a.find((function(t){return(null===t||void 0===t?void 0:t.week)===(null===n||void 0===n?void 0:n.week)&&(null===t||void 0===t?void 0:t.groupName)===(null===n||void 0===n?void 0:n.groupName)})))||void 0===u||null===(d=u.count)||void 0===d||null===(c=d[(null===n||void 0===n?void 0:n.day)-1])||void 0===c?void 0:c.length))})),(0,Q.Z)((0,Q.Z)({},n),{},{counter:o})})))||void 0===o||null===(i=o.sort((function(n,t){return(null===n||void 0===n?void 0:n.counter)<(null===t||void 0===t?void 0:t.counter)?1:(null===n||void 0===n?void 0:n.counter)>(null===t||void 0===t?void 0:t.counter)?-1:0})))||void 0===i?void 0:i.map((function(n,t){var e,o;return t<N&&(0,G.jsxs)(wn,{children:[(0,G.jsx)(jn,{children:(0,G.jsx)("img",{style:{width:"100%"},src:null!==n&&void 0!==n&&n.avatarimg?null===n||void 0===n?void 0:n.avatarimg:hn,alt:"avatar"})}),(0,G.jsxs)(yn,{children:[(0,G.jsx)("h6",{children:null===n||void 0===n||null===(e=n[0])||void 0===e?void 0:e.fullName}),(0,G.jsx)("p",{children:null===n||void 0===n||null===(o=n[0])||void 0===o?void 0:o.groupName})]}),(0,G.jsx)(Cn,{children:null===n||void 0===n?void 0:n.counter})]},t)})):(0,G.jsx)(on.Z,{children:(0,G.jsx)(mn.Z,{w:150,h:130})})})]},t)})))]}),(0,G.jsx)(Wn,{children:null===(e=n.groups)||void 0===e||null===(o=e.sort((function(n,t){var e=n.name.toUpperCase(),o=t.name.toUpperCase();return e<o?-1:e>o?1:0})))||void 0===o?void 0:o.map((function(n,t){return(0,G.jsx)(On,{children:(0,G.jsxs)(Rn,{children:[(0,G.jsxs)(Mn,{children:[(0,G.jsx)(dn.ArU,{})," ",n.name]}),(0,G.jsxs)(_n,{children:[(0,G.jsx)(Sn,{color:"#9cd365",children:n.allCount}),(0,G.jsxs)(Sn,{color:c.Lr,children:[j(n.allCount,n.comeCount),"%"]})]}),(0,G.jsxs)(Tn,{children:[(0,G.jsx)(cn.Z,{title:"kelgan:".concat(n.comeCount),children:(0,G.jsx)(En,{bgcolor:c.Lr,width:"".concat(j(n.allCount,n.comeCount),"%")})}),(0,G.jsx)(cn.Z,{title:"kelmagan:".concat(n.allCount-n.comeCount),children:(0,G.jsx)(En,{bgcolor:"red",width:"".concat((e=j(n.allCount,n.comeCount),100-e),"%")})})]})]})},t);var e}))}),(0,G.jsx)(on.Z,{display:"flex",justifyContent:"end",marginY:2,children:(0,G.jsx)(gn.Z,{variant:"contained",onClick:function(){return function(n){if(n&&0!==n.length){var t=n.sort((function(n,t){return n.name.toUpperCase().localeCompare(t.name.toUpperCase())})),e=[["\u2116","Group Name","All Students","Students Came","Percent","Level","".concat(en()().format("DD.MM.YYYY HH:mm"))]].concat((0,J.Z)(t.map((function(n,t){return[t+1,n.name,n.allCount,n.comeCount||0,j(n.allCount,n.comeCount||0),n.level]})))),o=xn.P6.book_new(),i=xn.P6.aoa_to_sheet(e);xn.P6.book_append_sheet(o,i,"GroupData");var l="".concat(t[0].name.substring(0,t[0].name.indexOf("-")),"-groups.xlsx");xn.NC(o,l)}else console.error("No data to export.")}(n.groups)},children:"export to excel"})})]},t)}))]})},Yn=d.ZP.div(Y||(Y=(0,o.Z)(["\n  min-height: 360px;\n  width: 100%;\n  border-radius: 10px;\n  margin-top: 15px!important;\n  padding: 10px!important;\n  background-color: #fff; \n  color: ",";\n"])),c.Lr),In=function(n){n.allComeCount;return(0,G.jsx)(Yn,{children:(0,G.jsx)(Ln,{})})},An=e(76760),Gn=d.ZP.div(I||(I=(0,o.Z)(["\n  margin: 10px 0 10px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 30px;\n  ","\n  ","\n  ","\n  ","\n\n"])),(0,sn.bH)({gridTemplateColumns:" repeat(3, 1fr)"}),(0,sn.IV)({gridTemplateColumns:" repeat(2, 1fr)"}),(0,sn.yG)({gridTemplateColumns:" repeat(2, 1fr)"}),(0,sn.qD)({gridTemplateColumns:" repeat(1, 1fr)",gap:"20px"})),Un=d.ZP.div(A||(A=(0,o.Z)(["\n  width: 100%;\n  padding: 1rem;\n"]))),Bn=function(){var n=(0,u.useState)([]),t=(0,l.Z)(n,2),e=t[0],o=t[1],r=(0,u.useState)(0),d=(0,l.Z)(r,2),s=d[0],v=d[1],p=(0,nn.I0)(),f=(0,u.useState)(!1),h=(0,l.Z)(f,2),m=h[0],x=h[1],g=(0,c.wU)().headers;(0,u.useEffect)((function(){Z(),v(0),$.Z.get(c._n+c.rK.GET+"?endTime=".concat(en()(new Date).format("yyyy.MM.DD")," 23:59&startTime=").concat(en()(new Date).format("yyyy.MM.DD")," 00:00"),{headers:g}).then((function(n){var t,e,i,l,r,a,u,d,c=[],s=0,p=0;null===(t=n.data)||void 0===t||null===(e=t.filter((function(n){return 1===n.level})))||void 0===e||e.map((function(n){s+=Number(n.comeCount),p+=Number(n.allCount)})),c.push({level:1,comeCount:s,allCount:p});var f=0,h=0;null===(i=n.data)||void 0===i||null===(l=i.filter((function(n){return 2===n.level})))||void 0===l||l.map((function(n){f+=Number(n.comeCount),h+=Number(n.allCount)})),c.push({level:2,comeCount:f,allCount:h});var m=0,g=0;null===(r=n.data)||void 0===r||null===(a=r.filter((function(n){return 3===n.level})))||void 0===a||a.map((function(n){m+=Number(n.comeCount),g+=Number(n.allCount)})),c.push({level:3,comeCount:m,allCount:g});var Z=0,b=0;null===(u=n.data)||void 0===u||null===(d=u.filter((function(n){return 4===n.level})))||void 0===d||d.map((function(n){Z+=Number(n.comeCount),b+=Number(n.allCount)})),c.push({level:4,comeCount:Z,allCount:b}),o(c),4===(null===c||void 0===c?void 0:c.length)&&x(!0),v(0),n.data.map((function(n){null!==n.comeCount&&v((function(t){return t+parseInt(n.comeCount)}))}))})).catch((function(n){console.log(n,"Error"),x(!0)}))}),[]);var Z=function(){var n=(0,i.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.Z.get(c._n+"/education/educationYearsForSelected",{headers:g}).then((function(n){var t,e;p((0,An.eD)(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(e=t.obj)||void 0===e?void 0:e[0]))})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,G.jsxs)(Un,{children:[!0===m?(0,G.jsx)(Gn,{children:e&&(null===e||void 0===e?void 0:e.map((function(n){return(0,G.jsx)(K,{course:n.level,comeCount:n.comeCount,allCount:n.allCount},n.level)})))}):(0,G.jsx)(Gn,{children:Array.from({length:4}).map((function(n){return(0,G.jsx)(on.Z,{sx:{height:"150px"},children:(0,G.jsx)(vn.Z,{sx:{transform:"scale(1)",height:"150px"}})},n)}))}),(0,G.jsx)(In,{allComeCount:s})]})}}}]);
//# sourceMappingURL=3710.a8fb877b.chunk.js.map