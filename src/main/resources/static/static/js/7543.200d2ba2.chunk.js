"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[7543],{27543:function(n,e,i){i.r(e);var t,o,l,a,d,r,s,u,c,f=i(30168),p=i(29439),v=i(72791),x=i(17939),h=i(27301),m=i(16871),g=i(30456),Z=i(59434),y=i(55294),j=i(56355),b=i(88447),k=i(64554),S=i(17425),w=i(34197),C=i(696),E=i(99264),T=i(56253),P=i(69548),R=i(37824),_=i(95173),z=i(47047),L=i(6847),N=i(80184),I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},K=(0,x.ZP)(T.E.button)(t||(t=(0,f.Z)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"])),h.Lr),O=x.ZP.div(o||(o=(0,f.Z)(["\n    align-self: flex-end;\n    color: ",";\n    display: flex;\n\n"])),(function(n){return n.color?"lime":"red"})),D=x.ZP.div(l||(l=(0,f.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    font-size: 30px;\n    font-weight: 200;\n"]))),F=x.ZP.span(a||(a=(0,f.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 16px;\n    font-weight: 500;\n"]))),A=x.ZP.span(d||(d=(0,f.Z)(["\n    margin-top: -35px;\n    width: 55px;\n    height: 55px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 30px;\n    background: #deedf4;\n    border-radius: 15%;\n"]))),B=x.ZP.span(r||(r=(0,f.Z)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    font-size: 24px;\n"]))),H=x.ZP.div(s||(s=(0,f.Z)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n    padding: 5px 15px !important;\n    margin-top: 10px !important;\n"]))),M=(0,x.ZP)(T.E.div)(u||(u=(0,f.Z)(["\n    height: 150px;\n    width: 100%;\n    display: flex;\n    background-color: #fff;\n    border-radius: 10px;\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 2px 3px 5px 1px rgba(81, 159, 219, 0.43);\n    }\n"])),h.Lr),Q=(0,x.ZP)(T.E.div)(c||(c=(0,f.Z)(["\n    margin: 30px 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 40px;\n    padding: 10px 0 !important;\n\n    ","\n    ","\n    ","\n    ","\n    ","\n"])),(0,_.sp)({gridTemplateColumns:"repeat(3,1fr)"}),(0,_.bH)({gridTemplateColumns:"repeat(3,1fr)"}),(0,_.IV)({gridTemplateColumns:"repeat(2,1fr)"}),(0,_.yG)({gridTemplateColumns:"repeat(2,1fr)"}),(0,_.qD)({gridTemplateColumns:"repeat(1,1fr)"}));e.default=function(n){var e,i,t,o,l,a=n.s,d=(0,m.s0)();(0,v.useEffect)((function(){var n,e,i=localStorage.getItem(h.o3),t=(0,g.Z)(i),o=null===t||void 0===t||null===(n=t.roles.find((function(n){return"ROLE_REKTOR"===n.roleName})))||void 0===n?void 0:n.roleName,l=null===t||void 0===t||null===(e=t.roles.find((function(n){return"Kengash raisi"===n.roleName})))||void 0===e?void 0:e.roleName;"ROLE_REKTOR"!==o&&"Kengash raisi"!==l&&d("/login")}),[]);var r=(0,v.useState)([]),s=(0,p.Z)(r,2),u=s[0],c=s[1],f=(0,v.useState)(""),x=(0,p.Z)(f,2),_=x[0],U=x[1],q=(0,v.useState)(!1),G=(0,p.Z)(q,2),V=G[0],$=G[1],J=(0,v.useState)(!1),W=(0,p.Z)(J,2),X=W[0],Y=W[1];(0,v.useEffect)((function(){$(!0),y.Z.get(h._n+"/user/rektorStaff?s=".concat(a),{headers:en}).then((function(n){c(null===n||void 0===n?void 0:n.data)})).catch((function(n){console.log(n)})).finally((function(){$(!1)}))}),[a]);var nn=(0,Z.I0)(),en=(0,h.wU)().headers,tn=function(){Y(!1)},on=(0,Z.v9)((function(n){return null===n||void 0===n?void 0:n.rektorStaffs})),ln={visible:function(n){return{scale:1,transition:{delay:.1*n}}},hidden:{scale:0}};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Q,{children:V?Array.from({length:5}).map((function(n,e){return(0,N.jsx)(z.Z,{sx:{transform:"scale(1,1)"},height:180},e)})):null===u||void 0===u?void 0:u.map((function(n,e){var i,t,o,l;return(0,N.jsx)(M,{onClick:function(){return e=n.id,i=n.name,U(i),Y(!0),nn((0,P.FC)("loading")),void y.Z.get(h._n+"/user/getSectionStaffDataForRektorBySectionId?id=".concat(e,"&s=").concat(a),{headers:en}).then((function(n){var e;nn((0,R.Qp)(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj)),console.log(null===n||void 0===n?void 0:n.data,"'''''''''''  ''''''''''''")})).catch((function(n){console.log(n)}));var e,i},custom:e,animate:"visible",variants:ln,initial:"hidden",children:(0,N.jsxs)(H,{children:[(0,N.jsxs)(B,{children:[(0,N.jsx)(A,{children:(0,N.jsx)(j.$yZ,{})}),(0,N.jsx)(O,{color:null!==(null===n||void 0===n?void 0:n.data)&&null!==(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.comeCount),children:null===(null===n||void 0===n?void 0:n.data)||null===(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.comeCount)?0:null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.comeCount})]}),(0,N.jsx)("hr",{}),(0,N.jsxs)(F,{children:[(0,N.jsx)("span",{style:{fontSize:"14px"},children:null===n||void 0===n?void 0:n.name}),(0,N.jsx)(D,{children:null===(null===n||void 0===n?void 0:n.data)?0:null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.allCount})]})]})},n.id)}))}),!V&&(0,N.jsx)(k.Z,{display:"flex",justifyContent:"end",sx:{width:"100%",my:3},children:(0,N.jsx)(L.Z,{direction:"Data_".concat(a?"staff":"deans"),dataToExcel:u})}),(0,N.jsx)(E.M,{children:X&&(0,N.jsx)(b.Z,{open:X,onClose:tn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:T.E.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,N.jsxs)(k.Z,{sx:I,children:[(0,N.jsx)(K,{onClick:tn,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,N.jsx)(S.eSQ,{})}),(0,N.jsx)("h2",{style:{textAlign:"center",color:h.Lr,marginBottom:"10px"},children:_}),"loading"===(null===on||void 0===on?void 0:on.rektorStaffsLoadingStatus)?(0,N.jsx)(w.Z,{}):(0,N.jsx)(C.Z,{colName:"Staffs",isTeacherUrl:!1,kafedraMudiri:null===on||void 0===on||null===(e=on.rektorStaffs)||void 0===e?void 0:e.boss,all:null===on||void 0===on||null===(i=on.rektorStaffs)||void 0===i?void 0:i.allStaffs,come:null===on||void 0===on||null===(t=on.rektorStaffs)||void 0===t?void 0:t.comeStaff,noCome:null===on||void 0===on||null===(o=on.rektorStaffs)||void 0===o?void 0:o.noComeStaff,facultyName:_,kafedraId:null===on||void 0===on||null===(l=on.rektorStaffs)||void 0===l?void 0:l.id})]})})})]})}}}]);
//# sourceMappingURL=7543.200d2ba2.chunk.js.map