"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[479],{70479:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var i,l=n(30168),o=n(1413),u=n(29439),a=n(72791),d=n(24518),r=n(64554),s=n(16871),c=n(39126),v=n(57621),f=n(39504),m=n(89704),h=n(58766),p=n(55294),g=n(27301),j=n(91239),x=n(17939),w=n(93433),Z=n(30829),C=n(84638),N=n(68096),b=n(58406),k=n(59434),y=n(80184),D=function(e){var t,n=e.data,i=e.setFilteredGroups,l=null!==(t=(0,k.v9)((function(e){var t,n;return null===(t=e.dekanat)||void 0===t||null===(n=t.dekanat)||void 0===n?void 0:n.faculties})))&&void 0!==t?t:[],o=(0,w.Z)(l).sort((function(e,t){var n;return null===e||void 0===e||null===(n=e.shortName)||void 0===n?void 0:n.localeCompare(null===t||void 0===t?void 0:t.shortName)})),d=(0,a.useState)(""),r=(0,u.Z)(d,2),s=r[0],c=r[1];return(0,y.jsx)("div",{children:(0,y.jsxs)(N.Z,{sx:{m:2,minWidth:150},children:[(0,y.jsx)(Z.Z,{id:"demo-simple-select-autowidth-label",children:"Group"}),(0,y.jsxs)(b.Z,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:s,onChange:function(e){var t=e.target.value;c(t);var l,o,u=(o=n,""===(l=t)?[]:o.filter((function(e){return e.groupName.toLowerCase().includes(l.toLowerCase())})));i(u)},autoWidth:!0,size:"large",label:"Group",children:[(0,y.jsx)(C.Z,{value:"",children:(0,y.jsx)("em",{children:"All"})}),o.map((function(e){return(0,y.jsx)(C.Z,{value:null===e||void 0===e?void 0:e.shortName,children:null===e||void 0===e?void 0:e.shortName},null===e||void 0===e?void 0:e.id)}))]})]})})},Q=(0,a.memo)(D),S=function(){var e=(0,s.s0)(),t=(0,a.useState)(!1),n=(0,u.Z)(t,2),i=n[0],l=n[1],x=[{field:"studentQueue",headerName:"Document number",sortable:!0,width:150,align:"center",justifyContent:"center"},{minWidth:300,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center"},{minWidth:80,flex:.2,field:"level",headerName:"Course",sortable:!0,align:"center",justifyContent:"center"},{minWidth:100,flex:.5,field:"groupName",headerName:"Group",sortable:!0,align:"center",justifyContent:"center"},{flex:.3,field:"file",headerName:"File",sortable:!0,align:"center",renderCell:function(e){var t,n,i,l,o,u,a,d,r,s={studentQueue:null===(t=e.row)||void 0===t?void 0:t.studentQueue,updateAt:null===(n=e.row)||void 0===n?void 0:n.createdAt,educationYear:null===(i=e.row)||void 0===i?void 0:i.educationYear,fromDate:null===(l=e.row)||void 0===l?void 0:l.fromDate,toDate:null===(o=e.row)||void 0===o?void 0:o.toDate},c={fullName:null===(u=e.row)||void 0===u?void 0:u.fullName,groupData:{facultyName:null===(a=e.row)||void 0===a?void 0:a.direction,level:null===(d=e.row)||void 0===d?void 0:d.level,name:null===(r=e.row)||void 0===r?void 0:r.groupName}};return(0,y.jsx)(j.Z,{noticeData:s,studentData:c})}}],w=(0,g.wU)().headers,Z=(0,a.useState)([]),C=(0,u.Z)(Z,2),N=C[0],b=C[1],k=(0,a.useState)([]),D=(0,u.Z)(k,2),S=D[0],A=D[1];(0,a.useEffect)((function(){l(!0),p.Z.get(g._n+"/notificationOuter/getAllCounters",{headers:w}).then((function(e){var t,n;console.log(e.data),b(null===(t=e.data.obj)||void 0===t||null===(n=t.sort((function(e,t){return(null===e||void 0===e?void 0:e.studentQueue)<(null===t||void 0===t?void 0:t.studentQueue)?-1:(null===e||void 0===e?void 0:e.studentQueue)>(null===t||void 0===t?void 0:t.studentQueue)?1:0})))||void 0===n?void 0:n.map((function(e){var t;return(0,o.Z)((0,o.Z)({},e),{},{studentQueue:null===e||void 0===e||null===(t=e.studentQueue)||void 0===t?void 0:t.toString().padStart(6,"0")})})))})).catch((function(e){console.log(e)})).finally((function(){l(!1)}))}),[]);var W,F;return(0,y.jsxs)(G,{children:[(0,y.jsx)(r.Z,{mt:3,display:"flex",justifyContent:"end",gap:5,children:(0,y.jsx)(d.Z,{variant:"outlined",startIcon:(0,y.jsx)(c.And,{}),onClick:function(){return e(-1)},children:"back"})}),(0,y.jsx)(v.Z,{sx:{mt:2},children:(0,y.jsxs)(f.Z,{children:[(0,y.jsx)(Q,{data:N,setFilteredGroups:A}),(0,y.jsx)(m._,{components:{Toolbar:h.n},loading:i,columns:x,initialState:{pagination:{paginationModel:{pageSize:30}}},rowsPerPageOptions:[30,50,70,100],rows:(W=S,F=N,(0===W.length?F:W)||[]),autoHeight:!0})]})})]})},G=x.ZP.div(i||(i=(0,l.Z)(["\n    width: 100%;\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]))),A=(0,a.memo)(S)}}]);
//# sourceMappingURL=479.787fb6aa.chunk.js.map