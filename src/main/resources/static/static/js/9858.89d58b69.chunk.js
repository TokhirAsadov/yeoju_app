"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[9858],{19858:function(n,e,o){o.r(e);var l,i,t,d,r,a,c=o(30168),u=o(4942),s=o(1413),v=o(29439),h=o(72791),f=o(17939),p=o(27301),m=o(55294),g=o(23853),x=o(39126),Z=o(34197),b=o(89704),y=o(58766),j=o(88447),w=o(64554),C=o(17425),k=o(48550),S=o(56355),N=o(56253),O=o(95173),P=o(73766),A=o(94454),D=(o(17402),o(98937)),z=o(77907),E=o(56960),_=o(24518),H=o(57621),B=o(39504),I=o(80184),L=(0,I.jsx)(D.Z,{fontSize:"small"}),T=(0,I.jsx)(z.Z,{fontSize:"small"}),V=f.ZP.div(l||(l=(0,c.Z)(["\n  height: 80px;\n  padding-top: 10px;\n  display: grid;\n  overflow-y: scroll;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 30px;\n  ","\n  ","\n  ","\n"])),(0,O.IV)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,O.yG)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,O.qD)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),M=(0,f.ZP)(N.E.button)(i||(i=(0,c.Z)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"])),p.Lr),Q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},U=f.ZP.div(t||(t=(0,c.Z)(["\n  ","\n  ","\n  ","\n"])),(0,O.IV)({width:"97vw !important",height:"60vh !important"}),(0,O.yG)({width:"97vw !important",height:"60vh !important"}),(0,O.qD)({width:"97vw !important",height:"60vh !important"})),q=f.ZP.button(d||(d=(0,c.Z)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"])),(function(n){return n.color}),(function(n){return n.color})),F=f.ZP.div(r||(r=(0,c.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin: 5px !important;\n"]))),G=f.ZP.div(a||(a=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding:1rem;\n"])));e.default=function(){var n=(0,p.wU)().headers,e=(0,h.useState)(!1),o=(0,v.Z)(e,2),l=o[0],i=o[1],t=(0,h.useState)([]),d=(0,v.Z)(t,2),r=d[0],a=d[1],c=(0,h.useState)(null),f=(0,v.Z)(c,2),N=f[0],O=f[1],D=(0,h.useState)([]),z=(0,v.Z)(D,2),R=z[0],Y=z[1],J=(0,h.useState)(!1),K=(0,v.Z)(J,2),W=K[0],X=K[1],$=(0,h.useState)({id:null,name:null,shortName:null,schoolCode:null,school:null}),nn=(0,v.Z)($,2),en=nn[0],on=nn[1],ln=[{field:"id",headerName:"ID",width:300,editable:!1},{field:"name",headerName:"Name",type:"string",width:300,editable:!1},{field:"shortName",headerName:"Short name",type:"string",width:120,editable:!1},{field:"school",headerName:"School",type:"string",width:300,editable:!1},{field:"service",headerName:"Service",type:"string",width:100,editable:!1,renderCell:function(n){return(0,I.jsxs)(F,{children:[(0,I.jsx)(q,{color:p.Lr,onClick:function(){var e,o;return an(null===n||void 0===n||null===(e=n.row)||void 0===e?void 0:e.id,null===n||void 0===n||null===(o=n.row)||void 0===o?void 0:o.school)},children:(0,I.jsx)(g.vPQ,{})}),(0,I.jsx)(q,{color:"red",onClick:function(){var e,o;return cn(null===n||void 0===n||null===(e=n.row)||void 0===e?void 0:e.id,null===n||void 0===n||null===(o=n.row)||void 0===o?void 0:o.name)},children:(0,I.jsx)(x.yvY,{})})]})}}],tn=function(){X(!1)},dn=function(){m.Z.get(p._n+"/faculty/getDirectionsOfFaculty",{headers:n}).then((function(n){var e;a(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj),i(!1)})).catch((function(n){console.log(n)}))},rn=function(n){on((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,u.Z)({},n.target.name,n.target.value))}))};(0,h.useEffect)((function(){m.Z.get(p._n+"/school/findAll",{headers:n}).then((function(n){var e,o;Y(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(o=e.obj)||void 0===o?void 0:o.map((function(n){return{label:null===n||void 0===n?void 0:n.nameEn,value:null===n||void 0===n?void 0:n.code}})))})).catch((function(n){console.log(n)})),dn()}),[]),(0,h.useEffect)((function(){console.log(r,"change directions"),console.log(R,"schools")}),[r]),(0,h.useEffect)((function(){console.log(en,"update directions")}),[en]),(0,h.useEffect)((function(){l&&dn()}),[l]);var an=function(n,e){(null===R||void 0===R?void 0:R.length)>0&&O((function(n){return(0,s.Z)({},null===R||void 0===R?void 0:R.find((function(n){return(null===n||void 0===n?void 0:n.label)===e})))})),(null===R||void 0===R?void 0:R.length)>0&&on((function(o){var l;return(0,s.Z)((0,s.Z)({},null===r||void 0===r?void 0:r.find((function(e){return(null===e||void 0===e?void 0:e.id)===n}))),{},{schoolCode:null===R||void 0===R||null===(l=R.find((function(n){return(null===n||void 0===n?void 0:n.label)===e})))||void 0===l?void 0:l.value})})),X(!0)},cn=function(e,o){on({id:null,shortName:null,schoolCode:null,school:null}),window.confirm("Do you want to delete ".concat(o,"?"))&&(m.Z.delete("".concat(p._n,"/faculty/deleteFaculty/").concat(e),{headers:n}).then((function(n){var o;a(null===r||void 0===r?void 0:r.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e}))),E.Am.success(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})})).catch((function(n){console.log(n)})),E.Am.success("Deleted successfully",{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))};return(0,I.jsxs)(G,{children:[(0,I.jsx)(w.Z,{display:"flex",justifyContent:"end",children:(0,I.jsx)(_.Z,{sx:{width:"220px"},variant:"contained",onClick:function(){X(!0),O(null),on({id:null,name:null,shortName:null,schoolCode:null,school:null})},children:"Create new direction"})}),l&&(null===r||void 0===r?void 0:r.length)>0?(0,I.jsx)(Z.Z,{}):(0,I.jsx)(H.Z,{children:(0,I.jsx)(B.Z,{children:(0,I.jsx)(b._,{checkboxSelection:!0,sx:{minHeight:"670px!important",overflow:"scroll"},columns:ln,rows:r,components:{Toolbar:y.n},pageSize:10,initialState:(0,s.Z)((0,s.Z)({},r.initialState),{},{columns:{columnVisibilityModel:{id:!1}}})})})}),(0,I.jsx)(j.Z,{open:W,onClose:tn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,I.jsxs)(w.Z,{sx:Q,component:U,children:[(0,I.jsx)(M,{onClick:tn,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,I.jsx)(C.eSQ,{})}),(0,I.jsx)("h3",{style:{color:"".concat(p.Lr)},children:null!==(null===en||void 0===en?void 0:en.id)&&null!==en&&void 0!==en&&en.id?"Update direction":"Create new direction"}),(0,I.jsxs)(V,{children:[(0,I.jsx)(k.Z,{id:"outlined-basic",label:"Name",variant:"outlined",value:null===en||void 0===en?void 0:en.name,name:"name",onChange:rn}),(0,I.jsx)(k.Z,{id:"outlined-basic",label:"Short name",variant:"outlined",value:null===en||void 0===en?void 0:en.shortName,name:"shortName",onChange:rn}),(0,I.jsx)(P.Z,{id:"checkboxes-tags-demo",options:R,disableCloseOnSelect:!0,getOptionLabel:function(n){return null===n||void 0===n?void 0:n.label},value:N,onChange:function(n,e){console.log(e,"new value"),O(e),on((function(n){return(0,s.Z)((0,s.Z)({},n),{},{schoolCode:null===e||void 0===e?void 0:e.value})}))},renderOption:function(n,e,o){var l=o.selected;return(0,I.jsxs)("li",(0,s.Z)((0,s.Z)({},n),{},{children:[(0,I.jsx)(A.Z,{icon:L,checkedIcon:T,style:{marginRight:8},checked:l}),null===e||void 0===e?void 0:e.label]}))},renderInput:function(n){return(0,I.jsx)(k.Z,(0,s.Z)((0,s.Z)({},n),{},{label:"School",placeholder:"School"}))}})]}),(0,I.jsx)(w.Z,{sx:{display:"flex",justifyContent:"end"},children:(0,I.jsx)(_.Z,{variant:"contained",endIcon:null!==(null===en||void 0===en?void 0:en.id)&&null!==en&&void 0!==en&&en.id?(0,I.jsx)(g.vPQ,{}):(0,I.jsx)(S.TvB,{}),onClick:function(){return null!==(null===en||void 0===en?void 0:en.id)&&null!==en&&void 0!==en&&en.id?function(e){delete e.school,Object.values(e).every((function(n){return null!==n&&n}))?m.Z.post(p._n+"/faculty/saveDirection",e,{headers:n}).then((function(n){X(!1),dn(),E.Am.success("".concat(null===e||void 0===e?void 0:e.name," direction has been updated successfully!."))})).catch((function(n){var e,o;console.log(n),E.Am.error(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)})):E.Am.warning("Empty any field..")}(en):(delete(e=en).id,delete e.school,console.log(e," for save direction"),void(Object.values(e).every((function(n){return null!==n&&n}))?m.Z.post(p._n+"/faculty/saveDirection",(0,s.Z)((0,s.Z)({},e),{},{id:null}),{headers:n}).then((function(n){X(!1),O(null),dn(),E.Am.success("".concat(null===e||void 0===e?void 0:e.name," direction has been saved successfully!."))})).catch((function(n){var e,o;console.log(n),E.Am.error(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)})):E.Am.warning("Empty any field..")));var e},children:null!==(null===en||void 0===en?void 0:en.id)&&null!==en&&void 0!==en&&en.id?"Update":" Save"})})]})})]})}},77907:function(n,e,o){var l=o(64836);e.Z=void 0;var i=l(o(45649)),t=o(80184),d=(0,i.default)((0,t.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");e.Z=d},98937:function(n,e,o){var l=o(64836);e.Z=void 0;var i=l(o(45649)),t=o(80184),d=(0,i.default)((0,t.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");e.Z=d}}]);
//# sourceMappingURL=9858.89d58b69.chunk.js.map