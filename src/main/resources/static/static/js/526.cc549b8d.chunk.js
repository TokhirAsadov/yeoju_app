"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[526],{30526:function(n,e,l){l.r(e);var o,i,d,r,u,t,a,s=l(30168),c=l(15861),p=l(1413),v=l(29439),f=l(64687),g=l.n(f),x=l(72791),h=l(17939),m=l(64554),Z=l(24518),j=l(20890),y=l(88447),b=l(16856),I=l(85880),k=l(13400),w=l(98937),C=l(77907),D=l(73766),T=l(65117),L=l(94454),P=l(48550),S=l(59434),Y=l(40071),A=l(95173),O=l(16871),z=l(68096),G=l(30829),U=l(84638),F=l(58406),R=l(47071),q=l(7692),E=l(27301),_=l(56355),N=l(55294),B=l(56960),H=l(39126),V=l(80184),K=h.ZP.h1(o||(o=(0,s.Z)(["\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n        color: ",";\n        font-size: 30px;\n        font-weight: bold;\n        ","\n    }\n"])),E.Lr,(0,A.qD)({textAlign:"center",fontSize:"20px"})),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:3},Q=h.ZP.div(i||(i=(0,s.Z)(["\n    ","\n"])),(0,A.qD)({width:"95% !important"})),W=h.ZP.div(d||(d=(0,s.Z)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 20px;\n    padding: 10px;\n    ","\n    ","\n    ","\n    ","\n    ","\n"])),(0,A.sp)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,A.bH)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,A.IV)({gridTemplateColumns:"1fr 1fr "}),(0,A.yG)({gridTemplateColumns:"1fr 1fr "}),(0,A.qD)({gridTemplateColumns:"1fr "})),X=h.ZP.div(r||(r=(0,s.Z)(["\n    border: 1px solid #f1eded;\n    padding: 10px;\n    border-radius: 5px;\n    background-color: #FFFF;\n    box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n\n"]))),J=h.ZP.p(u||(u=(0,s.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    cursor: pointer;\n"])),(function(n){return n.cl||"black"}),(function(n){return n.fs}),(function(n){return n.fw||"normal"})),$=h.ZP.div(t||(t=(0,s.Z)(["\n    display: flex;\n    justify-content: end;\n"]))),nn=h.ZP.div(a||(a=(0,s.Z)(["\n    width: 100%;\n    padding: 1rem;\n"])));e.default=function(){var n,e,l,o,i,d,r,u,t,a,s,f,h,A,en,ln,on,dn,rn,un,tn=(0,O.UO)().fan,an=(0,V.jsx)(w.Z,{fontSize:"small"}),sn=(0,V.jsx)(C.Z,{fontSize:"small"}),cn=(0,S.v9)((function(n){return n.lessonsTeacherSlice})).forLessonsData,pn=(0,x.useState)(!1),vn=(0,v.Z)(pn,2),fn=vn[0],gn=vn[1],xn=(0,x.useState)([]),hn=(0,v.Z)(xn,2),mn=hn[0],Zn=hn[1],jn=(0,x.useState)(!0),yn=(0,v.Z)(jn,2),bn=yn[0],In=yn[1],kn=(0,x.useState)([]),wn=(0,v.Z)(kn,2),Cn=wn[0],Dn=wn[1],Tn=(0,x.useState)({educationYearId:null===cn||void 0===cn||null===(n=cn.educationYear)||void 0===n?void 0:n.id,eduType:null===cn||void 0===cn||null===(e=cn.groupData)||void 0===e?void 0:e.eduType,eduLang:null===cn||void 0===cn||null===(l=cn.groupData)||void 0===l?void 0:l.eduLang,subjectId:null===cn||void 0===cn||null===(o=cn.groupData)||void 0===o?void 0:o.lessonId,level:null===cn||void 0===cn||null===(i=cn.groupData)||void 0===i?void 0:i.level,groupsIds:(null===mn||void 0===mn?void 0:mn.map((function(n){return null===n||void 0===n?void 0:n.groupId})))||[]}),Ln=(0,v.Z)(Tn,2),Pn=Ln[0],Sn=Ln[1],Yn=(0,x.useState)({id:null,educationYearId:null===cn||void 0===cn||null===(d=cn.educationYear)||void 0===d?void 0:d.id,eduType:null===cn||void 0===cn||null===(r=cn.groupData)||void 0===r?void 0:r.eduType,eduLang:null===cn||void 0===cn||null===(u=cn.groupData)||void 0===u?void 0:u.eduLang,subjectId:null===cn||void 0===cn||null===(t=cn.groupData)||void 0===t?void 0:t.lessonId,level:null===cn||void 0===cn||null===(a=cn.groupData)||void 0===a?void 0:a.level,groupsIds:(null===mn||void 0===mn?void 0:mn.map((function(n){return null===n||void 0===n?void 0:n.groupId})))||[]}),An=(0,v.Z)(Yn,2),On=An[0],zn=An[1],Gn=(0,x.useState)(!0),Un=(0,v.Z)(Gn,2),Fn=Un[0],Rn=Un[1],qn=(0,O.s0)(),En=(0,E.wU)().headers,_n=[{title:"Update",icon:(0,V.jsx)(b.ZO5,{color:"#0087be"})},{title:"Delete",icon:(0,V.jsx)(b.ZkW,{color:"red"})}],Nn=null===cn||void 0===cn||null===(s=cn.allGroup)||void 0===s?void 0:s.reduce((function(n,e){return n.find((function(n){return n.groupId===e.groupId}))||n.push(e),n}),[]),Bn=x.useState(null),Hn=(0,v.Z)(Bn,2),Vn=Hn[0],Kn=Hn[1],Mn=Boolean(Vn),Qn=function(n){Kn(null),"Update"===n&&(console.log(On,"for id"),gn(!0))},Wn=function(){gn(!1),zn((function(n){return(0,p.Z)((0,p.Z)({},n),{},{id:null})}))};(0,x.useEffect)((function(){(null===mn||void 0===mn?void 0:mn.length)>0&&In(!1)}),[mn]);var Xn=function(){var n=(0,c.Z)(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N.Z.post("".concat(E._n,"/plan/createdPlan"),Pn,{headers:En}).then((function(n){console.log(n,"create plan response"),B.Am.success("created plan of subject successfully"),gn(!1),Zn([]),$n()})).catch((function(n){console.log(n,"error creating plan response")}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Jn=function(){var n=(0,c.Z)(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(On,"-----------------"),N.Z.put("".concat(E._n,"/plan/updatedPlan"),On,{headers:En}).then((function(n){console.log(n,"create plan response"),B.Am.success("created plan of subject successfully"),gn(!1),zn((function(n){return(0,p.Z)((0,p.Z)({},n),{},{id:null})})),Zn([]),$n()})).catch((function(n){console.log(n,"error creating plan response")}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),$n=function(){var n=(0,c.Z)(g().mark((function n(){var e,l,o;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.Z.get("".concat(E._n,"/plan/getExistPlans?educationYearId=").concat(null===cn||void 0===cn||null===(e=cn.educationYear)||void 0===e?void 0:e.id,"&level=").concat(null===cn||void 0===cn||null===(l=cn.groupData)||void 0===l?void 0:l.level,"&subjectId=").concat(null===cn||void 0===cn||null===(o=cn.groupData)||void 0===o?void 0:o.lessonId),{headers:En}).then((function(n){console.log(n,"get exists plans "),Dn(n.data.obj)})).catch((function(n){console.log(n,"error exists plans")}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,x.useEffect)((function(){$n()}),[]);return(0,V.jsxs)(nn,{children:[(0,V.jsxs)(K,{children:[(0,V.jsx)("p",{children:tn}),(0,V.jsx)(Z.Z,{onClick:function(){return qn(-1)},variant:"outlined",startIcon:(0,V.jsx)(q.YiX,{}),children:"Back"})]}),(0,V.jsx)(m.Z,{sx:{padding:"10px"},children:(0,V.jsx)(Z.Z,{variant:"contained",endIcon:(0,V.jsx)(b.iy3,{}),onClick:function(){return gn(!0)},children:"create group plan"})}),(0,V.jsx)(W,{children:null===Cn||void 0===Cn?void 0:Cn.map((function(n,e){return(0,V.jsx)(X,{children:(0,V.jsxs)(m.Z,{display:"flex",alignItems:"flex-start",children:[(0,V.jsxs)(m.Z,{width:"100%",children:[(0,V.jsxs)(J,{onClick:function(){return qn("".concat(n.id))},fs:"25px",fw:"bold",cl:E.Lr,children:[(0,V.jsx)(_.ArU,{})," Groups "]}),(0,V.jsx)(m.Z,{onClick:function(){return qn("".concat(n.id))},sx:{cursor:"pointer",marginTop:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"5px"},children:null===n||void 0===n?void 0:n.groups.slice(0,Fn?5:void 0).map((function(n,e){return(0,V.jsxs)("p",{style:{color:"black",margin:0,textAlign:"center"},children:[(0,V.jsx)("b",{children:e+1+"."})," ",n.groupName]},n.groupId)}))}),(0,V.jsx)(m.Z,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,V.jsx)(Z.Z,{onClick:function(){return Rn(!Fn)},children:Fn?"show more":"hidden"})})]}),(0,V.jsx)(k.Z,{"aria-label":"actions",id:"long-button","aria-controls":Mn?"long-menu":void 0,"aria-expanded":Mn?"true":void 0,"aria-haspopup":"true",onClick:function(e){return function(n,e){Kn(n.currentTarget);var l=null===Cn||void 0===Cn?void 0:Cn.find((function(n){return n.id===e}));zn((function(n){var o;return(0,p.Z)((0,p.Z)({},n),{},{id:e,eduLang:null===l||void 0===l?void 0:l.eduLang,eduType:null===l||void 0===l?void 0:l.eduType,groupsIds:null===l||void 0===l||null===(o=l.groups)||void 0===o?void 0:o.map((function(n){return n.groupId}))})}))}(e,null===n||void 0===n?void 0:n.id)},size:"small",children:(0,V.jsx)(H.FQA,{})})]})},e)}))}),(0,V.jsx)(y.Z,{open:fn,onClose:function(){return Wn()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,V.jsxs)(m.Z,{sx:M,component:Q,children:[(0,V.jsx)($,{children:(0,V.jsx)(k.Z,{onClick:function(){return Wn()},"aria-label":"close",size:"medium",children:(0,V.jsx)(I.Fk5,{})})}),(0,V.jsxs)(j.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:[null===(null===On||void 0===On?void 0:On.id)?"Create ":"Update "," group plan"]}),(0,V.jsxs)(z.Z,{sx:{width:"100%",margin:"25px 0"},children:[(0,V.jsx)(G.Z,{id:"demo-simple-select-readonly-label",children:"Academic year"}),(0,V.jsx)(F.Z,{labelId:"demo-simple-select-readonly-label",id:"demo-simple-select-readonly",value:null===cn||void 0===cn||null===(f=cn.educationYear)||void 0===f?void 0:f.name,label:"Academic year",inputProps:{readOnly:!0},children:(0,V.jsx)(U.Z,{value:null===cn||void 0===cn||null===(h=cn.educationYear)||void 0===h?void 0:h.name,children:null===cn||void 0===cn||null===(A=cn.educationYear)||void 0===A?void 0:A.name})}),(0,V.jsx)(R.Z,{children:"Read only"})]}),(0,V.jsxs)(m.Z,{sx:{display:"flex",gap:"20px"},children:[(0,V.jsxs)(z.Z,{sx:{width:"100%"},children:[(0,V.jsx)(G.Z,{id:"demo-simple-select-readonly-label1",children:"Language"}),(0,V.jsx)(F.Z,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null===cn||void 0===cn||null===(en=cn.groupData)||void 0===en?void 0:en.eduLang,label:"Language",inputProps:{readOnly:!0},children:(0,V.jsx)(U.Z,{value:null===cn||void 0===cn||null===(ln=cn.groupData)||void 0===ln?void 0:ln.eduLang,children:null===cn||void 0===cn||null===(on=cn.groupData)||void 0===on?void 0:on.eduLang})}),(0,V.jsx)(R.Z,{children:"Read only"})]}),(0,V.jsxs)(z.Z,{sx:{width:"100%"},children:[(0,V.jsx)(G.Z,{id:"demo-simple-select-readonly-label1",children:"Type of education"}),(0,V.jsx)(F.Z,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null===cn||void 0===cn||null===(dn=cn.groupData)||void 0===dn?void 0:dn.eduType,label:"Type of education",inputProps:{readOnly:!0},children:(0,V.jsx)(U.Z,{value:null===cn||void 0===cn||null===(rn=cn.groupData)||void 0===rn?void 0:rn.eduType,children:null===cn||void 0===cn||null===(un=cn.groupData)||void 0===un?void 0:un.eduType})}),(0,V.jsx)(R.Z,{children:"Read only"})]})]}),(0,V.jsx)(D.Z,{multiple:!0,id:"checkboxes-tags-demo",options:Nn,disableCloseOnSelect:!0,getOptionLabel:function(n){return null===n||void 0===n?void 0:n.groupName},value:null===(null===On||void 0===On?void 0:On.id)?mn:function(){var n,e=[];return null===On||void 0===On||null===(n=On.groupsIds)||void 0===n||n.forEach((function(n){var l,o;null!==cn&&void 0!==cn&&null!==(l=cn.allGroup)&&void 0!==l&&l.find((function(e){return e.groupId===n}))&&e.push(null===cn||void 0===cn||null===(o=cn.allGroup)||void 0===o?void 0:o.find((function(e){return e.groupId===n})))})),e.reduce((function(n,e){return n.find((function(n){return n.groupId===e.groupId}))||n.push(e),n}),[])}(),onChange:function(n,e){console.log(e,"new Value"),null===(null===On||void 0===On?void 0:On.id)?Sn((function(n){return(0,p.Z)((0,p.Z)({},n),{},{groupsIds:null===e||void 0===e?void 0:e.map((function(n){return null===n||void 0===n?void 0:n.groupId}))})})):zn((function(n){return(0,p.Z)((0,p.Z)({},n),{},{groupsIds:null===e||void 0===e?void 0:e.map((function(n){return null===n||void 0===n?void 0:n.groupId}))})})),Zn(e)},renderOption:function(n,e,l){var o=l.selected;return(0,V.jsxs)("li",(0,p.Z)((0,p.Z)({},n),{},{children:[(0,V.jsx)(L.Z,{icon:an,checkedIcon:sn,style:{marginRight:8},checked:o}),null===e||void 0===e?void 0:e.groupName]}))},style:{width:"100%",margin:"25px 0"},renderInput:function(n){return(0,V.jsx)(P.Z,(0,p.Z)((0,p.Z)({required:!0},n),{},{label:"Groups",placeholder:"Group",helperText:"Required"}))}}),(0,V.jsx)($,{children:(0,V.jsxs)(Z.Z,{onClick:null===(null===On||void 0===On?void 0:On.id)?Xn:Jn,variant:"contained",endIcon:(0,V.jsx)(Y.yhK,{}),disabled:bn,children:[" ",null===(null===On||void 0===On?void 0:On.id)?"Save":"Update"]})})]})}),(0,V.jsx)(T.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:Vn,open:Mn,onClose:Qn,PaperProps:{style:{maxHeight:180,width:"20ch"}},children:_n.map((function(n,e){return(0,V.jsx)(U.Z,{onClick:function(){return Qn(n.title)},children:(0,V.jsxs)(m.Z,{display:"flex",gap:"5px",alignItems:"center",children:[n.icon," ",n.title]})},e)}))})]})}}}]);
//# sourceMappingURL=526.cc549b8d.chunk.js.map