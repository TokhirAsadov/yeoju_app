{"version":3,"file":"static/js/6576.3d508e76.chunk.js","mappings":"6aAMMA,EAAoB,SAAC,GAAY,IAAD,EAAVC,EAAU,EAAVA,KAGlBC,EAAmBD,EAAKE,QAAO,SAAAC,GAAI,OAA+B,IAA3BA,EAAKC,WAAWC,UACvDC,EAAa,SAACC,EAAMC,EAAMC,GAC5B,IAAMC,EAAeC,GAAAA,GAASJ,KAAKA,GAAMK,QAAQJ,GAAMC,IAAIA,GAE3D,OAAIC,EAAaG,QACNH,EAAaI,OAAO,cAEpB,gBAGf,OACI,iCACI,SAACC,EAAD,oBACKf,EAAK,UADV,aACK,EAASgB,WAEd,SAACC,EAAD,UACKhB,EAAiBI,OAAS,EAA1B,OAA8BJ,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAkBiB,KAAI,SAACC,EAAWC,GAAZ,OACjD,UAACC,EAAD,CAAUC,GAAI,MAAOC,IAAK,gBAA1B,WACI,uBACKjB,EAAU,OAACa,QAAD,IAACA,OAAD,EAACA,EAAWZ,KAAZ,OAAkBY,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAWX,KAA7B,OAAmCW,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAWV,QAG7D,yBACKU,EAAUK,QADf,eAL4CJ,OAS/C,SAACC,EAAD,CAAUE,IAAK,SAAUD,GAAI,UAA7B,sCASfD,EAAWI,EAAAA,GAAAA,IAAH,mRAIO,SAAAC,GAAK,OAAIA,EAAMH,OAMd,SAAAG,GAAK,OAAIA,EAAMJ,MAO/BL,EAAUQ,EAAAA,GAAAA,IAAH,kIAOPV,EAAaU,EAAAA,GAAAA,IAAH,6MAIME,EAAAA,IAQtB,GAAeC,EAAAA,EAAAA,MAAK7B,G,uFCxEd8B,EAAY,SAAC,GAAqB,IAAD,EAAnBC,EAAmB,EAAnBA,cAEhB,OACI,UAACC,GAAD,YACI,SAAC,GAAD,iBACKD,QADL,IACKA,OADL,EACKA,EAAeE,cAEpB,SAACC,EAAA,EAAD,CAAMC,UAAWC,EAAjB,UACI,SAACC,EAAA,EAAD,WACI,UAAC,GAAD,YACI,8BACI,4BACA,2BACI,yBAAI,sCACJ,yBAAI,2CACJ,yBAAI,qCACJ,yBAAI,yCAIR,kCACCN,QADD,IACCA,OADD,EACCA,EAAeO,OAAOnB,KAAI,SAACf,EAAMmC,GAAP,OACvB,2BACI,wBACKA,EAAI,KAET,wBACS,OAAJnC,QAAI,IAAJA,GAAAA,EAAMoC,YAAcpC,EAAKoC,YAAc,OAE5C,iCACKpC,QADL,IACKA,OADL,EACKA,EAAMqC,MADX,QAGA,wBACK7B,GAAAA,CAAO,IAAI8B,KAAJ,OAAStC,QAAT,IAASA,OAAT,EAASA,EAAMuC,OAAO5B,OAAO,wBAXpCwB,WAiBkB,KAArB,OAAbR,QAAa,IAAbA,GAAA,UAAAA,EAAeO,cAAf,eAAuBhC,UAAgB,SAACsC,EAAA,EAAD,CAAcC,EAAG,IAAKC,EAAG,iBASnFV,EAAQV,EAAAA,GAAAA,IAAD,kDAETqB,EAAAA,EAAAA,IAAW,CACXC,UAAU,UAIR9B,GAAUQ,EAAAA,GAAAA,IAAH,qeAyBaE,EAAAA,IAKpBZ,GAAaU,EAAAA,GAAAA,IAAH,6MAIME,EAAAA,IAQhBI,GAAYN,EAAAA,GAAAA,IAAH,0CAGf,IAAeG,EAAAA,EAAAA,MAAKC,GCqIdZ,GAAUQ,EAAAA,GAAAA,IAAH,gsBAgCmBE,EAAAA,IAM1BqB,GAAU,CACZC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXC,MAAO,IACPC,QAAS,mBACTC,OAAQ,OACRC,aAAc,EACdC,UAAW,IAETC,GAAU,CACZT,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXC,MAAO,IACPC,QAAS,mBACTC,OAAQ,OACRC,aAAc,OACdC,UAAW,IAETE,GAAWlC,EAAAA,GAAAA,IAAH,iCACRqB,EAAAA,EAAAA,IAAW,CACTO,MAAO,oBAGTO,GAAWnC,EAAAA,GAAAA,IAAH,mDACRoC,EAAAA,EAAAA,IAAO,CACLR,MAAO,oBAETS,EAAAA,EAAAA,IAAM,CACJT,MAAO,oBAETP,EAAAA,EAAAA,IAAW,CACTO,MAAO,oBAGTU,GAAwBtC,EAAAA,GAAAA,OAAH,wUAQdE,EAAAA,IASPqC,GAAQvC,EAAAA,GAAAA,IAAH,oTAgBLwC,GAAQxC,EAAAA,GAAAA,GAAH,iPAUME,EAAAA,IAIXI,GAAYN,EAAAA,GAAAA,IAAH,4CAGf,GA1VmB,WAEf,IAAOyC,GAAWC,EAAAA,EAAAA,MAAXD,QACDE,GAAUC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,oBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAOF,eAAX,aAAI,EAAgBA,WAC/CG,GAAgBF,EAAAA,EAAAA,KAAY,SAAAC,GAAK,oBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAOC,qBAAX,aAAI,EAAsBA,kBAAkB,KAC7EC,GAA0BH,EAAAA,EAAAA,KAAY,SAAAC,GAAK,oBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAOE,+BAAX,aAAI,EAAgCA,4BAA4B,GAC3GC,GAAoBJ,EAAAA,EAAAA,KAAY,SAAAC,GAAK,oBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAOE,+BAAX,aAAI,EAAgCE,0CAAyC,EACxH,GAAwBC,EAAAA,EAAAA,WAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0CJ,EAAAA,EAAAA,UAAS,IAAnD,eAAOK,EAAP,KAAsBC,EAAtB,KACA,GAAgCN,EAAAA,EAAAA,UAAS,IAAzC,eAAOO,EAAP,KAAiBC,EAAjB,KACA,GAAgCR,EAAAA,EAAAA,UAAS,IAAzC,eAAOS,EAAP,KAAiBC,EAAjB,KACA,GAA0CV,EAAAA,EAAAA,UAAS,MAAnD,eAAO7C,EAAP,KAAsBwD,EAAtB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,IAAWC,EAAAA,EAAAA,MACVC,IAAWC,EAAAA,EAAAA,KAAXD,QA2BDE,GAAc,kBAAMhB,GAAQ,IAM5BiB,GAAmB,WACrBf,GAAa,IAGXgB,GAAY,mCAAG,oGACXC,EAAAA,EAAAA,IAAUC,EAAAA,GAAQ,iDAAsC1B,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAe2B,GAArD,YAA2D9B,EAAQ8B,GAAnE,6BAAmF9B,QAAnF,IAAmFA,GAAnF,UAAmFA,EAAS+B,iBAA5F,aAAmF,EAAoBC,MAAQ,CAAClC,QAAAA,IACnImC,MAAK,SAAAC,GACFC,QAAQC,IAAR,OAAYF,QAAZ,IAAYA,OAAZ,EAAYA,EAAKtG,KAAM,YACvBmF,EAAW,OAACmB,QAAD,IAACA,OAAD,EAACA,EAAKtG,SAEpByG,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MAPH,2CAAH,qDAYZC,GAAe,mCAAG,4FAEpBpC,GAFoB,qCAEGkB,IAASmB,EAAAA,EAAAA,IAA6BjB,GAAD,OAAUpB,QAAV,IAAUA,OAAV,EAAUA,EAAe2B,GAAzB,OAA6B9B,QAA7B,IAA6BA,GAA7B,UAA6BA,EAAS+B,iBAAtC,aAA6B,EAAoBC,KAAjD,OAAuDhC,QAAvD,IAAuDA,OAAvD,EAAuDA,EAAS8B,KAFxG,2CAAH,qDAKfW,GAAmB,mCAAG,8FAClBb,EAAAA,EAAAA,IAAUC,EAAAA,GAAW,uCAAwC,CAAC/B,QAAAA,IAC/DmC,MAAK,SAAAC,GAAQ,IAAD,MACTjB,EAAW,OAACiB,QAAD,IAACA,GAAD,UAACA,EAAKtG,YAAN,aAAC,EAAW8G,KACvBrB,IAASsB,EAAAA,EAAAA,IAAkB,OAACT,QAAD,IAACA,GAAD,UAACA,EAAKtG,YAAN,iBAAC,EAAW8G,WAAZ,aAAC,EAAiB,QAEhDL,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MAPI,2CAAH,qDA6BzB,SAASM,GAAUhH,GACf,IAAMiH,EAAQzC,EAAwBtE,QAAO,SAAAC,GAAI,OAAIA,EAAK,GAAGa,UAAYhB,KAAMkH,OAE/E,OAD2BC,MAAMC,KAAK,IAAIC,IAAIJ,EAAM/F,IAAIoG,KAAKC,YAAaD,KAAKE,OACrDtH,QAAO,SAACuH,GAAD,OAA+B,IAAxBA,EAAErH,WAAWC,UAAcA,OAgBvE,OAbAqH,EAAAA,EAAAA,YAAU,WACNb,OACD,KAEHa,EAAAA,EAAAA,YAAU,WACN3B,OACD,CAACxB,KAEJmD,EAAAA,EAAAA,YAAU,WACgB,SAAtBjD,GAAgCkC,OACjC,KAIC,UAAC,GAAD,YACI,UAAC1C,GAAD,YACI,2CAEA,SAAC0D,EAAA,EAAD,CAAKC,GAAI,CAACC,SAAU,IAAKC,WAAY,QAArC,UACI,SAACC,EAAA,EAAD,CACIC,WAAS,EACTC,QAAM,EACNC,KAAK,QACLC,MAAK,OAAE5D,QAAF,IAAEA,OAAF,EAAEA,EAAe6B,KACtBgC,SA/CC,SAACC,GAClBA,EAAMC,OAAOH,SAAb,OAAuB5D,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAe6B,OAAQX,IAAS8C,EAAAA,EAAAA,OACvD9C,IAASsB,EAAAA,EAAAA,IAAkB,OAAC3B,QAAD,IAACA,OAAD,EAACA,EAAUoD,MAAK,SAAAf,GAAC,OAAK,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAGrB,QAASiC,EAAMC,OAAOH,YAwC7D,gBAOK/C,QAPL,IAOKA,OAPL,EAOKA,EAAUlE,KAAI,SAACf,EAAMmC,GAAP,OACX,SAACmG,EAAA,EAAD,CAAyBN,MAAK,OAAEhI,QAAF,IAAEA,OAAF,EAAEA,EAAMiG,KAAtC,gBAA6CjG,QAA7C,IAA6CA,OAA7C,EAA6CA,EAAMiG,MAAnD,OAAejG,QAAf,IAAeA,OAAf,EAAeA,EAAM+F,eAMrC,SAACjE,EAAA,EAAD,CAAM2F,GAAI,CAACc,GAAI,GAAf,UACI,SAACtG,EAAA,EAAD,WACI,SAAC,GAAD,WACI,8BACI,4BACA,2BACI,eAAIuG,MAAO,CAACC,UAAW,SAAUvF,MAAO,QAAxC,qBACA,sCACA,qCACA,eAAIsF,MAAO,CAACC,UAAW,SAAUvF,MAAO,SAAxC,yBACA,eAAIsF,MAAO,CAACC,UAAW,SAAUvF,MAAO,SAAxC,qBACA,eAAIsF,MAAO,CAACC,UAAW,SAAUvF,MAAO,SAAxC,wBAGJ,2BACC6B,EAAS2D,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE9G,WAAWgH,cAAcD,EAAE/G,eAAad,KAAI,SAACf,EAAMmC,GAAP,OACnE,2BACI,eAAIqG,MAAO,CAACC,UAAW,UAAvB,SAAmCtG,EAAM,KACzC,yBAAI,6BAAKnC,EAAK6B,WAAV,UACJ,wBACK7B,EAAK8I,YAEV,wBAC2B,UAAtBxE,GACG,SAACkD,EAAA,EAAD,CAAKuB,QAAS,OAAQC,eAAgB,SAAtC,UACI,SAACC,EAAA,EAAD,CAAUC,QAAQ,UAAUhG,MAAO,GAAIiG,OAAQ,QAC1C,SAACtF,GAAD,CAAOuF,QAAS,kBAlJ9C,SAACvJ,GAChB,IAAMiH,EAAQzC,EAAwBtE,QAAO,SAAAC,GAAI,OAAIA,EAAK,GAAGa,UAAYhB,KAAMkH,OAEzEsC,EAAqBrC,MAAMC,KAAK,IAAIC,IAAIJ,EAAM/F,IAAIoG,KAAKC,YAAaD,KAAKE,OAAOqB,MAAK,SAACC,EAAGC,GAC3F,OAAID,EAAEvI,OAASwI,EAAExI,KACNwI,EAAExI,KAAOuI,EAAEvI,KAGlBuI,EAAEtI,OAASuI,EAAEvI,KACNuI,EAAEvI,KAAOsI,EAAEtI,KAGlBsI,EAAErI,MAAQsI,EAAEtI,IACLsI,EAAEtI,IAAMqI,EAAErI,IAGdsI,EAAEvH,QAAUsH,EAAEtH,WAGzB+E,QAAQC,IAAIgD,GAEZvE,EAAiBuE,GACjBjD,QAAQC,IAAIS,GACZpC,GAAQ,GA2H2D4E,CAAU,OAACtJ,QAAD,IAACA,OAAD,EAACA,EAAM6B,aAAvC,SACJgF,GAAS,OAAC7G,QAAD,IAACA,OAAD,EAACA,EAAM6B,iBAI7B,yBACI,SAACgC,GAAD,CAAOuF,QAAS,kBA5HhDjE,EA4HsEnF,QA3HtE4E,GAAa,IA2HmB,WACU,OAAJ5E,QAAI,IAAJA,OAAA,EAAAA,EAAMuJ,WAAN,OAAiBvJ,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAMwJ,UAAW,GAAGC,QAAQ,QAGvD,yBACI,SAAC5F,GAAD,CAAOuF,QAAS,kBAvFzB,SAACvJ,GACxB,IAAM6J,EAAY,CACd7H,WAAYhC,EAAKgC,WACjB8H,gBAAiBvF,EAAc2B,GAC/B6D,SAAU/J,EAAK+J,SACfC,UAAWhK,EAAKgK,WAEpBvE,IAASwE,EAAAA,EAAAA,IAAwBJ,IACjCtE,EAAS,GAAD,OAAIvF,EAAKgC,aA+EqCkI,CAAmB/J,IAAzC,UACI,SAAC,MAAD,CAAiB+H,KAAM,GAAIiC,MAAK,kBAtBnC7H,kBAmC7B,SAAC8H,EAAA,EAAD,CACIxF,KAAMA,EACNyF,QAASxE,GACT,kBAAgB,oBAChB,mBAAiB,0BAJrB,UAMI,UAAC8B,EAAA,EAAD,CAAKC,GAAI5E,GAASd,UAAWyB,GAA7B,WACI,SAACI,GAAD,CACIwF,QAAS1D,GADb,UAEC,SAAC,MAAD,OACD,SAAC,EAAD,CAAmB7F,KAAMgF,UAKjC,SAACoF,EAAA,EAAD,CACIxF,KAAME,EACNuF,QAASvE,GACT,kBAAgB,oBAChB,mBAAiB,0BAJrB,UAMI,UAAC6B,EAAA,EAAD,CAAKC,GAAIlE,GAASxB,UAAW0B,GAA7B,WACI,SAACG,GAAD,CACIwF,QAASzD,GADb,UAEC,SAAC,MAAD,OACD,SAAC,GAAD,CAAWhE,cAAeA","sources":["components/student/sciences/StudentSciencesNb.jsx","components/student/sciences/GradeData.jsx","components/student/sciences/MySciences.jsx"],"sourcesContent":["import React, {memo} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {mainColor} from \"../../../utills/ServiceUrls\";\r\nimport moment from \"moment\";\r\n\r\n\r\nconst StudentSciencesNb = ({data}) => {\r\n\r\n\r\n    const filterSubjectArr = data.filter(item => item.statistics.length === 0)\r\n    const dateFormat = (year, week, day) => {\r\n        const momentObject = moment().year(year).isoWeek(week).day(day);\r\n\r\n        if (momentObject.isValid) {\r\n            return momentObject.format('DD.MM.YYYY');\r\n        } else {\r\n            return 'Invalid Date';\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <TitleModal>\r\n                {data[0]?.subject}\r\n            </TitleModal>\r\n            <Bodybox>\r\n                {filterSubjectArr.length > 0 ? filterSubjectArr?.map((childItem, childKey) => (\r\n                    <BodyItem bg={\"red\"} jsc={\"space-between\"} key={childKey}>\r\n                        <p>\r\n                            {dateFormat(childItem?.year, childItem?.week, childItem?.day)}\r\n                        </p>\r\n\r\n                        <p>\r\n                            {childItem.section} - para\r\n                        </p>\r\n                    </BodyItem>\r\n                )) : <BodyItem jsc={\"center\"} bg={\"#45d745\"}>\r\n                    Dars qoldirilmagan\r\n                </BodyItem>}\r\n\r\n            </Bodybox>\r\n        </>\r\n    );\r\n};\r\n\r\nconst BodyItem = styled.div`\r\n  margin-bottom: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: ${props => props.jsc};\r\n  padding: 5px 10px;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  color: white;\r\n  background-color: ${props => props.bg};\r\n\r\n  p {\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Bodybox = styled.div`\r\n  margin-top: 70px;\r\n  padding: 10px;\r\n  min-height: 300px;\r\n  max-height: 450px;\r\n  overflow-y: scroll;\r\n`\r\nconst TitleModal = styled.div`\r\n  position: absolute;\r\n  font-size: 20px;\r\n  color: #ffffff;\r\n  background-color: ${mainColor};\r\n  width: 100%;\r\n  top: -1px;\r\n  border-radius: 8px 8px 0 0;\r\n  padding: 10px;\r\n  z-index: 9;\r\n`\r\n\r\nexport default memo(StudentSciencesNb);\r\n","import React, {memo} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {mainColor} from \"../../../utills/ServiceUrls\";\r\nimport {Card, CardContent} from \"@mui/material\";\r\nimport moment from \"moment/moment\";\r\nimport EmptyDataImg from \"../../emptyDataImg/EmptyDataImg\";\r\nimport {extrasmall} from \"../../../responsiv\";\r\n\r\nconst GradeData = ({gradeDataInfo}) => {\r\n\r\n    return (\r\n        <Container>\r\n            <TitleModal>\r\n                {gradeDataInfo?.lessonName}\r\n            </TitleModal>\r\n            <Card component={CardRes}>\r\n                <CardContent>\r\n                    <Bodybox>\r\n                        <table>\r\n                            <thead>\r\n                            <tr>\r\n                                <th><h5>№</h5></th>\r\n                                <th><h5>Description</h5></th>\r\n                                <th><h5>Score</h5></th>\r\n                                <th><h5>Date</h5></th>\r\n                            </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                            {gradeDataInfo?.grades.map((item, key) => (\r\n                                <tr key={key}>\r\n                                    <td>\r\n                                        {key+1}\r\n                                    </td>\r\n                                    <td>\r\n                                        {item?.description ? item.description : \"-\"}\r\n                                    </td>\r\n                                    <td>\r\n                                        {item?.grade}%\r\n                                    </td>\r\n                                    <td>\r\n                                        {moment(new Date(item?.time)).format('DD-MM-YYYY HH:mm')}\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </table>\r\n                        {gradeDataInfo?.grades?.length === 0 && <EmptyDataImg w={200} h={180}/>}\r\n                    </Bodybox>\r\n                </CardContent>\r\n            </Card>\r\n\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst CardRes=styled.div`\r\nmargin-top:50px ;\r\n  ${extrasmall({\r\n    marginTop:'80px',\r\n  })}\r\n`;\r\n\r\nconst Bodybox = styled.div`\r\n  width: 100%;\r\n  overflow-x: scroll;\r\n\r\n  table {\r\n    min-width: 500px;\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n\r\n    td, th {\r\n      border: 1px solid #ddd;\r\n      padding: 7px;\r\n    }\r\n\r\n    tr {\r\n      &:nth-child(even) {\r\n        background-color: #f2f2f2;\r\n      }\r\n    }\r\n\r\n    th {\r\n      padding: 7px 0;\r\n      background-color: ${mainColor};\r\n      color: white;\r\n    }\r\n  }\r\n`\r\nconst TitleModal = styled.div`\r\n  position: absolute;\r\n  font-size: 20px;\r\n  color: #ffffff;\r\n  background-color: ${mainColor};\r\n  width: 100%;\r\n  top: -1px;\r\n  border-radius: 5px 5px 0 0;\r\n  padding: 10px;\r\n  z-index: 9;\r\n`\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n`\r\nexport default memo(GradeData);","import React, {useEffect, useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport Box from '@mui/material/Box';\r\nimport Modal from '@mui/material/Modal';\r\nimport {BASE_URL, getHeaders, mainColor} from \"../../../utills/ServiceUrls\";\r\nimport {RiCloseLine} from \"react-icons/ri\";\r\nimport {extrasmall, large, medium, small, xlarge, xxlarge} from \"../../../responsiv\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport {fetchEducationYear} from \"../../../redux/actions/educationYear/education_year_actions\";\r\nimport {fetchEducationYearStatistics} from \"../../../redux/actions/educationYear/education_year_statistics_actions\";\r\nimport {useHttp} from \"../../hook/useHttp\";\r\nimport {educationYearStatisticsFetching} from \"../../../redux/slice/educationYear/education_year_statistics_slice\";\r\nimport StudentSciencesNb from \"./StudentSciencesNb\";\r\nimport {Card, CardContent, Skeleton, TextField} from \"@mui/material\";\r\nimport {FaCalendarMinus} from \"react-icons/fa\";\r\nimport {setInfoStudentForLesson} from \"../../../redux/actions/infoStudentForLesson/InfoStudentForLesson_actions\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport GradeData from \"./GradeData\";\r\n\r\nconst MySciences = () => {\r\n\r\n    const {headers} = getHeaders();\r\n    const student = useSelector(state => state?.student?.student)\r\n    const educationYear = useSelector(state => state?.educationYear?.educationYear) || null;\r\n    const educationYearStatistics = useSelector(state => state?.educationYearStatistics?.educationYearStatistics) || [];\r\n    const loadingStatistics = useSelector(state => state?.educationYearStatistics?.educationYearStatisticsLoadingStatus) || false;\r\n    const [open, setOpen] = useState(false);\r\n    const [openGrade, setOpenGrade] = useState(false);\r\n    const [oneSciencesNb, setOneSciencesNb] = useState([])\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [eduYears, setEduYears] = useState([]);\r\n    const [gradeDataInfo, setGradeDataInfo] = useState(null)\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch();\r\n    const {request} = useHttp()\r\n\r\n    const handleOpen = (data) => {\r\n        const data2 = educationYearStatistics.filter(item => item[0].subject === data).flat()\r\n\r\n        const uniqueArrayAndSort = Array.from(new Set(data2.map(JSON.stringify)), JSON.parse).sort((a, b) => {\r\n            if (a.year !== b.year) {\r\n                return b.year - a.year;\r\n            }\r\n\r\n            if (a.week !== b.week) {\r\n                return b.week - a.week;\r\n            }\r\n\r\n            if (a.day !== b.day) {\r\n                return b.day - a.day;\r\n            }\r\n\r\n            return b.section - a.section;\r\n        });\r\n\r\n        console.log(uniqueArrayAndSort);\r\n\r\n        setOneSciencesNb(uniqueArrayAndSort)\r\n        console.log(data2)\r\n        setOpen(true)\r\n    };\r\n    const handleClose = () => setOpen(false);\r\n\r\n    const handleOpenGrade = (data) => {\r\n        setGradeDataInfo(data)\r\n        setOpenGrade(true)\r\n    }\r\n    const handleCloseGrade = () => {\r\n        setOpenGrade(false)\r\n    }\r\n\r\n    const fetchLessons = async () => {\r\n        await axios.get(BASE_URL + `/groupConnect/getGradesByLesson/${educationYear?.id}/${student.id}?groupName=${student?.groupData?.name}`, {headers})\r\n            .then(res => {\r\n                console.log(res?.data, \"res come\")\r\n                setSubjects(res?.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n\r\n    const fetchStatistics = async () => {\r\n        // console.log(\"1111111111111111111111111111111\")\r\n        educationYear && await dispatch(fetchEducationYearStatistics(request, educationYear?.id, student?.groupData?.name, student?.id))\r\n    }\r\n\r\n    const fetchEducationYears = async () => {\r\n        await axios.get(BASE_URL + '/education/educationYearsForSelected', {headers})\r\n            .then(res => {\r\n                setEduYears(res?.data?.obj);\r\n                dispatch(fetchEducationYear(res?.data?.obj?.[0]))\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n\r\n    const handleChange = (event) => {\r\n        event.target.value !== educationYear?.name && dispatch(educationYearStatisticsFetching())\r\n        dispatch(fetchEducationYear(eduYears?.find(i => i?.name === event.target.value)))\r\n\r\n    };\r\n\r\n    const handleNavigatePlan = (data) => {\r\n        const stateData = {\r\n            lessonName: data.lessonName,\r\n            educationYearId: educationYear.id,\r\n            lessonId: data.lessonId,\r\n            teacherId: data.teacherId,\r\n        }\r\n        dispatch(setInfoStudentForLesson(stateData))\r\n        navigate(`${data.lessonName}`)\r\n    }\r\n\r\n    function counterNb(data) {\r\n        const data2 = educationYearStatistics.filter(item => item[0].subject === data).flat()\r\n        const uniqueArrayAndSort = Array.from(new Set(data2.map(JSON.stringify)), JSON.parse)\r\n        return uniqueArrayAndSort.filter((i) => i.statistics.length === 0).length;\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchEducationYears();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchLessons();\r\n    }, [educationYear])\r\n\r\n    useEffect(() => {\r\n        loadingStatistics !== \"done\" && fetchStatistics()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <Title>\r\n                <span> My courses</span>\r\n\r\n                <Box sx={{minWidth: 130, background: \"#fff\"}}>\r\n                    <TextField\r\n                        fullWidth\r\n                        select\r\n                        size=\"small\"\r\n                        value={educationYear?.name}\r\n                        onChange={handleChange}\r\n                    >\r\n                        {eduYears?.map((item, key) => (\r\n                            <MenuItem key={item?.id} value={item?.name}>{item?.name}</MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                </Box>\r\n            </Title>\r\n\r\n            <Card sx={{mt: 3}}>\r\n                <CardContent>\r\n                    <Bodybox>\r\n                        <table>\r\n                            <thead>\r\n                            <tr>\r\n                                <th style={{textAlign: \"center\", width: \"50px\"}}>№</th>\r\n                                <th>Sciences</th>\r\n                                <th>Teacher</th>\r\n                                <th style={{textAlign: \"center\", width: \"100px\"}}>Attendance</th>\r\n                                <th style={{textAlign: \"center\", width: \"100px\"}}>Grades</th>\r\n                                <th style={{textAlign: \"center\", width: \"100px\"}}>Plan</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {subjects.sort((a, b) => a.lessonName.localeCompare(b.lessonName)).map((item, key) => (\r\n                                <tr key={key}>\r\n                                    <td style={{textAlign: \"center\"}}>{key + 1}</td>\r\n                                    <td><b> {item.lessonName} </b></td>\r\n                                    <td>\r\n                                        {item.fullName}\r\n                                    </td>\r\n                                    <td>\r\n                                        {loadingStatistics === 'start' ?\r\n                                            <Box display={'flex'} justifyContent={'center'}>\r\n                                                <Skeleton variant=\"rounded\" width={50} height={50}/>\r\n                                            </Box> : <BoxNb onClick={() => handleOpen(item?.lessonName)}>\r\n                                                {counterNb(item?.lessonName)}\r\n                                            </BoxNb>}\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                        <BoxNb onClick={() => handleOpenGrade(item)}>\r\n                                            {(item?.sumGrade / item?.maxStep || 0).toFixed(2)}\r\n                                        </BoxNb>\r\n                                    </td>\r\n                                    <td>\r\n                                        <BoxNb onClick={() => handleNavigatePlan(item)}>\r\n                                            <FaCalendarMinus size={20} color={`#08004b`}/>\r\n                                        </BoxNb>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </Bodybox>\r\n                </CardContent>\r\n            </Card>\r\n\r\n\r\n            {/*NB modal*/}\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={stylenb} component={stylenb2}>\r\n                    <CloseMyButtonForChild\r\n                        onClick={handleClose}\r\n                    ><RiCloseLine/></CloseMyButtonForChild>\r\n                    <StudentSciencesNb data={oneSciencesNb}/>\r\n                </Box>\r\n            </Modal>\r\n\r\n            {/*grade modal*/}\r\n            <Modal\r\n                open={openGrade}\r\n                onClose={handleCloseGrade}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={styleGr} component={styleGr2}>\r\n                    <CloseMyButtonForChild\r\n                        onClick={handleCloseGrade}\r\n                    ><RiCloseLine/></CloseMyButtonForChild>\r\n                    <GradeData gradeDataInfo={gradeDataInfo}/>\r\n                </Box>\r\n            </Modal>\r\n\r\n        </Container>\r\n    );\r\n};\r\nconst Bodybox = styled.div`\r\n    margin-top: 25px;\r\n    width: 100%;\r\n\r\n    overflow-x: scroll;\r\n\r\n    table {\r\n        margin: 0 auto;\r\n        min-width: 700px;\r\n        max-width: 1200px;\r\n        border-collapse: collapse;\r\n        width: 100%;\r\n        border-radius: 10px;\r\n        overflow: hidden;\r\n\r\n        td, th {\r\n            border: 1px solid #ddd;\r\n            padding: 8px;\r\n            font-size: 15px;\r\n        }\r\n\r\n        th {\r\n            text-align: center;\r\n        }\r\n\r\n        tr {\r\n            &:nth-child(even) {\r\n                background-color: #fcf9f9;\r\n            }\r\n        }\r\n\r\n        th {\r\n            background-color: ${mainColor};\r\n            color: white;\r\n        }\r\n    }\r\n\r\n`;\r\nconst stylenb = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 500,\r\n    bgcolor: 'background.paper',\r\n    border: \"none\",\r\n    borderRadius: 2,\r\n    boxShadow: 24,\r\n};\r\nconst styleGr = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 900,\r\n    bgcolor: 'background.paper',\r\n    border: \"none\",\r\n    borderRadius: '15px',\r\n    boxShadow: 24,\r\n};\r\nconst stylenb2 = styled.div`\r\n    ${extrasmall({\r\n        width: \"97% !important\"\r\n    })}\r\n`\r\nconst styleGr2 = styled.div`\r\n    ${medium({\r\n        width: \"97% !important\"\r\n    })}\r\n    ${small({\r\n        width: \"97% !important\"\r\n    })}\r\n    ${extrasmall({\r\n        width: \"97% !important\"\r\n    })}\r\n`\r\nconst CloseMyButtonForChild = styled.button`\r\n    width: 30px;\r\n    height: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    color: ${mainColor};\r\n    font-size: 26px;\r\n    border: none;\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    z-index: 10;\r\n`;\r\n\r\nconst BoxNb = styled.div`\r\n    margin: 0 auto;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 5px;\r\n    border: 1px solid #a6a6e0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n    }\r\n`;\r\n\r\nconst Title = styled.h4`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    gap: 15px;\r\n\r\n    span {\r\n        font-size: 25px;\r\n        font-weight: 600;\r\n        color: ${mainColor};\r\n\r\n    }\r\n`\r\nconst Container = styled.div`\r\n    padding: 1rem;\r\n`\r\nexport default MySciences;"],"names":["StudentSciencesNb","data","filterSubjectArr","filter","item","statistics","length","dateFormat","year","week","day","momentObject","moment","isoWeek","isValid","format","TitleModal","subject","Bodybox","map","childItem","childKey","BodyItem","bg","jsc","section","styled","props","mainColor","memo","GradeData","gradeDataInfo","Container","lessonName","Card","component","CardRes","CardContent","grades","key","description","grade","Date","time","EmptyDataImg","w","h","extrasmall","marginTop","stylenb","position","top","left","transform","width","bgcolor","border","borderRadius","boxShadow","styleGr","stylenb2","styleGr2","medium","small","CloseMyButtonForChild","BoxNb","Title","headers","getHeaders","student","useSelector","state","educationYear","educationYearStatistics","loadingStatistics","educationYearStatisticsLoadingStatus","useState","open","setOpen","openGrade","setOpenGrade","oneSciencesNb","setOneSciencesNb","subjects","setSubjects","eduYears","setEduYears","setGradeDataInfo","navigate","useNavigate","dispatch","useDispatch","request","useHttp","handleClose","handleCloseGrade","fetchLessons","axios","BASE_URL","id","groupData","name","then","res","console","log","catch","err","fetchStatistics","fetchEducationYearStatistics","fetchEducationYears","obj","fetchEducationYear","counterNb","data2","flat","Array","from","Set","JSON","stringify","parse","i","useEffect","Box","sx","minWidth","background","TextField","fullWidth","select","size","value","onChange","event","target","educationYearStatisticsFetching","find","MenuItem","mt","style","textAlign","sort","a","b","localeCompare","fullName","display","justifyContent","Skeleton","variant","height","onClick","uniqueArrayAndSort","handleOpen","sumGrade","maxStep","toFixed","stateData","educationYearId","lessonId","teacherId","setInfoStudentForLesson","handleNavigatePlan","color","Modal","onClose"],"sourceRoot":""}