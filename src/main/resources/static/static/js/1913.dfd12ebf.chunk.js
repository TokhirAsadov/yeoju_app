"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[1913],{1913:function(e,n,t){t.r(n);var r,a,o,i=t(30168),l=t(1413),s=t(29439),c=t(72791),d=t(17939),u=t(84638),m=t(58406),f=t(30829),p=t(68096),h=t(48550),b=t(72426),v=t.n(b),x=t(24518),g=t(7692),Z=t(40071),y=t(64554),C=t(60627),j=t(88447),w=t(52739),k=t(20068),S=t(27301),I=t(55294),T=t(56960),D=t(95173),A=t(57482),M=t(20890),P=t(80184),E={zIndex:0,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"480px",bgcolor:"background.paper",borderRadius:"5px",boxShadow:24,p:2},O=d.ZP.div(r||(r=(0,i.Z)(["\n    ","\n"])),(0,D.qD)({width:"330px !important"})),N=d.ZP.div(a||(a=(0,i.Z)(["\n    margin-top: 20px;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 30px;\n    ","\n"])),(0,D.qD)({gridTemplateColumns:"1fr",justifyItems:"center"})),R=d.ZP.div(o||(o=(0,i.Z)(["\n    width: 100%;\n    padding: 15px;\n"])));n.default=function(){var e=c.useState(0),n=(0,s.Z)(e,2),t=n[0],r=(n[1],[2022,2023,2024,2025,2026,2027,2028,2029,2030]),a=[{name:"Orientation week",shortname:"OW",bgColor:"#FFF",type:"ORIENTATION_WEEK"},{name:"Theoretical education",shortname:"TE",bgColor:"#d0ffff",type:"THEORETICAL_EDUCATION"},{name:"Final exams",shortname:"F",bgColor:"#90b5e1",type:"FINAL_EXAMS"},{name:"Vacation",shortname:"V",bgColor:"#e4b7b7",type:"VACATION"},{name:"Theoretical/Practical education",shortname:"T/P",bgColor:"#d0ffff",type:"THEORETICAL_PRACTICAL_EDUCATION"},{name:"Self-study/Distancion education",shortname:"S/D",bgColor:"#d0ffff",type:"SELF_STUDY_DISTANCE_EDUCATION"},{name:"Extramural studies",shortname:"ES",bgColor:"#c5d79e",type:"EXTRAMURAL_STUDIES"}],o=["KUNDUZGI_KECHKI","SIRTQI","MAGISTRATURE"],i=["DEFAULT","MED"],d=(0,c.useState)([]),b=(0,s.Z)(d,2),D=b[0],z=b[1],Y=(0,c.useState)(""),F=(0,s.Z)(Y,2),L=F[0],W=F[1],_=(0,c.useState)(a[0].type),B=(0,s.Z)(_,2),q=B[0],U=B[1],H=(0,c.useState)(r[1]),K=(0,s.Z)(H,2),X=K[0],V=K[1],G=(0,c.useState)(i[0]),Q=(0,s.Z)(G,2),$=Q[0],J=Q[1],ee=(0,c.useState)(a[0].name),ne=(0,s.Z)(ee,2),te=ne[0],re=ne[1],ae=(0,c.useState)(o[0]),oe=(0,s.Z)(ae,2),ie=oe[0],le=oe[1],se=(0,c.useState)(""),ce=(0,s.Z)(se,2),de=ce[0],ue=ce[1],me=(0,c.useState)(null),fe=(0,s.Z)(me,2),pe=fe[0],he=fe[1],be=(0,c.useState)(!0),ve=(0,s.Z)(be,2),xe=ve[0],ge=ve[1],Ze=(0,c.useState)("".concat(v()(new Date).year(),"-W").concat(v()(new Date).isoWeek())),ye=(0,s.Z)(Ze,2),Ce=ye[0],je=ye[1],we=(0,c.useState)(!1),ke=(0,s.Z)(we,2),Se=ke[0],Ie=ke[1],Te=function(){return Ie(!1)};(0,c.useEffect)((function(){ge(""===L||""==X||null===pe||""===Ce||""===de)}),[X,pe,Ce,de]),(0,c.useEffect)((function(){I.Z.get(S._n+"/education/educationYearsForSelected").then((function(e){var n,t;z(e.data.obj),W(null===(n=e.data)||void 0===n||null===(t=n.obj[0])||void 0===t?void 0:t.name)})).catch((function(e){console.log(e),z([]),W("")}))}),[]);var De=function(e){var n;e.preventDefault();var t="".concat(S._n,"/attachment/upload/").concat(null===D||void 0===D||null===(n=D.find((function(e){return(null===e||void 0===e?void 0:e.name)===L})))||void 0===n?void 0:n.id,"/").concat(v()(Ce).isoWeek(),"?year=").concat(v()(Ce).year(),"&defaultOrMed=").concat($,"&weekNumber=").concat(de,"&eduType=").concat(ie,"&weekType=").concat(q,"&startWeek=").concat(v()(Ce).startOf("isoWeek").format("DD.MM.YYYY"),"&endWeek=").concat(v()(Ce).startOf("isoWeek").add(5,"days").format("DD.MM.YYYY")),r=new FormData;r.append("file",pe);var a=localStorage.getItem(S.o3),o={headers:{"Content-Type":"multipart/form-data",Authorization:S.iv+a,"Access-Control-Allow-Origin":"*"}};console.log(t,"url"),console.log(r),I.Z.post(t,r,o).then((function(e){var n;T.Am.success(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),Ie(!1)})).catch((function(e){var n,t;T.Am.error(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}))};function Ae(e){return(0,P.jsxs)(y.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(y.Z,{sx:{width:"100%",mr:1},children:(0,P.jsx)(A.Z,(0,l.Z)({variant:"determinate"},e))}),(0,P.jsx)(y.Z,{sx:{minWidth:35},children:(0,P.jsx)(M.Z,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}return(0,P.jsxs)(R,{children:[(0,P.jsx)(y.Z,{display:"flex",justifyContent:"end",children:(0,P.jsx)(x.Z,{variant:"contained",onClick:function(){return Ie(!0)},children:"Add weekly training file"})}),(0,P.jsx)(j.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Se,onClose:Te,closeAfterTransition:!0,slots:{backdrop:w.Z},slotProps:{backdrop:{timeout:500}},children:(0,P.jsx)(C.Z,{in:Se,children:(0,P.jsx)(y.Z,{sx:E,component:O,children:(0,P.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={eduYers:L,year:X,type:q,weekedu:de,typesDay:te,eduTypes:ie,week:{weekNumber:v()(Ce).isoWeek(),monthName:v()(Ce).format("MMMM"),monthNumber:v()(Ce).format("MM"),year:v()(Ce).year(),monday:v()(Ce).startOf("isoWeek").format("DD"),saturday:v()(Ce).startOf("isoWeek").add(5,"days").format("DD.MM.YYYY")},typeFile:$,file:pe};console.log(n),De(e)},children:[(0,P.jsxs)(N,{children:[(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(f.Z,{id:"demo-simple-select-label",children:"O'quv yili"}),(0,P.jsx)(m.Z,{size:"small",sx:{width:"200px"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:L,label:"O'quv yili",onChange:function(e){return W(e.target.value)},children:D.length>0&&D.map((function(e,n){return(0,P.jsx)(u.Z,{value:e.name,children:e.name},n)}))})]}),(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(f.Z,{id:"demo-simple-select-label1",children:"Year"}),(0,P.jsx)(m.Z,{size:"small",sx:{width:"200px"},labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:X,label:"Year",onChange:function(e){return V(e.target.value)},children:r.map((function(e,n){return(0,P.jsx)(u.Z,{value:e,children:e},n)}))})]}),(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(f.Z,{id:"demo-simple-select-label1",children:"Type of week"}),(0,P.jsx)(m.Z,{size:"small",sx:{width:"200px",borderRadius:"5px"},labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:te,label:"Type of week",onChange:function(e){return re(e.target.value)},children:a.map((function(e,n){return(0,P.jsx)(u.Z,{value:e.name,onClick:function(){return U(e.type)},children:(0,P.jsxs)(y.Z,{sx:{width:"100%",display:"flex",gap:"5px",alignItems:"center"},children:[(0,P.jsx)(y.Z,{sx:{fontSize:"12px",borderRight:"none",width:"40px",padding:"0 3px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5px",border:"1px solid silver",backgroundColor:"".concat(e.bgColor),fontWeight:"bold"},children:e.shortname}),(0,P.jsx)("p",{children:e.name})]})},n)}))})]}),(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(f.Z,{id:"demo-simple-select-label1",children:"Type of education"}),(0,P.jsx)(m.Z,{size:"small",sx:{width:"200px"},labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:ie,label:"Type of education",onChange:function(e){return le(e.target.value)},children:o.map((function(e,n){return(0,P.jsx)(u.Z,{value:e,children:e},n)}))})]}),(0,P.jsx)(h.Z,{size:"small",value:de,label:"Week of education",type:"number",sx:{width:"200px"},InputProps:{inputProps:{min:1,max:53}},onChange:function(e){return ue(e.target.value)}}),(0,P.jsx)(h.Z,{size:"small",label:"Date of the week",type:"week",value:Ce,sx:{width:"200px"},onChange:function(e){return je(e.target.value)}}),(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(f.Z,{id:"demo-simple-select-label1",children:"Data type"}),(0,P.jsx)(m.Z,{size:"small",sx:{width:"200px"},labelId:"demo-simple-select-label1",id:"demo-simple-select1",value:$,label:"Data type",onChange:function(e){return J(e.target.value)},children:i.map((function(e,n){return(0,P.jsx)(u.Z,{value:e,children:e},n)}))})]}),(0,P.jsxs)(x.Z,{sx:{width:"200px",overflow:"hidden"},size:"sm",variant:"outlined",component:"label",endIcon:(0,P.jsx)(g.AM0,{}),children:[(0,P.jsx)("p",{children:null!==pe&&void 0!==pe&&pe.name?pe.name.length<13?pe.name:pe.name.substring(0,13)+"....":"Choose file "}),(0,P.jsx)("input",{onChange:function(e){return he(e.target.files[0])},accept:"xml,.xml",type:"file",hidden:!0})]})]}),t>0&&(0,P.jsx)(y.Z,{sx:{width:"100%",marginTop:"15px"},children:(0,P.jsx)(Ae,{value:t})}),(0,P.jsxs)(y.Z,{sx:{marginTop:"15px",width:"100%",display:"flex",justifyContent:"end",gap:"15px"},children:[(0,P.jsx)(x.Z,{onClick:Te,variant:"outlined",children:"Cancel"}),(0,P.jsx)(k.Z,{title:xe?"Fill in all the fields !":"",placement:"top",children:(0,P.jsx)("span",{children:(0,P.jsx)(x.Z,{disabled:xe,endIcon:(0,P.jsx)(Z.yhK,{size:15}),type:"submit",variant:"contained",children:"Send"})})})]})]})})})})]})}},57482:function(e,n,t){t.d(n,{Z:function(){return L}});var r=t(30168),a=t(63366),o=t(87462),i=t(72791),l=t(59278),s=t(94419),c=t(52554),d=t(12065),u=t(14036),m=t(13967),f=t(66934),p=t(31402),h=t(75878),b=t(21217);function v(e){return(0,b.Z)("MuiLinearProgress",e)}(0,h.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var x,g,Z,y,C,j,w,k,S,I,T,D,A=t(80184),M=["className","color","value","valueBuffer","variant"],P=(0,c.F4)(w||(w=x||(x=(0,r.Z)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),E=(0,c.F4)(k||(k=g||(g=(0,r.Z)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),O=(0,c.F4)(S||(S=Z||(Z=(0,r.Z)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),N=function(e,n){return"inherit"===n?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(n,"Bg")]:"light"===e.palette.mode?(0,d.$n)(e.palette[n].main,.62):(0,d._j)(e.palette[n].main,.5)},R=(0,f.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["color".concat((0,u.Z)(t.color))],n[t.variant]]}})((function(e){var n=e.ownerState,t=e.theme;return(0,o.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:N(t,n.color)},"inherit"===n.color&&"buffer"!==n.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===n.variant&&{backgroundColor:"transparent"},"query"===n.variant&&{transform:"rotate(180deg)"})})),z=(0,f.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,n){var t=e.ownerState;return[n.dashed,n["dashedColor".concat((0,u.Z)(t.color))]]}})((function(e){var n=e.ownerState,t=e.theme,r=N(t,n.color);return(0,o.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===n.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,c.iv)(I||(I=y||(y=(0,r.Z)(["\n    animation: "," 3s infinite linear;\n  "]))),O)),Y=(0,f.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,n){var t=e.ownerState;return[n.bar,n["barColor".concat((0,u.Z)(t.color))],("indeterminate"===t.variant||"query"===t.variant)&&n.bar1Indeterminate,"determinate"===t.variant&&n.bar1Determinate,"buffer"===t.variant&&n.bar1Buffer]}})((function(e){var n=e.ownerState,t=e.theme;return(0,o.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===n.color?"currentColor":(t.vars||t).palette[n.color].main},"determinate"===n.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===n.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var n=e.ownerState;return("indeterminate"===n.variant||"query"===n.variant)&&(0,c.iv)(T||(T=C||(C=(0,r.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),P)})),F=(0,f.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,n){var t=e.ownerState;return[n.bar,n["barColor".concat((0,u.Z)(t.color))],("indeterminate"===t.variant||"query"===t.variant)&&n.bar2Indeterminate,"buffer"===t.variant&&n.bar2Buffer]}})((function(e){var n=e.ownerState,t=e.theme;return(0,o.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==n.variant&&{backgroundColor:"inherit"===n.color?"currentColor":(t.vars||t).palette[n.color].main},"inherit"===n.color&&{opacity:.3},"buffer"===n.variant&&{backgroundColor:N(t,n.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var n=e.ownerState;return("indeterminate"===n.variant||"query"===n.variant)&&(0,c.iv)(D||(D=j||(j=(0,r.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),E)})),L=i.forwardRef((function(e,n){var t=(0,p.Z)({props:e,name:"MuiLinearProgress"}),r=t.className,i=t.color,c=void 0===i?"primary":i,d=t.value,f=t.valueBuffer,h=t.variant,b=void 0===h?"indeterminate":h,x=(0,a.Z)(t,M),g=(0,o.Z)({},t,{color:c,variant:b}),Z=function(e){var n=e.classes,t=e.variant,r=e.color,a={root:["root","color".concat((0,u.Z)(r)),t],dashed:["dashed","dashedColor".concat((0,u.Z)(r))],bar1:["bar","barColor".concat((0,u.Z)(r)),("indeterminate"===t||"query"===t)&&"bar1Indeterminate","determinate"===t&&"bar1Determinate","buffer"===t&&"bar1Buffer"],bar2:["bar","buffer"!==t&&"barColor".concat((0,u.Z)(r)),"buffer"===t&&"color".concat((0,u.Z)(r)),("indeterminate"===t||"query"===t)&&"bar2Indeterminate","buffer"===t&&"bar2Buffer"]};return(0,s.Z)(a,v,n)}(g),y=(0,m.Z)(),C={},j={bar1:{},bar2:{}};if("determinate"===b||"buffer"===b)if(void 0!==d){C["aria-valuenow"]=Math.round(d),C["aria-valuemin"]=0,C["aria-valuemax"]=100;var w=d-100;"rtl"===y.direction&&(w=-w),j.bar1.transform="translateX(".concat(w,"%)")}else 0;if("buffer"===b)if(void 0!==f){var k=(f||0)-100;"rtl"===y.direction&&(k=-k),j.bar2.transform="translateX(".concat(k,"%)")}else 0;return(0,A.jsxs)(R,(0,o.Z)({className:(0,l.Z)(Z.root,r),ownerState:g,role:"progressbar"},C,{ref:n},x,{children:["buffer"===b?(0,A.jsx)(z,{className:Z.dashed,ownerState:g}):null,(0,A.jsx)(Y,{className:Z.bar1,ownerState:g,style:j.bar1}),"determinate"===b?null:(0,A.jsx)(F,{className:Z.bar2,ownerState:g,style:j.bar2})]}))}))}}]);
//# sourceMappingURL=1913.dfd12ebf.chunk.js.map