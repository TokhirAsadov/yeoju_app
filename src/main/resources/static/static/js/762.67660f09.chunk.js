"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[762],{40762:function(n,e,i){i.r(e);var o,l,t,d,u,a,r,c,v,s,f,p=i(30168),m=i(45987),h=i(93433),x=i(1413),Z=i(15861),g=i(29439),b=i(64687),j=i.n(b),w=i(72791),k=i(17939),y=i(55294),D=i(27301),N=i(64554),S=i(30829),E=i(84638),C=i(68096),P=i(58406),z=i(39124),F=i(43896),T=i(95173),W=i(47047),O=i(90177),I=i(72426),L=i.n(I),Y=i(76760),_=i(59434),B=i(77159),M=i(80184),q=["children","value","index"],A=k.ZP.div(o||(o=(0,p.Z)(["\n    margin: 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 30px;\n    height: 30px;\n    background-color: red;\n    color: white;\n    border-radius: 50%;\n"]))),G=k.ZP.div(l||(l=(0,p.Z)(["\n    h6 {\n        font-size: 11px;\n        font-weight: bold;\n        color: #000000;\n    }\n\n    p {\n        font-size: 10px;\n        font-weight: normal;\n        color: silver;\n    }\n\n"]))),U=k.ZP.div(t||(t=(0,p.Z)(["\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin: 0 auto;\n\n"]))),H=k.ZP.div(d||(d=(0,p.Z)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 0.2fr 1fr 0.2fr;\n    align-items: center;\n    gap: 5px;\n\n"]))),J=k.ZP.div(u||(u=(0,p.Z)(["\n    margin-top: 20px;\n\n    h5 {\n        text-align: center;\n        margin: 30px 0;\n        color: ",";\n    }\n"])),D.Lr),K=k.ZP.p(a||(a=(0,p.Z)(["\n    font-size: 15px;\n    font-weight: bold;\n    color: ",";\n"])),(function(n){return n.cl})),Q=k.ZP.div(r||(r=(0,p.Z)(["\n    border-radius: 8px;\n    background-color: #fff;\n    padding: 10px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n"]))),R=k.ZP.div(c||(c=(0,p.Z)(["\n    display: flex;\n    justify-content: end;\n    margin: 20px 0;\n"]))),V=k.ZP.div(v||(v=(0,p.Z)(["\n    width: 100%;\n    min-width: 300px;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    gap: 40px;\n    margin-bottom: 40px;\n    ","\n    ","\n"])),(0,T.yG)({gridTemplateColumns:"auto auto"}),(0,T.qD)({gridTemplateColumns:"auto"})),X=k.ZP.div(s||(s=(0,p.Z)(["\n    font-size: 13px;\n    width: 200px !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    border-radius: 8px !important;;\n    color: ",";\n    padding: 5px 20px !important;\n    height: 42px !important;\n    margin: 5px !important;\n    box-shadow: rgba(0, 0, 0, 0.1) 0 4px 12px;\n\n    &:hover {\n        color: #ffffff !important;\n        background-color: #5093f1 !important;\n    }\n\n    &.Mui-selected {\n        color: #ffffff !important;\n        background-color: #5093f1 !important;\n    }\n"])),D.Lr),$=k.ZP.div(f||(f=(0,p.Z)(["\n    width: 100%;\n    padding: 10px;\n\n"])));e.default=function(){var n=(0,w.useState)([]),e=(0,g.Z)(n,2),i=e[0],o=e[1],l=(0,w.useState)(""),t=(0,g.Z)(l,2),d=t[0],u=t[1],a=(0,w.useState)({}),r=(0,g.Z)(a,2),c=r[0],v=r[1],s=(0,w.useState)([]),f=(0,g.Z)(s,2),p=f[0],b=f[1],k=(0,w.useState)([]),T=(0,g.Z)(k,2),I=T[0],nn=T[1],en=(0,w.useState)(0),on=(0,g.Z)(en,2),ln=on[0],tn=on[1],dn=(0,w.useState)([]),un=(0,g.Z)(dn,2),an=un[0],rn=un[1],cn=(0,w.useState)([]),vn=(0,g.Z)(cn,2),sn=vn[0],fn=vn[1],pn=(0,w.useState)([]),mn=(0,g.Z)(pn,2),hn=(mn[0],mn[1]),xn=(0,_.v9)((function(n){var e;return null===n||void 0===n||null===(e=n.educationYear)||void 0===e?void 0:e.educationYear})),Zn=(0,w.useState)(!0),gn=(0,g.Z)(Zn,2),bn=gn[0],jn=gn[1],wn=(0,w.useState)(!1),kn=(0,g.Z)(wn,2),yn=(kn[0],kn[1]),Dn=(0,D.wU)().headers,Nn=(0,_.I0)(),Sn=[1,2,3,4],En=[1,2,3,4,5],Cn=(0,w.useState)({date:new Date,dateFrom:L()().startOf("isoWeek").toDate(),dateTo:L()().endOf("isoWeek").toDate(),weekNumber:L()().isoWeek(),weekDay:L()().day()}),Pn=(0,g.Z)(Cn,2),zn=Pn[0],Fn=(Pn[1],function(){var n=(0,Z.Z)(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.Z.get(D._n+"/education/educationYearsForSelected",{headers:Dn}).then((function(n){var e,i;Nn((0,Y.eD)(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.obj)||void 0===i?void 0:i[0]))})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}());(0,w.useEffect)((function(){y.Z.get(D._n+"/dekanat/all",Dn).then((function(n){var e;o(n.data.obj),b(null===(e=n.data.obj)||void 0===e?void 0:e.map((function(n){return n.name}))),u(n.data.obj[0].name)})).catch((function(n){return console.log(n)}))}),[]),(0,w.useEffect)((function(){Fn()}),[]),(0,w.useEffect)((function(){var n,e;hn([]),jn(!0),(null===I||void 0===I?void 0:I.length)>0&&xn&&y.Z.get("".concat(D._n,"/timeTableByWeekOfYear/studentStatisticsWithWeekOfEduYear/").concat(null===xn||void 0===xn?void 0:xn.id,"?facultyId=").concat(I[ln].id,"&facultyShortName=").concat(I[ln].shortName,"&eduType=").concat(null===c||void 0===c||null===(n=c.eduType)||void 0===n?void 0:n.name,"&eduTypeId=").concat(null===c||void 0===c||null===(e=c.eduType)||void 0===e?void 0:e.id)).then((function(n){var e,i,o,l,t,d;rn(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.obj)||void 0===i?void 0:i.map((function(n){var e=[];return null===n||void 0===n||n.map((function(n){En.map((function(i){var o,l,t,d;(null===n||void 0===n?void 0:n.sortNumber)===(null===zn||void 0===zn?void 0:zn.weekNumber)?i<=(null===zn||void 0===zn?void 0:zn.weekDay)&&e.push(null===n||void 0===n||null===(o=n[i])||void 0===o||null===(l=o.statistics)||void 0===l?void 0:l.map((function(e){return(0,x.Z)((0,x.Z)({},e),{},{day:i,week:null===n||void 0===n?void 0:n.sortNumber})}))):e.push(null===n||void 0===n||null===(t=n[i])||void 0===t||null===(d=t.statistics)||void 0===d?void 0:d.map((function(e){return(0,x.Z)((0,x.Z)({},e),{},{day:i,week:null===n||void 0===n?void 0:n.sortNumber})})))}))})),Object.values((null===e||void 0===e?void 0:e.flat()).reduce((function(n,e){var i=null===e||void 0===e?void 0:e.fullName;return n[i]?n[i].push(e):n[i]=[e],n}),{}))}))),fn(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.secondObj)||void 0===l?void 0:l.map((function(n){return null===n||void 0===n?void 0:n.map((function(n){return(0,x.Z)((0,x.Z)({},n),{},{count:Object.values((e=null===n||void 0===n?void 0:n.count,e.reduce((function(n,e){var i=e;return n[i]?n[i].push(e):n[i]=[e],n}),{})))});var e}))}))),null===n||void 0===n||null===(t=n.data)||void 0===t||null===(d=t.obj)||void 0===d||d.map((function(n){n.map((function(n){(null===n||void 0===n?void 0:n.sortNumber)===(null===zn||void 0===zn?void 0:zn.weekNumber)?En.map((function(e){e<=(null===zn||void 0===zn?void 0:zn.weekDay)&&hn((function(i){var o;return[].concat((0,h.Z)(i),(0,h.Z)(null===n||void 0===n||null===(o=n[e])||void 0===o?void 0:o.statistics))}))})):En.map((function(e){hn((function(i){var o;return[].concat((0,h.Z)(i),(0,h.Z)(null===n||void 0===n||null===(o=n[e])||void 0===o?void 0:o.statistics))}))}))}))})),jn(!1)})).catch((function(n){jn(!1),yn(!0),console.log(n)}))}),[xn,ln,I]),(0,w.useEffect)((function(){var n;nn((null===(n=i.find((function(n){return n.name===d})))||void 0===n?void 0:n.faculties)||[]),v(i.find((function(n){return n.name===d}))),console.log(i.find((function(n){return n.name===d})),"allll deeean")}),[d]),(0,w.useEffect)((function(){console.log(I)}),[I]);var Tn=[5,10,20,30,40,50],Wn=(0,w.useState)(Tn[0]),On=(0,g.Z)(Wn,2),In=On[0],Ln=On[1],Yn=function(n){Ln(n.target.value)};function _n(n){var e=n.children,i=n.value,o=n.index,l=(0,m.Z)(n,q);return(0,M.jsx)("div",(0,x.Z)((0,x.Z)({role:"tabpanel",hidden:i!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},l),{},{children:i===o&&(0,M.jsx)(N.Z,{sx:{p:0},children:(0,M.jsx)("div",{children:e})})}))}return(0,M.jsxs)($,{children:[(0,M.jsxs)(C.Z,{sx:{width:"200px",m:2},children:[(0,M.jsx)(S.Z,{id:"demo-simple-select-label",children:"Dean"}),(0,M.jsx)(P.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,label:"Dean",onChange:function(n){u(n.target.value)},children:p.map((function(n,e){return(0,M.jsx)(E.Z,{value:n,children:n},e)}))})]}),(0,M.jsx)("div",{className:"dekantabs",children:(0,M.jsx)(z.Z,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,value:ln,onChange:function(n,e){tn(e)},indicatorColor:"","aria-label":"basic tabs example",children:null===I||void 0===I?void 0:I.map((function(n,e){return(0,M.jsx)(F.Z,(0,x.Z)({component:X,label:null===n||void 0===n?void 0:n.shortName},{id:"simple-tab-".concat(i=e),"aria-controls":"simple-tabpanel-".concat(i)}),e);var i}))})}),null===I||void 0===I?void 0:I.map((function(n,e){return(0,M.jsxs)(_n,{value:ln,index:e,children:[(0,M.jsx)(R,{children:(0,M.jsxs)(C.Z,{sx:{minWidth:100},size:"small",children:[(0,M.jsx)(S.Z,{id:"select-label",children:"Size"}),(0,M.jsx)(P.Z,{labelId:"select-label",id:"select-small-size",value:In,label:"Size",onChange:Yn,children:Tn.map((function(n,e){return(0,M.jsx)(E.Z,{value:n,children:n},e)}))})]})}),(0,M.jsxs)(V,{children:[bn&&Array.from({length:4}).map((function(n,e){return(0,M.jsxs)(Q,{children:[(0,M.jsxs)(K,{cl:0===e&&"".concat(D.Lr)||1===e&&"#FD8539"||2===e&&"#2ED480"||3===e&&"#FE6D8E",children:[e+1,"-Course"]}),(0,M.jsx)(J,{children:(0,M.jsxs)(N.Z,{sx:{width:"100%"},children:[(0,M.jsx)(W.Z,{}),(0,M.jsx)(W.Z,{animation:"wave"}),(0,M.jsx)(W.Z,{animation:!1})]})})]},e)})),!bn&&an?null===an||void 0===an?void 0:an.map((function(n,e){var i,o,l;return(0,M.jsxs)(Q,{children:[(0,M.jsxs)(K,{cl:0===e&&"".concat(D.Lr)||1===e&&"#FD8539"||2===e&&"#2ED480"||3===e&&"#FE6D8E",children:[e+1,"-Course"]}),(0,M.jsx)(J,{children:n.length>0?null===n||void 0===n||null===(i=n.sort((function(n,e){return(null===n||void 0===n?void 0:n.length)<(null===e||void 0===e?void 0:e.length)?1:(null===n||void 0===n?void 0:n.length)>(null===e||void 0===e?void 0:e.length)?-1:0})))||void 0===i||null===(o=i.map((function(n,i){var o=0;return null===n||void 0===n||n.map((function(n){var i,l,t,d,u,a,r,c,v=L()().isoWeek(),s=L()().format("DD");v>n.week&&Number(s)>n.day&&(null!==sn&&void 0!==sn&&null!==(i=sn[e])&&void 0!==i&&null!==(l=i.find((function(e){return(null===e||void 0===e?void 0:e.week)===(null===n||void 0===n?void 0:n.week)&&e.groupName===(null===n||void 0===n?void 0:n.groupName)})))&&void 0!==l&&null!==(t=l.count)&&void 0!==t&&null!==(d=t[(null===n||void 0===n?void 0:n.day)-1])&&void 0!==d&&d.length&&(o+=null===sn||void 0===sn||null===(u=sn[e])||void 0===u||null===(a=u.find((function(e){return(null===e||void 0===e?void 0:e.week)===(null===n||void 0===n?void 0:n.week)&&(null===e||void 0===e?void 0:e.groupName)===(null===n||void 0===n?void 0:n.groupName)})))||void 0===a||null===(r=a.count)||void 0===r||null===(c=r[(null===n||void 0===n?void 0:n.day)-1])||void 0===c?void 0:c.length))})),(0,x.Z)((0,x.Z)({},n),{},{counter:o})})))||void 0===o||null===(l=o.sort((function(n,e){return(null===n||void 0===n?void 0:n.counter)<(null===e||void 0===e?void 0:e.counter)?1:(null===n||void 0===n?void 0:n.counter)>(null===e||void 0===e?void 0:e.counter)?-1:0})))||void 0===l?void 0:l.map((function(n,e){var i,o;return e<In&&(0,M.jsxs)(H,{children:[(0,M.jsx)(U,{children:(0,M.jsx)("img",{style:{width:"100%"},src:null!==n&&void 0!==n&&n.avatarimg?null===n||void 0===n?void 0:n.avatarimg:O,alt:"avatar"})}),(0,M.jsxs)(G,{children:[(0,M.jsx)("h6",{children:null===n||void 0===n||null===(i=n[0])||void 0===i?void 0:i.fullName}),(0,M.jsx)("p",{children:null===n||void 0===n||null===(o=n[0])||void 0===o?void 0:o.groupName})]}),(0,M.jsx)(A,{children:null===n||void 0===n?void 0:n.counter})]},e)})):(0,M.jsx)(N.Z,{children:(0,M.jsx)(B.Z,{w:150,h:130})})})]},e)})):!bn&&Sn.map((function(n,e){return(0,M.jsxs)(Q,{children:[(0,M.jsxs)(K,{cl:0===e&&"".concat(D.Lr)||1===e&&"#FD8539"||2===e&&"#2ED480"||3===e&&"#FE6D8E",children:[e+1,"-Course"]}),(0,M.jsx)(J,{children:(0,M.jsx)("h5",{children:"No data Students"})})]})}))]})]},e)}))]})}}}]);
//# sourceMappingURL=762.67660f09.chunk.js.map