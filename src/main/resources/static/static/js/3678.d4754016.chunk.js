"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[3678],{696:function(n,e,i){var t,o,r,l,a,d,s,c,h,x,u,p,f,m,g,v,j,Z,w,b,y=i(30168),k=i(29439),P=i(72791),S=i(17939),C=i(27301),E=i(56355),z=i(88447),D=i(64554),M=i(17425),N=i(88197),_=i(34358),H=i(86388),I=i(99264),Y=i(56253),F=i(39126),q=i(80184),R={width:"100%",maxHeight:380},T={width:"100%",maxHeight:170},A=S.ZP.div(t||(t=(0,y.Z)(["\n    width: 20px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    overflow: hidden;\n"]))),L=(0,S.ZP)(Y.E.div)(o||(o=(0,y.Z)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n"]))),U=(0,S.ZP)(Y.E.div)(r||(r=(0,y.Z)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n    flex-direction: column;\n"]))),O=S.ZP.div(l||(l=(0,y.Z)(["\n    flex: 1;\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n"]))),K=(0,S.ZP)(Y.E.button)(a||(a=(0,y.Z)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    border-radius: 50%;\n    color: white;\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"])),C.Lr),Q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",minHeight:500,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:2},G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"89vw",minHeight:400,bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},V=S.ZP.button(d||(d=(0,y.Z)(["\n    width: 40px;\n    height: 40px;\n    background-color: #fff;\n    border-radius: 0.5rem;\n    align-self: end;\n  \n    border: none;\n"]))),W=S.ZP.div(s||(s=(0,y.Z)(["\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),$=S.ZP.div(c||(c=(0,y.Z)(["\n    flex: 1;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 32px;\n    border-radius: 50%;\n    overflow: hidden;\n\n"]))),B=(0,S.ZP)(Y.E.div)(h||(h=(0,y.Z)(["\n    width: 100%;\n    display: flex;\n    gap: 5px;\n"]))),J=(0,S.ZP)(Y.E.div)(x||(x=(0,y.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n\n"]))),X=(0,S.ZP)(Y.E.div)(u||(u=(0,y.Z)(["\n    min-width: 500px;\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    min-height: 480px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n"]))),nn=S.ZP.div(p||(p=(0,y.Z)(["\n    flex: ",";\n"])),(function(n){return n.flex})),en=S.ZP.div(f||(f=(0,y.Z)(["\n    width: 100%;\n    display: flex;\n    gap: 20px;\n"]))),tn=S.ZP.div(m||(m=(0,y.Z)(["\n    width: 200px;\n    height: 200px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 100px;\n    border-radius: 50%;\n\n"]))),on=S.ZP.div(g||(g=(0,y.Z)(["\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),rn=S.ZP.button(v||(v=(0,y.Z)(["\n    width: 80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 15px 20px !important;\n    border: none;\n    border-radius: 1rem;\n    background-color: transparent;\n    color: ",";\n    transition: 0.3s background-color;\n\n    &:hover {\n        background-color: #fff;\n    }\n\n"])),C.Lr),ln=S.ZP.div(j||(j=(0,y.Z)(["\n    background-color: #a9d4e0;\n    border-radius: 1rem;\n    padding: 1rem !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),an=(0,S.ZP)(Y.E.div)(Z||(Z=(0,y.Z)(["\n\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    min-height: 480px;\n"]))),dn=(0,S.ZP)(Y.E.div)(w||(w=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    min-height: 480px;\n"]))),sn=(0,S.ZP)(Y.E.div)(b||(b=(0,y.Z)(["\n    overflow: scroll;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    gap: 20px;\n    grid-template-columns: 20rem auto 16rem;\n"])));e.Z=function(n){var e,i,t,o,r=n.colName,l=n.kafedraMudiri,a=n.come,d=n.noCome,s=n.all,c=n.facultyName,h=n.kafedraId,x=n.isTeacherUrl,u=(0,P.useState)([]),p=(0,k.Z)(u,2),f=p[0],m=p[1];(0,P.useEffect)((function(){m(s)}),[]);var g=(0,P.useState)(""),v=(0,k.Z)(g,2),j=v[0],Z=v[1],w=(0,P.useState)(""),b=(0,k.Z)(w,2),y=b[0],S=b[1],cn=(0,P.useState)(""),hn=(0,k.Z)(cn,2),xn=hn[0],un=hn[1],pn=(0,P.useState)(!1),fn=(0,k.Z)(pn,2),mn=fn[0],gn=fn[1],vn=(0,P.useState)(!1),jn=(0,k.Z)(vn,2),Zn=jn[0],wn=jn[1],bn=function(){gn(!1)},yn=function(){wn(!1)},kn={hidden:{scale:0},show:{scale:1}},Pn={visible:function(n){return{scale:1,transition:{delay:.1*n}}},hidden:{scale:0}};return(0,q.jsxs)(sn,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.8}}},initial:"hidden",animate:"show",children:[(0,q.jsxs)(an,{variants:kn,children:[(0,q.jsx)(on,{children:l?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(tn,{children:null!==l&&void 0!==l&&l.photos?(0,q.jsx)("img",{src:C._n+"/attachment/download/"+(null===l||void 0===l||null===(e=l.photos)||void 0===e?void 0:e.id),width:"200px",height:"200px",style:{borderRadius:"50%"},alt:""}):(0,q.jsx)(E.q1E,{})}),(0,q.jsxs)(en,{children:[(0,q.jsx)(nn,{flex:1,children:"Name:"}),(0,q.jsx)(nn,{flex:2,children:null===l||void 0===l?void 0:l.fullName})]}),(0,q.jsxs)(en,{children:[(0,q.jsx)(nn,{flex:1,children:"Email:"}),(0,q.jsx)(nn,{flex:2,children:null===l||void 0===l?void 0:l.email})]}),(0,q.jsxs)(en,{children:[(0,q.jsx)(nn,{flex:1,children:"Tel:"}),(0,q.jsx)(nn,{flex:2,children:0!==(null===l||void 0===l||null===(i=l.phones)||void 0===i?void 0:i.length)?null===l||void 0===l||null===(t=l.phones)||void 0===t||null===(o=t.filter((function(n){return"WORK_PHONE"===n.phoneType}))[0])||void 0===o?void 0:o.phoneNumber:"-"})]})]}):(0,q.jsx)(q.Fragment,{children:"\u26a0\ufe0f"})}),(0,q.jsxs)(ln,{children:[(0,q.jsx)(rn,{onClick:function(){wn(!0)},children:"Open Month Modal"}),(0,q.jsx)(I.M,{children:Zn&&(0,q.jsx)(z.Z,{open:Zn,onClose:yn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",component:Y.E.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},exit:{opacity:0},children:(0,q.jsxs)(D.Z,{sx:Q,children:[(0,q.jsx)(K,{onClick:yn,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,q.jsx)(M.eSQ,{})}),(0,q.jsx)(H.Z,{colName:r,isTeacher:x,date:new Date,userName:c,kafedraId:h,url:x?"/kafera-mudiri/getStatisticssForRektor?kafedraId=":"/staff/getStatisticsForRektor?sectionId="})]})})})]})]}),(0,q.jsxs)(X,{variants:kn,children:[(0,q.jsxs)("h5",{style:{fontSize:"20px",textAlign:"center",color:"white"},children:[x?"O'qituvchilar":"Hodimlar"," "," ro'yxati"]}),(0,q.jsx)(_.Z,{style:R,children:(0,q.jsxs)(J,{variants:{hidden:{opacity:0,scale:.75},show:{opacity:1,scale:1,rotate:0,transition:{staggerChildren:.1,delayChildren:.3}}},initial:"hidden",animate:"show",children:[null===f||void 0===f?void 0:f.map((function(n,e){var i;return(0,q.jsxs)(B,{custom:e,animate:"visible",variants:Pn,initial:"hidden",children:[(0,q.jsx)($,{children:null!==n&&void 0!==n&&n.photo?(0,q.jsx)("img",{src:C._n+"/attachment/download/"+(null===n||void 0===n||null===(i=n.photo)||void 0===i?void 0:i.id),style:{borderRadius:"50%"},width:"40px",height:"40px",alt:""}):(0,q.jsx)(E.q1E,{})}),(0,q.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"12px",lineHeight:"40px"},children:n.fullName}),(0,q.jsx)(W,{children:(0,q.jsxs)(V,{onClick:function(){var e,i,t,o;return i=n.fullName,t=n.id,o=null===n||void 0===n||null===(e=n.photo)||void 0===e?void 0:e.id,Z(i),un(o),S(t),gn(!0)},children:[null===n||void 0===n?void 0:n.countTouch,(0,q.jsx)(F.bbP,{size:19,color:C.Lr})]})})]},n.id)})),(0,q.jsx)(z.Z,{open:mn,onClose:bn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,q.jsxs)(D.Z,{sx:G,children:[(0,q.jsx)(K,{onClick:bn,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,q.jsx)(M.eSQ,{})}),(0,q.jsx)(N.Z,{userName:j,userId:y,date:new Date,photo:xn})]})})]})})]}),(0,q.jsxs)(dn,{variants:kn,children:[(0,q.jsxs)(O,{children:[(0,q.jsx)("h5",{style:{fontSize:"14px",textAlign:"center",color:"white"},children:"Ishga kelganlar"}),(0,q.jsx)(_.Z,{style:T,children:(0,q.jsxs)(U,{children:[null===a||void 0===a?void 0:a.map((function(n,e){var i;return(0,q.jsxs)(L,{custom:e,animate:"visible",variants:Pn,initial:"hidden",children:[(0,q.jsx)(A,{children:null!==n&&void 0!==n&&n.photo?(0,q.jsx)("img",{src:C._n+"/attachment/download/"+(null===n||void 0===n||null===(i=n.photo)||void 0===i?void 0:i.id),style:{borderRadius:"50%"},width:"20px",height:"20px",alt:""}):(0,q.jsx)(E.q1E,{})}),(0,q.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"10px",lineHeight:"20px"},children:n.fullName})]},n.id)})),0===(null===a||void 0===a?void 0:a.length)&&(0,q.jsx)("h1",{style:{textAlign:"center",fontSize:"14px"},children:"-"})]})})]}),(0,q.jsxs)(O,{children:[(0,q.jsx)("h5",{style:{fontSize:"14px",textAlign:"center",color:"red"},children:"Ishga kelmaganlar"}),(0,q.jsx)(_.Z,{style:T,children:(0,q.jsx)(U,{children:null===d||void 0===d?void 0:d.map((function(n,e){var i;return(0,q.jsxs)(L,{custom:e,animate:"visible",variants:Pn,initial:"hidden",children:[(0,q.jsx)(A,{children:null!==n&&void 0!==n&&n.photo?(0,q.jsx)("img",{src:C._n+"/attachment/download/"+(null===n||void 0===n||null===(i=n.photo)||void 0===i?void 0:i.id),width:"20px",height:"20px",alt:""}):(0,q.jsx)(E.q1E,{})}),(0,q.jsx)("span",{style:{flex:3,display:"flex",alignItems:"flex-start",fontSize:"10px",lineHeight:"20px"},children:n.fullName})]},n.id)}))})})]})]})]})}},6847:function(n,e,i){var t=i(93433),o=i(72791),r=i(72426),l=i.n(r),a=i(34045),d=i(24518),s=i(80184),c=function(n){var e=n.dataToExcel,i=n.direction;return(0,s.jsx)(d.Z,{variant:"contained",onClick:function(){return function(n){if(n&&0!==n.length){var e=n.sort((function(n,e){return n.name.toUpperCase().localeCompare(e.name.toUpperCase())})),o=[["\u2116","Direction","All Staff","Staff Came","Percent","".concat(l()().format("DD.MM.YYYY HH:mm"))]].concat((0,t.Z)(e.map((function(n,e){var i,t,o,r,l,a;return[e+1,n.name,(null===(i=n.data)||void 0===i?void 0:i.allCount)||0,(null===(t=n.data)||void 0===t?void 0:t.comeCount)||0,(l=null===(o=n.data)||void 0===o?void 0:o.allCount,a=null===(r=n.data)||void 0===r?void 0:r.comeCount,l&&a?Math.ceil(100*a/l):0)]})))),r=a.P6.book_new(),d=a.P6.aoa_to_sheet(o);a.P6.book_append_sheet(r,d,"data");var s="".concat(i,"_data.xlsx");a.NC(r,s)}else console.error("No data to export.")}(e)},children:"export to excel"})};e.Z=(0,o.memo)(c)},88197:function(n,e,i){var t,o,r,l,a,d,s,c,h,x,u,p,f,m,g=i(30168),v=i(15861),j=i(29439),Z=i(64687),w=i.n(Z),b=i(72791),y=i(72426),k=i.n(y),P=i(17939),S=i(27301),C=i(24518),E=i(76053),z=i(55294),D=i(64554),M=i(47047),N=i(17425),_=i(88447),H=i(75618),I=i(95173),Y=i(90177),F=i(30203),q=i(80184),R=P.ZP.button(t||(t=(0,g.Z)(["\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(255, 255, 255, 0.6);\n    border-radius: 50%;\n    color: ",";\n    font-size: 26px;\n    border: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n"])),S.Lr),T=P.ZP.div(o||(o=(0,g.Z)(["\n    width: 70px;\n    height: 70px;\n    overflow: hidden;\n    border-radius: 100%;\n    ","\n"])),(0,I.qD)({width:"60px",height:"60px"})),A=P.ZP.div(r||(r=(0,g.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 26px;\n    color: ",";\n    ","\n"])),S.Lr,(0,I.qD)({fontSize:15})),L=P.ZP.div(l||(l=(0,g.Z)(["\n    display: flex;\n    gap: 20px;\n"]))),U=P.ZP.button(a||(a=(0,g.Z)(["\n    width: 100%;\n    min-height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 24px;\n    font-weight: bold;\n    border: 1px solid ",";\n    color: ",";\n    background-color: ",";\n    transition: 0.1s all ease-in;\n\n    &:hover {\n        filter: brightness(.7);\n    }\n\n    &:focus {\n        transform: scale(0.95);\n    }\n"])),S.Lr,(function(n){return n.bg?"#fff":n.color?"green":"red"}),(function(n){return n.bg?n.bg:"#fff"})),O=P.ZP.div(d||(d=(0,g.Z)(["\n    width: 100%;\n    overflow-x: scroll;\n"]))),K=P.ZP.span(s||(s=(0,g.Z)(["\n    font-size: 12px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),Q=P.ZP.div(c||(c=(0,g.Z)(["\n    width: 100%;\n    min-height: 40px;\n    border: 1px solid ",";\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n"])),S.Lr),G=P.ZP.div(h||(h=(0,g.Z)(["\n    width: 50px;\n    height: 80px;\n    display: flex;\n    flex-direction: column;\n"]))),V=P.ZP.div(x||(x=(0,g.Z)(["\n    display: flex;\n    width: 1200px;\n    //justify-content: center;\n    margin: 30px auto;\n"]))),W=P.ZP.div(u||(u=(0,g.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n    font-size: 24px;\n"]))),$=P.ZP.div(p||(p=(0,g.Z)(["\n    width: 100%;\n    margin-top: 50px !important;\n"]))),B=P.ZP.div(f||(f=(0,g.Z)(["\n    width: 100% !important;\n    padding: 5px 10px;\n    ","\n"])),(0,I.qD)({padding:0})),J={width:"40px!important",height:"40px!important",fontSize:"24px"},X={border:"none",background:"transparent"},nn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50vw",minHeight:"50vh",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},en=P.ZP.div(m||(m=(0,g.Z)(["\n    ","\n    ","\n    ","\n"])),(0,I.IV)({width:"70vw !important"}),(0,I.yG)({width:"70vw !important"}),(0,I.qD)({width:"90vw !important",minHeight:"70vh !important"}));e.Z=function(n){var e=n.userName,i=n.userId,t=n.date,o=n.photo,r=n.forUser,l=(0,b.useState)(t),a=(0,j.Z)(l,2),d=a[0],s=a[1],c=(0,b.useState)([]),h=(0,j.Z)(c,2),x=h[0],u=h[1],p=(0,b.useState)(null),f=(0,j.Z)(p,2),m=f[0],g=f[1],Z=(0,b.useState)(!1),y=(0,j.Z)(Z,2),P=y[0],I=y[1],tn=(0,b.useState)(null),on=(0,j.Z)(tn,2),rn=on[0],ln=on[1],an=(0,b.useState)(null),dn=(0,j.Z)(an,2),sn=dn[0],cn=dn[1],hn=(0,b.useState)(!1),xn=(0,j.Z)(hn,2),un=xn[0],pn=xn[1],fn=function(){pn(!1)},mn=(0,S.wU)().headers,gn=function(n){return n.getFullYear()+"."+(n.getMonth()+1)+"."+n.getDate()};(0,b.useEffect)((function(){u((function(){return Array.from(Array(k()(d).daysInMonth()).keys()).map((function(n){return n+1}))})),jn()}),[d]);var vn=function(){var n=0;return m&&(null===x||void 0===x||x.map((function(e){null!=m[e]&&n++}))),n},jn=function(){var n=(0,v.Z)(w().mark((function n(){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.Z.get("".concat(S._n,"/kafera-mudiri/getStatisticss?userId=").concat(i,"&date=").concat(gn(d)),{headers:mn}).then((function(n){var e;g(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj),I(!0)})).catch((function(n){console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(B,{style:{width:"".concat(r||"100%")},children:[(0,q.jsxs)(L,{children:[(0,q.jsx)(T,{children:(0,q.jsx)("img",{src:o?S._n+"/attachment/download/"+o:Y,style:{width:"100%"},alt:e})}),(0,q.jsx)(A,{children:e})]}),(0,q.jsx)("hr",{}),(0,q.jsxs)($,{children:[(0,q.jsxs)(W,{children:[(0,q.jsx)(C.Z,{style:J,onClick:function(){I(!1),s(new Date(d.getFullYear(),d.getMonth()-1))},children:(0,q.jsx)(E.$K8,{})}),(0,q.jsx)("input",{type:"month",id:"start",name:"start",min:"2022-04",value:k()(d).format("YYYY-MM"),onChange:function(n){return s(new Date(n.target.value))},style:X}),(0,q.jsx)(C.Z,{style:J,onClick:function(){I(!1),s(new Date(d.getFullYear(),d.getMonth()+1))},children:(0,q.jsx)(E._P3,{})})]}),P?(0,q.jsx)(O,{children:(0,q.jsxs)(V,{children:[null===x||void 0===x?void 0:x.map((function(n){return(0,q.jsxs)(G,{children:[(0,q.jsxs)(Q,{children:[n,(0,q.jsx)(K,{children:k()(new Date(d.getFullYear(),d.getMonth(),n)).format("ddd")})]}),(0,q.jsx)(U,{color:m[n],onClick:function(){return function(n){ln(new Date(d.getFullYear(),d.getMonth(),n)),cn(m[n]),pn(!0)}(n)},children:new Date(d.getFullYear(),d.getMonth(),n)<=new Date?m[n]?(0,q.jsx)(F.ETl,{}):(0,q.jsx)(F.hKd,{}):""})]},n)})),(0,q.jsxs)(G,{children:[(0,q.jsx)(Q,{children:"\u2211"}),(0,q.jsx)(U,{color:0!==vn(),bg:0!==vn()?"green":"red",children:vn()})]})]})}):(0,q.jsx)(M.Z,{animation:"wave",width:"100%",height:120})]}),(0,q.jsx)(_.Z,{open:un,onClose:fn,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,q.jsxs)(D.Z,{sx:nn,component:en,children:[(0,q.jsx)(R,{onClick:fn,children:(0,q.jsx)(N.eSQ,{})}),(0,q.jsx)(H.Z,{time:rn,item:sn})]})})]})})}}}]);
//# sourceMappingURL=3678.d4754016.chunk.js.map