"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[4814],{74814:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var a,i,r,o,l,c,s,u=t(30168),d=t(1413),f=t(29439),h=t(72791),p=t(17939),g=t(56355),x=t(1582),m=t(57621),Z=t(39504),v=t(89704),b=t(58766),j=t(27301),y=t(64554),C=t(24518),w=t(13400),S=t(58617),k=t(88447),P=t(40071),A=t(20890),G=t(95173),I=t(55294),D=t(56960),N=t(84257),W=t(48432),z=t(48550),T=t(80184),U=function(e){var n=e.closeBtnFn,t=e.fetchData,a=e.putData,i=a||{fullName:"",studentId:"",passport:"",stGroup:"",unv:"",educationType:"",course:"",yunalish:"",fails:"",stGpa:""},r=(0,h.useState)(i),o=(0,f.Z)(r,2),l=o[0],c=o[1],s=function(e){I.Z.post(j._n+"/workOtherService/saveSingleGPA",e).then((function(e){console.log(e),D.Am.success("Successfully saved"),t(),n()})).catch((function(e){console.log(e),D.Am.error("Error saving")}))};return(0,T.jsxs)(F,{children:[(0,T.jsxs)(E,{children:[(0,T.jsx)(z.Z,{fullWidth:!0,disabled:!0,label:"Full name",value:l.fullName,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{fullName:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,disabled:!0,label:"StudentId",value:l.studentId,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{studentId:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,disabled:!0,label:"Passport",value:l.passport,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{passport:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"Group name",value:l.stGroup,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{stGroup:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"Unv",value:l.unv,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{unv:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"Education type",value:l.educationType,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{educationType:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"Course",value:l.course,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{course:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"Direction",value:l.yunalish,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{yunalish:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"Fails",type:"number",value:l.fails,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{fails:e.target.value})}))}}),(0,T.jsx)(z.Z,{fullWidth:!0,label:"GPA",value:l.stGpa,onChange:function(e){return c((function(n){return(0,d.Z)((0,d.Z)({},n),{},{stGpa:e.target.value})}))}})]}),(0,T.jsxs)(x.Z,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,T.jsx)(C.Z,{variant:"outlined",onClick:n,children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",onClick:function(){var e=!0;for(var i in l)if(""===l[i]){e=!1;break}if(e){var r=parseInt(l.fails,10);if(isNaN(r))D.Am.error("Please enter a valid number for Credit.");else{var o=(0,d.Z)((0,d.Z)({},l),{},{fails:r});s(o),a?function(e){I.Z.put(j._n+"/workOtherService/updateSingleGPA",e).then((function(e){console.log(e),D.Am.success("Successfully updated"),t(),n()})).catch((function(e){console.log(e),D.Am.error("Error updated")}))}(o):s(o)}}else D.Am.error("Please fill in all the fields")},children:a?"update":"save"})]})]})},E=p.ZP.div(a||(a=(0,u.Z)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap:20px;\n  margin-bottom: 20px;\n  ","\n"])),(0,G.qD)({gridTemplateColumns:"1fr"})),F=p.ZP.div(i||(i=(0,u.Z)(["\n    margin: 20px 0;\n \n"]))),O=(0,h.memo)(U),_=t(71986),R=p.ZP.div(r||(r=(0,u.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]))),L=p.ZP.button(o||(o=(0,u.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"])),j.Lr),B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},M=p.ZP.div(l||(l=(0,u.Z)(["\n    ","\n"])),(0,G.qD)({width:"95% !important"})),q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},H=p.ZP.div(c||(c=(0,u.Z)(["\n    display: flex;\n    align-items: center;\n    color: ",";\n    gap: 5px;\n\n    h1 {\n        margin: 0;\n        font-size: 30px;\n        font-weight: bold;\n\n    }\n"])),j.Lr),V=p.ZP.div(s||(s=(0,u.Z)(["\n    width: 100%;\n    padding: 1rem;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]))),K=function(){var e=_.ad,n=(0,h.useState)(1e3),t=(0,f.Z)(n,2),a=t[0],i=t[1],r=(0,h.useState)(null),o=(0,f.Z)(r,2),l=o[0],c=o[1],s=[{field:"count",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:.4,field:"studentId",headerName:"Student id",sortable:!1,align:"center",justifyContent:"center"},{minWidth:150,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center"},{minWidth:60,flex:.3,field:"course",headerName:"Course",sortable:!0,align:"center"},{minWidth:100,flex:.3,field:"stGroup",headerName:"Group name",editable:!1,sortable:!1,align:"center"},{minWidth:150,flex:.7,field:"yunalish",headerName:"Direction",editable:!1,sortable:!1,align:"center"},{minWidth:150,flex:.7,field:"educationType",headerName:"Education type",editable:!1,sortable:!1,align:"center"},{minWidth:90,flex:.3,field:"fails",headerName:"Fails",editable:!1,sortable:!0,align:"center"},{minWidth:90,flex:.3,field:"stGpa",headerName:"GPA",editable:!1,sortable:!0,align:"center"},{minWidth:100,flex:.3,field:"passport",headerName:"Passport",editable:!1,sortable:!1,align:"center"},{flex:.4,field:"action",headerName:"Action",editable:!1,sortable:!1,align:"center",renderCell:function(e){return(0,T.jsx)(x.Z,{direction:"row",spacing:2,justifyContent:"center",children:(0,T.jsx)(w.Z,{"aria-label":"change",color:"success",onClick:function(){return fe(e.row)},children:(0,T.jsx)(S.z2D,{})})})}}],u=(0,j.wU)().headers,p=(0,h.useState)([]),G=(0,f.Z)(p,2),z=G[0],U=G[1],E=(0,h.useState)(!1),F=(0,f.Z)(E,2),K=F[0],J=F[1],Q=(0,h.useState)(!1),X=(0,f.Z)(Q,2),Y=X[0],$=X[1],ee=(0,h.useState)(null),ne=(0,f.Z)(ee,2),te=ne[0],ae=ne[1],ie=(0,h.useState)(!1),re=(0,f.Z)(ie,2),oe=re[0],le=re[1],ce=(0,h.useState)({page:0,pageSize:30}),se=(0,f.Z)(ce,2),ue=se[0],de=se[1],fe=function(e){var n={id:e.id,studentId:e.studentId,passport:e.passport,stGroup:e.stGroup,unv:e.unv,educationType:e.educationType,fullName:e.fullName,course:e.course,yunalish:e.yunalish,fails:e.fails,stGpa:e.stGpa};console.log(n),c(n),le(!0)},he=function(){J(!0),I.Z.get("".concat(j._n,"/workOtherService/getGPAs?page=").concat(ue.page+1,"&size=").concat(ue.pageSize)).then((function(e){var n,t,a,r;i(null===(n=e.data.obj)||void 0===n?void 0:n.totalElements),U(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.obj)||void 0===a||null===(r=a.content)||void 0===r?void 0:r.map((function(e,n){return(0,d.Z)((0,d.Z)({},e),{},{count:n+1})})))})).catch((function(e){console.log(e)})).finally((function(){return J(!1)}))};(0,h.useEffect)((function(){he(),console.log(z)}),[ue]);var pe=function(){ae(null),$(!1)},ge=function(){le(!1),c(null)};return(0,T.jsxs)(V,{children:[(0,T.jsx)(N.Z,{titleFile:"MONITORING_STUDENT_GPA_FILE",fetchData:he,saveFileUrl:"/workOtherService/updateGPA",urlBase:e}),(0,T.jsxs)(H,{children:[(0,T.jsx)(g.W95,{size:25}),(0,T.jsx)("h1",{children:"GPA"})]}),(0,T.jsx)(m.Z,{children:(0,T.jsxs)(Z.Z,{children:[(0,T.jsx)(y.Z,{display:"flex",justifyContent:"space-between",mb:2,children:(0,T.jsx)(W.Z,{setData:U,searchUrl:"/otherService/studentsGPA2/",pagination:ue,fetchData:he})}),(0,T.jsx)(v._,{rowCount:a,columns:s,rows:z||[],loading:K,components:{Toolbar:b.n},pageSize:ue.pageSize,page:ue.page,rowsPerPageOptions:[10,30,50,70,100],paginationMode:"server",onPageChange:function(e){de((function(n){return(0,d.Z)((0,d.Z)({},n),{},{page:e})}))},onPageSizeChange:function(e){de((function(n){return(0,d.Z)((0,d.Z)({},n),{},{pageSize:e})}))},autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1,studentId:!1,yunalish:!1,educationType:!1,passport:!1}}}})]})}),(0,T.jsx)(k.Z,{open:Y,onClose:pe,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,T.jsxs)(y.Z,{sx:B,component:M,children:[(0,T.jsxs)(R,{children:[(0,T.jsx)("h5",{children:"Delete"}),(0,T.jsxs)(L,{onClick:pe,children:[" ",(0,T.jsx)(P.bjh,{size:22})]})]}),(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(x.Z,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,T.jsx)(A.Z,{variant:"h6",color:"black",children:"Do you want to delete !"})}),(0,T.jsxs)(x.Z,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,T.jsx)(C.Z,{variant:"outlined",onClick:pe,children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",color:"error",onClick:function(){te&&I.Z.delete("".concat(j._n,"/example/").concat(te),{headers:u}).then((function(e){pe(),D.Am.success("Delete item")})).catch((function(e){D.Am.error("Error deleting")}))},children:"Ok"})]})]})]})}),(0,T.jsx)(k.Z,{open:oe,onClose:ge,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,T.jsxs)(y.Z,{sx:q,component:M,children:[(0,T.jsxs)(R,{children:[(0,T.jsx)("h3",{children:l?"Update":"Create"}),(0,T.jsxs)(L,{onClick:ge,children:[" ",(0,T.jsx)(P.bjh,{size:22})]})]}),(0,T.jsx)(y.Z,{children:(0,T.jsx)(O,{closeBtnFn:ge,fetchData:he,putData:l})})]})})]})}},84257:function(e,n,t){var a,i=t(30168),r=t(29439),o=t(72791),l=t(64554),c=t(24518),s=t(78820),u=t(52739),d=t(55294),f=t(27301),h=t(17939),p=t(56960),g=t(13239),x=t(1582),m=t(80184),Z=h.ZP.div(a||(a=(0,i.Z)(["\n  position: relative;\n  width: 95%;\n  height: 30px;\n  //background-color: #ccc;\n  border-radius: 7px;\n  overflow: hidden;\n\n  .progress-bar {\n    background-color: ",";\n    color: #fff;\n    text-align: center;\n    line-height: 30px;\n    width: 0;\n    position: absolute;\n    transition: width 0.1s;\n  }\n"])),f.Lr);n.Z=function(e){var n=e.saveFileUrl,t=e.urlBase,a=e.fetchData,i=e.titleFile,h=(0,o.useState)(!1),v=(0,r.Z)(h,2),b=v[0],j=v[1],y=(0,o.useState)(0),C=(0,r.Z)(y,2),w=(C[0],C[1]);return(0,m.jsxs)(l.Z,{display:"flex",justifyContent:"end",children:[(0,m.jsxs)(x.Z,{direction:"row",spacing:2,children:[(0,m.jsxs)(c.Z,{startIcon:(0,m.jsx)(s.IEK,{}),variant:"contained",component:"label",onChange:function(e){j(!0);var t=e.target.files[0],i=f._n+n,r=localStorage.getItem(f.o3),o={headers:{"Content-Type":"multipart/form-data",Authorization:f.iv+r,"Access-Control-Allow-Origin":"*"},onUploadProgress:function(e){w(Math.round(100*e.loaded/e.total))}},l=new FormData;l.append("file",t),console.log(t),d.Z.put(i,l,o).then((function(e){console.log(e),p.Am.success("Uploaded file successfully"),a()})).catch((function(e){console.log(e),p.Am.error("Upload failed")})).finally((function(){return j(!1)})),e.target.value=null},children:["import file",(0,m.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",type:"file",hidden:!0})]}),(0,m.jsx)(c.Z,{variant:"contained",onClick:function(){for(var e=atob(t),n=new Uint8Array(e.length),a=0;a<e.length;++a)n[a]=e.charCodeAt(a);var r=new Blob([n],{type:"application/xlsx"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="".concat(i,".xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o)},children:"example file"})]}),(0,m.jsx)(u.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:b,children:(0,m.jsx)(Z,{children:(0,m.jsx)(l.Z,{display:"flex",justifyContent:"center",children:(0,m.jsx)(g.Z,{color:"inherit"})})})})]})}},48432:function(e,n,t){var a=t(1413),i=t(29439),r=t(72791),o=t(63466),l=t(48550),c=t(39126),s=t(55294),u=t(27301),d=t(80184),f=function(e){var n=e.setData,t=e.searchUrl,f=e.fetchData,h=e.pagination,p=(0,r.useRef)(null),g=(0,r.useState)(""),x=(0,i.Z)(g,2),m=x[0],Z=x[1],v=(0,u.wU)().headers;return(0,r.useEffect)((function(){Z("")}),[h]),(0,d.jsx)(l.Z,{placeholder:"Search by ID card",size:"small",value:m,onChange:function(e){return function(e){Z(e),p.current&&p.current.cancel("Operation canceled due to new request.");var i=s.Z.CancelToken.source();p.current=i;var r=setTimeout((function(){e.length>=2?s.Z.get("".concat(u._n).concat(t).concat(e),{headers:v,cancelToken:i.token}).then((function(e){var t=e.data.obj.obj;n(t.map((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},{count:n+1})})))})).catch((function(e){s.Z.isCancel(e)?console.log("Request canceled:",e.message):console.error(e)})):f()}),300);return function(){i&&i.cancel("Operation canceled due to component unmount."),clearTimeout(r)}}(e.target.value)},id:"idCard",sx:{width:"300px"},InputProps:{startAdornment:(0,d.jsx)(o.Z,{position:"start",children:(0,d.jsx)(c.dVI,{size:20})})}})};n.Z=(0,r.memo)(f)}}]);
//# sourceMappingURL=4814.3af5afb2.chunk.js.map