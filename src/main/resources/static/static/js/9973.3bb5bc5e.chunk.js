"use strict";(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([[9973],{59973:function(n,e,i){i.r(e);var l,o,t,d,a,r,u=i(30168),s=i(4942),c=i(1413),v=i(29439),h=i(72791),p=i(17939),m=i(95173),f=i(27301),g=i(34197),x=i(89704),b=i(58766),Z=i(55294),y=i(23853),w=i(39126),j=i(88447),C=i(64554),k=i(17425),E=i(48550),S=i(56355),z=i(56253),P=i(56960),A=i(24518),U=i(57621),O=i(39504),N=i(80184),R=p.ZP.div(l||(l=(0,u.Z)(["\n  height: 155px;\n  padding-top: 10px;\n  display: grid;\n  overflow-y: scroll;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 30px;\n  ","\n  ","\n  ","\n"])),(0,m.IV)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,m.yG)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"}),(0,m.qD)({height:"100%",gridTemplateColumns:"1fr",gap:"15px"})),_=(0,p.ZP)(z.E.button)(o||(o=(0,u.Z)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: white;\n  font-size: 26px;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"])),f.Lr),D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",display:"flex",flexDirection:"column",gap:"20px",bgcolor:"background.paper",boxShadow:24,borderRadius:3,p:4},I=p.ZP.div(t||(t=(0,u.Z)(["\n  ","\n  ","\n  ","\n"])),(0,m.IV)({width:"97vw !important",height:"70vh !important"}),(0,m.yG)({width:"97vw !important",height:"70vh  !important"}),(0,m.qD)({width:"97vw !important",height:"70vh  !important"})),T=p.ZP.button(d||(d=(0,u.Z)(["\n  width: 30px;\n  height: 30px;\n  background-color: #fff;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  padding: 5px !important;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n"])),(function(n){return n.color}),(function(n){return n.color})),B=p.ZP.div(a||(a=(0,u.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin: 5px !important;\n"]))),H=p.ZP.div(r||(r=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 1rem;\n"])));e.default=function(){var n=(0,f.wU)().headers,e=(0,h.useState)(!1),i=(0,v.Z)(e,2),l=i[0],o=i[1],t=(0,h.useState)([]),d=(0,v.Z)(t,2),a=d[0],r=d[1],u=(0,h.useState)(!1),p=(0,v.Z)(u,2),m=p[0],z=p[1],L=(0,h.useState)({id:null,code:null,nameEn:null,nameRu:null,nameUz:null}),Q=(0,v.Z)(L,2),V=Q[0],q=Q[1],G=[{field:"id",headerName:"ID",width:300,editable:!1},{field:"code",headerName:"Code",type:"string",width:60,editable:!1},{field:"nameEn",headerName:"Name English",type:"string",width:300,editable:!1},{field:"nameRu",headerName:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",type:"string",width:300,editable:!1},{field:"nameUz",headerName:"O`zbekcha nomi",type:"string",width:300,editable:!1},{field:"service",headerName:"Service",type:"string",width:100,editable:!1,renderCell:function(n){return(0,N.jsxs)(B,{children:[(0,N.jsx)(T,{color:f.Lr,onClick:function(){var e;return J(null===n||void 0===n||null===(e=n.row)||void 0===e?void 0:e.id)},children:(0,N.jsx)(y.vPQ,{})}),(0,N.jsx)(T,{color:"red",onClick:function(){var e,i;return K(null===n||void 0===n||null===(e=n.row)||void 0===e?void 0:e.id,null===n||void 0===n||null===(i=n.row)||void 0===i?void 0:i.nameEn)},children:(0,N.jsx)(w.yvY,{})})]})}}],M=function(){Z.Z.get(f._n+"/school/findAll",{headers:n}).then((function(n){var e;r(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.obj),o(!1)})).catch((function(n){console.log(n)}))};(0,h.useEffect)((function(){M()}),[]),(0,h.useEffect)((function(){l&&M()}),[l]);var Y=function(){z(!1)},F=function(n){q((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,s.Z)({},n.target.name,n.target.value))}))},J=function(n){(null===a||void 0===a?void 0:a.length)>0&&q((function(e){return(0,c.Z)((0,c.Z)({},e),null===a||void 0===a?void 0:a.find((function(e){return(null===e||void 0===e?void 0:e.id)===n})))})),z(!0)},K=function(e,i){q({id:null,code:null,nameEn:null,nameRu:null,nameUz:null}),window.confirm("Do you want to delete ".concat(i,"?"))&&(Z.Z.delete("".concat(f._n,"/school/deleteById/").concat(e),{headers:n}).then((function(n){var i;r(null===a||void 0===a?void 0:a.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e}))),P.Am.success(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})})).catch((function(n){console.log(n)})),P.Am.success("Deleted successfully",{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))};return(0,N.jsxs)(H,{children:[(0,N.jsx)(C.Z,{display:"flex",justifyContent:"end",children:(0,N.jsx)(A.Z,{sx:{width:"220px"},variant:"contained",onClick:function(){z(!0),q({id:null,code:null,nameEn:null,nameRu:null,nameUz:null})},children:"Create School"})}),l&&(null===a||void 0===a?void 0:a.length)>0?(0,N.jsx)(g.Z,{}):(0,N.jsx)(U.Z,{children:(0,N.jsx)(O.Z,{children:(0,N.jsx)(x._,{checkboxSelection:!0,sx:{minHeight:"410px!important",overflow:"scroll"},columns:G,rows:a,components:{Toolbar:b.n},pageSize:5,initialState:(0,c.Z)((0,c.Z)({},a.initialState),{},{columns:{columnVisibilityModel:{id:!1}}})})})}),(0,N.jsx)(j.Z,{open:m,onClose:Y,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:(0,N.jsxs)(C.Z,{sx:D,component:I,children:[(0,N.jsx)(_,{onClick:Y,whileHover:{rotate:180,scale:1.1},whileTap:{scale:.9},transition:{duration:.3},children:(0,N.jsx)(k.eSQ,{})}),(0,N.jsx)("h3",{style:{color:"".concat(f.Lr)},children:null!==(null===V||void 0===V?void 0:V.id)&&null!==V&&void 0!==V&&V.id?"Update school":"Create new school"}),(0,N.jsxs)(R,{children:[(0,N.jsx)(E.Z,{id:"outlined-basic",label:"English name",variant:"outlined",value:null===V||void 0===V?void 0:V.nameEn,name:"nameEn",onChange:F}),(0,N.jsx)(E.Z,{id:"outlined-basic",label:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",variant:"outlined",value:null===V||void 0===V?void 0:V.nameRu,name:"nameRu",onChange:F}),(0,N.jsx)(E.Z,{id:"outlined-basic",label:"O`zbekcha nomi",variant:"outlined",value:null===V||void 0===V?void 0:V.nameUz,name:"nameUz",onChange:F}),(0,N.jsx)(E.Z,{label:"Code",variant:"outlined",id:"outlined-number",type:"number",InputLabelProps:{shrink:!0},value:null===V||void 0===V?void 0:V.code,name:"code",onChange:F})]}),(0,N.jsx)(C.Z,{sx:{display:"flex",justifyContent:"end"},children:(0,N.jsx)(A.Z,{variant:"contained",endIcon:null!==(null===V||void 0===V?void 0:V.id)&&null!==V&&void 0!==V&&V.id?(0,N.jsx)(y.vPQ,{}):(0,N.jsx)(S.TvB,{}),onClick:function(){return null!==(null===V||void 0===V?void 0:V.id)&&null!==V&&void 0!==V&&V.id?function(e){Object.values(e).every((function(n){return null!==n&&n}))?Z.Z.post(f._n+"/school/save",e,{headers:n}).then((function(n){z(!1),M(),P.Am.success("".concat(null===e||void 0===e?void 0:e.name," school has been updated successfully!."))})).catch((function(n){var e,i;console.log(n),P.Am.error(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)})):P.Am.warning("Empty any field..")}(V):(delete(e=V).id,void(Object.values(e).every((function(n){return null!==n&&n}))?Z.Z.post(f._n+"/school/save",(0,c.Z)((0,c.Z)({},e),{},{id:null}),{headers:n}).then((function(n){z(!1),M(),P.Am.success("".concat(null===e||void 0===e?void 0:e.name," school has been saved successfully!."))})).catch((function(n){var e,i;console.log(n),P.Am.error(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)})):P.Am.warning("Empty any field..")));var e},children:null!==(null===V||void 0===V?void 0:V.id)&&null!==V&&void 0!==V&&V.id?"Update":" Save"})})]})})]})}}}]);
//# sourceMappingURL=9973.3bb5bc5e.chunk.js.map