/*! For license information please see 4838.7bb3752b.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["4838"],{55513:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return ne}});var l=t("76150"),i=t("7409"),o=t("99282"),u=t("93820"),r=t("38956"),a=t("58865"),d=t("37098"),c=t("18965");t("85827"),t("25387"),t("72608"),t("2490"),t("41539"),t("57658"),t("92222"),t("21249"),t("57640"),t("9924"),t("26833"),t("84944"),t("33792"),t("69826"),t("31672"),t("59461"),t("91038"),t("78783"),t("2707"),t("9653");var s=t("85893"),v=t("67294"),f=t("71893"),p=t("27233"),m=t("28685"),h=t("55693"),x=t("32392"),g=t("61261"),b=t("42154"),j=t("44025"),_=t("33217"),w=t("22092"),k=t("71632"),y=t("45697"),S=t.n(y),D=t("71982"),N=t("72625"),E=t("30381"),C=t.n(E),T=t("85478"),z=t("50533"),F=t("90199");function W(){var n=(0,a._)(["\n    margin: 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 30px;\n    height: 30px;\n    background-color: red;\n    color: white;\n    border-radius: 50%;\n"]);return W=function(){return n},n}function O(){var n=(0,a._)(["\n    h6 {\n        font-size: 11px;\n        font-weight: bold;\n        color: #000000;\n    }\n\n    p {\n        font-size: 10px;\n        font-weight: normal;\n        color: silver;\n    }\n\n"]);return O=function(){return n},n}function B(){var n=(0,a._)(["\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin: 0 auto;\n\n"]);return B=function(){return n},n}function Y(){var n=(0,a._)(["\n    margin-top: 15px;\n    display: grid;\n    grid-template-columns: 0.2fr 1fr 0.2fr;\n    align-items: center;\n    gap: 5px;\n\n"]);return Y=function(){return n},n}function R(){var n=(0,a._)(["\n    margin-top: 20px;\n\n    h5 {\n        text-align: center;\n        margin: 30px 0;\n        color: ",";\n    }\n"]);return R=function(){return n},n}function A(){var n=(0,a._)(["\n    font-size: 15px;\n    font-weight: bold;\n    color: ",";\n"]);return A=function(){return n},n}function I(){var n=(0,a._)(["\n    border-radius: 8px;\n    background-color: #fff;\n    padding: 10px;\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n"]);return I=function(){return n},n}function L(){var n=(0,a._)(["\n    display: flex;\n    justify-content: end;\n    margin: 20px 0;\n"]);return L=function(){return n},n}function U(){var n=(0,a._)(["\n    width: 100%;\n    min-width: 300px;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    gap: 40px;\n    margin-bottom: 40px;\n    ","\n    ","\n"]);return U=function(){return n},n}function q(){var n=(0,a._)(["\n    font-size: 13px;\n    width: 200px !important;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    border-radius: 8px !important;;\n    color: ",";\n    padding: 5px 20px !important;\n    height: 42px !important;\n    margin: 5px !important;\n    box-shadow: rgba(0, 0, 0, 0.1) 0 4px 12px;\n\n    &:hover {\n        color: #ffffff !important;\n        background-color: #5093f1 !important;\n    }\n\n    &.Mui-selected {\n        color: #ffffff !important;\n        background-color: #5093f1 !important;\n    }\n"]);return q=function(){return n},n}function M(){var n=(0,a._)(["\n    width: 100%;\n    padding: 10px;\n\n"]);return M=function(){return n},n}var H=f.default.div(W()),G=f.default.div(O()),J=f.default.div(B()),K=f.default.div(Y()),P=f.default.div(R(),m.mainColor),Q=f.default.p(A(),function(n){return n.cl}),V=f.default.div(I()),X=f.default.div(L()),Z=f.default.div(U(),(0,k.small)({gridTemplateColumns:"auto auto"}),(0,k.extrasmall)({gridTemplateColumns:"auto"})),$=f.default.div(q(),m.mainColor),nn=f.default.div(M()),ne=function(){var n,e=function(n){var e=n.children,t=n.value,l=n.index,r=(0,u._)(n,["children","value","index"]);return(0,s.jsx)("div",(0,o._)((0,i._)({role:"tabpanel",hidden:t!==l,id:"simple-tabpanel-".concat(l),"aria-labelledby":"simple-tab-".concat(l)},r),{children:t===l&&(0,s.jsx)(h.default,{sx:{p:0},children:(0,s.jsx)("div",{children:e})})}))},t=(0,r._)((0,v.useState)([]),2),a=t[0],f=t[1],k=(0,r._)((0,v.useState)(""),2),y=k[0],E=k[1],W=(0,r._)((0,v.useState)({}),2),O=W[0],B=W[1],Y=(0,r._)((0,v.useState)([]),2),R=Y[0],A=Y[1],I=(0,r._)((0,v.useState)([]),2),L=I[0],U=I[1],q=(0,r._)((0,v.useState)(0),2),M=q[0],ne=q[1],nt=(0,r._)((0,v.useState)([]),2),nl=nt[0],ni=nt[1],no=(0,r._)((0,v.useState)([]),2),nu=no[0],nr=no[1],na=(0,r._)((0,v.useState)([]),2),nd=(na[0],na[1]),nc=(0,z.useSelector)(function(n){var e;return null==n?void 0:null===(e=n.educationYear)||void 0===e?void 0:e.educationYear}),ns=(0,r._)((0,v.useState)(!0),2),nv=ns[0],nf=ns[1],np=(0,r._)((0,v.useState)(!1),2),nm=(np[0],np[1]),nh=(0,m.getHeaders)().headers,nx=(0,z.useDispatch)(),ng=[1,2,3,4],nb=[1,2,3,4,5],nj=(0,r._)((0,v.useState)({date:new Date,dateFrom:C()().startOf("isoWeek").toDate(),dateTo:C()().endOf("isoWeek").toDate(),weekNumber:C()().isoWeek(),weekDay:C()().day()}),2),n_=nj[0];nj[1];var nw=(n=(0,l._)(function(){return(0,c._)(this,function(n){switch(n.label){case 0:return[4,p.default.get(m.BASE_URL+"/education/educationYearsForSelected",{headers:nh}).then(function(n){var e,t;nx((0,T.fetchEducationYear)(null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.obj)||void 0===e?void 0:e[0]))}).catch(function(n){console.log(n)})];case 1:return n.sent(),[2]}})}),function(){return n.apply(this,arguments)});(0,v.useEffect)(function(){p.default.get(m.BASE_URL+"/dekanat/all",nh).then(function(n){var e;f(n.data.obj),A(null===(e=n.data.obj)||void 0===e?void 0:e.map(function(n){return n.name})),E(n.data.obj[0].name)}).catch(function(n){return console.log(n)})},[]),(0,v.useEffect)(function(){nw()},[]),(0,v.useEffect)(function(){var n,e;nd([]),nf(!0),(null==L?void 0:L.length)>0&&nc&&p.default.get("".concat(m.BASE_URL,"/timeTableByWeekOfYear/studentStatisticsWithWeekOfEduYear/").concat(null==nc?void 0:nc.id,"?facultyId=").concat(L[M].id,"&facultyShortName=").concat(L[M].shortName,"&eduType=").concat(null==O?void 0:null===(n=O.eduType)||void 0===n?void 0:n.name,"&eduTypeId=").concat(null==O?void 0:null===(e=O.eduType)||void 0===e?void 0:e.id)).then(function(n){var e,t,l,u,r,a;ni(null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.obj)||void 0===e?void 0:e.map(function(n){var e=[];return null==n||n.map(function(n){nb.map(function(t){var l,u,r,a;(null==n?void 0:n.sortNumber)===(null==n_?void 0:n_.weekNumber)?t<=(null==n_?void 0:n_.weekDay)&&e.push(null==n?void 0:null===(u=n[t])||void 0===u?void 0:null===(l=u.statistics)||void 0===l?void 0:l.map(function(e){return(0,o._)((0,i._)({},e),{day:t,week:null==n?void 0:n.sortNumber})})):e.push(null==n?void 0:null===(a=n[t])||void 0===a?void 0:null===(r=a.statistics)||void 0===r?void 0:r.map(function(e){return(0,o._)((0,i._)({},e),{day:t,week:null==n?void 0:n.sortNumber})}))})}),Object.values((null==e?void 0:e.flat()).reduce(function(n,e){var t=null==e?void 0:e.fullName;return n[t]?n[t].push(e):n[t]=[e],n},{}))})),nr(null==n?void 0:null===(u=n.data)||void 0===u?void 0:null===(l=u.secondObj)||void 0===l?void 0:l.map(function(n){return null==n?void 0:n.map(function(n){return(0,o._)((0,i._)({},n),{count:Object.values((null==n?void 0:n.count).reduce(function(n,e){return n[e]?n[e].push(e):n[e]=[e],n},{}))})})})),null==n||null===(a=n.data)||void 0===a||null===(r=a.obj)||void 0===r||r.map(function(n){n.map(function(n){(null==n?void 0:n.sortNumber)===(null==n_?void 0:n_.weekNumber)?nb.map(function(e){e<=(null==n_?void 0:n_.weekDay)&&nd(function(t){var l;return(0,d._)(t).concat((0,d._)(null==n?void 0:null===(l=n[e])||void 0===l?void 0:l.statistics))})}):nb.map(function(e){nd(function(t){var l;return(0,d._)(t).concat((0,d._)(null==n?void 0:null===(l=n[e])||void 0===l?void 0:l.statistics))})})})}),nf(!1)}).catch(function(n){nf(!1),nm(!0),console.log(n)})},[nc,M,L]),(0,v.useEffect)(function(){var n;U((null===(n=a.find(function(n){return n.name===y}))||void 0===n?void 0:n.faculties)||[]),B(a.find(function(n){return n.name===y})),console.log(a.find(function(n){return n.name===y}),"allll deeean")},[y]),(0,v.useEffect)(function(){console.log(L)},[L]);var nk=[5,10,20,30,40,50],ny=(0,r._)((0,v.useState)(nk[0]),2),nS=ny[0],nD=ny[1],nN=function(n){nD(n.target.value)};return e.propTypes={children:S().node,index:S().number.isRequired,value:S().number.isRequired},(0,s.jsxs)(nn,{children:[(0,s.jsxs)(b.default,{sx:{width:"200px",m:2},children:[(0,s.jsx)(x.default,{id:"demo-simple-select-label",children:"Dean"}),(0,s.jsx)(j.default,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:y,label:"Dean",onChange:function(n){E(n.target.value)},children:R.map(function(n,e){return(0,s.jsx)(g.default,{value:n,children:n},e)})})]}),(0,s.jsx)("div",{className:"dekantabs",children:(0,s.jsx)(_.default,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,value:M,onChange:function(n,e){ne(e)},indicatorColor:"","aria-label":"basic tabs example",children:null==L?void 0:L.map(function(n,e){var t;return(0,s.jsx)(w.default,(0,i._)({component:$,label:null==n?void 0:n.shortName},(t=e,{id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)})),e)})})}),null==L?void 0:L.map(function(n,t){return(0,s.jsxs)(e,{value:M,index:t,children:[(0,s.jsx)(X,{children:(0,s.jsxs)(b.default,{sx:{minWidth:100},size:"small",children:[(0,s.jsx)(x.default,{id:"select-label",children:"Size"}),(0,s.jsx)(j.default,{labelId:"select-label",id:"select-small-size",value:nS,label:"Size",onChange:nN,children:nk.map(function(n,e){return(0,s.jsx)(g.default,{value:n,children:n},e)})})]})}),(0,s.jsxs)(Z,{children:[nv&&Array.from({length:4}).map(function(n,e){return(0,s.jsxs)(V,{children:[(0,s.jsxs)(Q,{cl:0===e&&"".concat(m.mainColor)||1===e&&"#FD8539"||2===e&&"#2ED480"||3===e&&"#FE6D8E",children:[e+1,"-Course"]}),(0,s.jsx)(P,{children:(0,s.jsxs)(h.default,{sx:{width:"100%"},children:[(0,s.jsx)(D.default,{}),(0,s.jsx)(D.default,{animation:"wave"}),(0,s.jsx)(D.default,{animation:!1})]})})]},e)}),!nv&&nl?null==nl?void 0:nl.map(function(n,e){var t,l,u;return(0,s.jsxs)(V,{children:[(0,s.jsxs)(Q,{cl:0===e&&"".concat(m.mainColor)||1===e&&"#FD8539"||2===e&&"#2ED480"||3===e&&"#FE6D8E",children:[e+1,"-Course"]}),(0,s.jsx)(P,{children:n.length>0?null==n?void 0:null===(u=n.sort(function(n,e){return(null==n?void 0:n.length)<(null==e?void 0:e.length)?1:(null==n?void 0:n.length)>(null==e?void 0:e.length)?-1:0}))||void 0===u?void 0:null===(l=u.map(function(n,t){var l=0;return null==n||n.map(function(n){var t,i,o,u,r,a,d,c,s=C()().isoWeek(),v=C()().format("DD");s>n.week&&Number(v)>n.day&&(null==nu?void 0:null===(u=nu[e])||void 0===u?void 0:null===(o=u.find(function(e){return(null==e?void 0:e.week)===(null==n?void 0:n.week)&&e.groupName===(null==n?void 0:n.groupName)}))||void 0===o?void 0:null===(i=o.count)||void 0===i?void 0:null===(t=i[(null==n?void 0:n.day)-1])||void 0===t?void 0:t.length)&&(l+=null==nu?void 0:null===(c=nu[e])||void 0===c?void 0:null===(d=c.find(function(e){return(null==e?void 0:e.week)===(null==n?void 0:n.week)&&(null==e?void 0:e.groupName)===(null==n?void 0:n.groupName)}))||void 0===d?void 0:null===(a=d.count)||void 0===a?void 0:null===(r=a[(null==n?void 0:n.day)-1])||void 0===r?void 0:r.length)}),(0,o._)((0,i._)({},n),{counter:l})}))||void 0===l?void 0:null===(t=l.sort(function(n,e){return(null==n?void 0:n.counter)<(null==e?void 0:e.counter)?1:(null==n?void 0:n.counter)>(null==e?void 0:e.counter)?-1:0}))||void 0===t?void 0:t.map(function(n,e){var t,l;return e<nS&&(0,s.jsxs)(K,{children:[(0,s.jsx)(J,{children:(0,s.jsx)("img",{style:{width:"100%"},src:(null==n?void 0:n.avatarimg)?null==n?void 0:n.avatarimg:N,alt:"avatar"})}),(0,s.jsxs)(G,{children:[(0,s.jsx)("h6",{children:null==n?void 0:null===(t=n[0])||void 0===t?void 0:t.fullName}),(0,s.jsx)("p",{children:null==n?void 0:null===(l=n[0])||void 0===l?void 0:l.groupName})]}),(0,s.jsx)(H,{children:null==n?void 0:n.counter})]},e)}):(0,s.jsx)(h.default,{children:(0,s.jsx)(F.default,{w:150,h:130})})})]},e)}):!nv&&ng.map(function(n,e){return(0,s.jsxs)(V,{children:[(0,s.jsxs)(Q,{cl:0===e&&"".concat(m.mainColor)||1===e&&"#FD8539"||2===e&&"#2ED480"||3===e&&"#FE6D8E",children:[e+1,"-Course"]}),(0,s.jsx)(P,{children:(0,s.jsx)("h5",{children:"No data Students"})})]})})]})]},t)})]})}}}]);