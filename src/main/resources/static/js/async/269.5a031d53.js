/*! For license information please see 269.5a031d53.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["269"],{81744:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t("38956"),i=t("58865");t("21249"),t("57640"),t("9924"),t("2707"),t("17727"),t("88674"),t("41539");var a=t("85893"),o=t("67294"),l=t("71893"),u=t("7104"),d=t("30381"),c=t.n(d),s=t("16356"),f=t("27233"),h=t("28685"),m=t("61261"),v=t("72132"),C=t("50533"),x=t("89589");function g(){var e=(0,i._)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return g=function(){return e},e}var j=l.default.div(g()),b=function(){var e=function(e,n){f.default.put(h.BASE_URL+"/queue/changeQueue",{id:n,statusEnum:e},{headers:E}).then(function(n){console.log(n),y(),v.toast.success(e)}).catch(function(e){console.log(e),v.toast.error("Error status")})},n="Sirtqi ta'lim"===(0,C.useSelector)(function(e){var n;return null===(n=e.dekanat.dekanat)||void 0===n?void 0:n.name}),t=["RUNNABLE","CALLED"," RUNNING","WAITING","CANCELLED","COMPLETED"],i=[{field:"number",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){var n,t;return(0,a.jsx)("p",{children:null===(t=e.row)||void 0===t?void 0:null===(n=t.studentData)||void 0===n?void 0:n.fullName})}},{minWidth:100,flex:.5,field:"date",headerName:"Date of creation",sortable:!0,align:"center",justifyContent:"center",renderCell:function(e){var n;return(0,a.jsx)("p",{children:c()(null===(n=e.row)||void 0===n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")})}},{minWidth:100,flex:.5,field:"status",headerName:"Status",sortable:!0,align:"center",justifyContent:"center"},{minWidth:150,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:function(n){var r;return(0,a.jsx)(u.TextField,{select:!0,size:"small",defaultValue:null===(r=n.row)||void 0===r?void 0:r.status,onChange:function(t){return e(t.target.value,n.row.id)},sx:{width:200},children:t.map(function(e){return(0,a.jsx)(m.default,{value:e,children:e},e)})})}}],l=(0,r._)((0,o.useState)([]),2),d=l[0],g=l[1],b=(0,r._)((0,o.useState)(!1),2),N=b[0],w=b[1],E=(0,h.getHeaders)().headers,y=function(){w(!0),f.default.get(h.BASE_URL+"/queue/findAllQueuesOfTodayForDean",{headers:E}).then(function(e){console.log(e.data.obj),g(e.data.obj.sort(function(e,n){return e.number>n.number?1:e.number<n.number?-1:0}))}).catch(function(e){console.log(e)}).finally(function(){w(!1)})};return(0,o.useEffect)(function(){y()},[]),(0,a.jsx)(j,{children:n?(0,a.jsx)(u.Card,{sx:{mt:3},children:(0,a.jsx)(u.CardContent,{children:(0,a.jsx)(s.DataGrid,{columns:i,rows:d||[],loading:N,components:{Toolbar:s.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})}):(0,a.jsx)(u.Card,{sx:{mt:3},children:(0,a.jsx)(u.CardContent,{children:(0,a.jsx)(x.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})})}}}]);