/*! For license information please see 5872.11ffecf0.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["5872"],{75002:function(n,e,t){"use strict";t.r(e);var l=t("58865");t("33948"),t("17727"),t("57640"),t("9924");var r=t("85893"),d=t("67294"),i=t("7104"),o=t("89589"),a=t("55693"),s=t("16393"),c=t("71893"),u=t("30381"),h=t.n(u),x=t("78951"),f=t("57024"),j=t("27233"),m=t("50533"),p=t("97367"),b=t("60155"),v=t("94718"),g=t("72132"),C=t("5434");function y(){let n=(0,l._)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    h4 {\n        color: black;\n    }\n\n    h5 {\n        color: red;\n    }\n\n"]);return y=function(){return n},n}function w(){let n=(0,l._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n    border-radius: 50%;\n    border: none;\n    background-color: ",";\n    color: white;\n    font-size: 12px;\n"]);return w=function(){return n},n}function k(){let n=(0,l._)(["\n    ","\n"]);return k=function(){return n},n}function S(){let n=(0,l._)(["\n    display: flex;\n    justify-content: end;\n    ","\n"]);return S=function(){return n},n}function Y(){let n=(0,l._)(["\n    margin-top: 25px;\n    width: 100%;\n    overflow-x: scroll;\n\n    table {\n        min-width: 700px;\n        border-collapse: collapse;\n        width: 100%;\n        border-radius: 5px;\n        overflow: hidden;\n\n        td, th {\n            border: 1px solid #ddd;\n            padding: 8px;\n            font-size: 15px;\n            text-align: center;\n        }\n\n        th {\n            text-align: center;\n        }\n\n        tr {\n            &:nth-child(even) {\n                background-color: #fcf9f9;\n            }\n        }\n\n        th {\n            background-color: ",";\n            color: white;\n        }\n    }"]);return Y=function(){return n},n}let D=c.default.div(y()),A=c.default.button(w(),s.mainColor),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,padding:"15px",borderRadius:"8px"},M=c.default.div(k(),(0,f.extrasmall)({width:"95% !important"})),z=c.default.div(S(),(0,f.extrasmall)({justifyContent:"center"})),I=c.default.div(Y(),s.mainColor);e.default=()=>{var n;let e=(0,m.useSelector)(n=>{var e;return null==n?void 0:null===(e=n.student)||void 0===e?void 0:e.student}),t=(null===(n=e.groupData)||void 0===n?void 0:n.educationTypeName)==="SIRTQI",[l,c]=(0,d.useState)([]),[u,f]=(0,d.useState)([]),[y,w]=(0,d.useState)(!1),[k,S]=(0,d.useState)(!1),{headers:Y}=(0,s.getHeaders)(),E=()=>{w(!0),j.default.get(s.BASE_URL+"/queue/getAllStudentQueues/".concat(e.id),{headers:Y}).then(n=>{f(n.data.obj[0])}).catch(n=>{}).finally(()=>{w(!1)})},H=()=>{j.default.get(s.BASE_URL+"/queue/findAllQueuesOfTodayForDean",{headers:Y}).then(n=>{c(n.data.obj.sort((n,e)=>n.number>e.number?1:n.number<e.number?-1:0))}).catch(n=>{})},Q=()=>{j.default.post(s.BASE_URL+"/queue/createQueue",{},{headers:Y}).then(n=>{E(),H(),S(!1),g.toast.success("Successfully created")}).catch(n=>{g.toast.error("Error creating")})};(0,d.useEffect)(()=>{E(),H()},[]);let R=()=>{S(!1)};return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{children:h()().format("DD.MM.YYYY")===h()(null==u?void 0:u.createdAt).format("DD.MM.YYYY")&&(null==u?void 0:u.number)&&(0,r.jsx)(i.Card,{sx:{width:"320px",mt:3},children:(0,r.jsx)(i.CardContent,{sx:{pb:"16px !important"},children:(0,r.jsxs)(a.default,{sx:{color:s.mainColor},children:[(0,r.jsxs)(o.default,{fontWeight:"bold",fontSize:20,children:["Queue : ",null==u?void 0:u.number]}),(0,r.jsxs)(o.default,{fontWeight:"bold",fontSize:20,children:["Status : ",null==u?void 0:u.status]}),(0,r.jsxs)(o.default,{fontWeight:"bold",fontSize:20,children:["Create date :",h()(null==u?void 0:u.createdAt).format("DD.MM.YYYY HH:mm")]})]})})})}),(0,r.jsx)(i.Card,{sx:{mt:3},children:(0,r.jsxs)(i.CardContent,{children:[(0,r.jsx)(i.Stack,{mt:1,direction:"row",justifyContent:"end",children:(0,r.jsx)(v.default,{onClick:()=>S(!0),variant:"contained",color:"success",endIcon:(0,r.jsx)(C.MdLibraryAdd,{}),children:"Apply"})}),(0,r.jsx)(I,{children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{width:"100px"},children:"\u2116"}),(0,r.jsx)("th",{children:"Full name"}),(0,r.jsx)("th",{style:{width:"250px"},children:" Date of creation"}),(0,r.jsx)("th",{style:{width:"250px"},children:" Status"})]})}),(0,r.jsx)("tbody",{children:null==l?void 0:l.map(n=>{var t,l;return(0,r.jsxs)("tr",{style:{background:e.fullName===(null==n?void 0:null===(t=n.studentData)||void 0===t?void 0:t.fullName)&&"#e7e7e7"},children:[(0,r.jsx)("td",{children:null==n?void 0:n.number}),(0,r.jsx)("td",{children:null==n?void 0:null===(l=n.studentData)||void 0===l?void 0:l.fullName}),(0,r.jsx)("td",{children:h()(null==n?void 0:n.createdAt).format("DD.MM.YYYY HH:mm")}),(0,r.jsx)("td",{children:null==n?void 0:n.status})]},null==n?void 0:n.id)})})]})}),(null==l?void 0:l.length)===0&&(0,r.jsx)(a.default,{children:(0,r.jsx)(x.default,{w:200,h:180})})]})}),(0,r.jsx)(p.default,{open:k,onClose:R,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.default,{sx:_,component:M,children:[(0,r.jsxs)(D,{children:[(0,r.jsx)("h5",{}),(0,r.jsxs)(A,{onClick:R,children:[" ",(0,r.jsx)(b.IoClose,{size:22})]})]}),(0,r.jsxs)(a.default,{children:[(0,r.jsx)(i.Stack,{sx:{height:"100px"},direction:"row",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(o.default,{variant:"h6",color:"black",children:"Do you want to meet with the dean?"})}),(0,r.jsxs)(i.Stack,{direction:"row",spacing:2,justifyContent:"flex-end",alignItems:"center",children:[(0,r.jsx)(v.default,{variant:"outlined",onClick:R,children:"Cancel"}),(0,r.jsx)(v.default,{variant:"contained",onClick:()=>Q(),children:"Ok"})]})]})]})})]}):(0,r.jsx)(i.Card,{sx:{mt:3},children:(0,r.jsx)(i.CardContent,{children:(0,r.jsx)(o.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})}}}]);