/*! For license information please see 8585.b380ddc5.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["8585"],{48952:function(e,t,n){"use strict";n.r(t);var r=n("58865");n("57640"),n("9924"),n("33948"),n("17727");var a=n("85893"),l=n("67294"),i=n("71893"),u=n("7104"),o=n("30381"),d=n.n(o),s=n("16356"),c=n("27233"),f=n("16393"),h=n("61261"),m=n("72132"),C=n("50533"),x=n("89589");function v(){let e=(0,r._)(["\n    width: 100%;\n\n    .MuiDataGrid-columnHeaderTitleContainer {\n        justify-content: center;\n    }\n"]);return v=function(){return e},e}let j=i.default.div(v());t.default=()=>{let e="Sirtqi ta'lim"===(0,C.useSelector)(e=>{var t;return null===(t=e.dekanat.dekanat)||void 0===t?void 0:t.name}),t=["RUNNABLE","CALLED"," RUNNING","WAITING","CANCELLED","COMPLETED"],n=[{field:"number",headerName:"\u2116",sortable:!0,width:50,align:"center",justifyContent:"center"},{minWidth:100,flex:1,field:"fullName",headerName:"Full name",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>{var t,n;return(0,a.jsx)("p",{children:null===(n=e.row)||void 0===n?void 0:null===(t=n.studentData)||void 0===t?void 0:t.fullName})}},{minWidth:100,flex:.5,field:"date",headerName:"Date of creation",sortable:!0,align:"center",justifyContent:"center",renderCell:e=>{var t;return(0,a.jsx)("p",{children:d()(null===(t=e.row)||void 0===t?void 0:t.createdAt).format("DD.MM.YYYY HH:mm")})}},{minWidth:100,flex:.5,field:"status",headerName:"Status",sortable:!0,align:"center",justifyContent:"center"},{minWidth:150,flex:.5,field:"action",headerName:"Action",sortable:!1,align:"center",justifyContent:"center",renderCell:e=>{var n;return(0,a.jsx)(u.TextField,{select:!0,size:"small",defaultValue:null===(n=e.row)||void 0===n?void 0:n.status,onChange:t=>(function(e,t){c.default.put(f.BASE_URL+"/queue/changeQueue",{id:t,statusEnum:e},{headers:b}).then(t=>{g(),m.toast.success(e)}).catch(e=>{m.toast.error("Error status")})})(t.target.value,e.row.id),sx:{width:200},children:t.map(e=>(0,a.jsx)(h.default,{value:e,children:e},e))})}}],[r,i]=(0,l.useState)([]),[o,v]=(0,l.useState)(!1),{headers:b}=(0,f.getHeaders)(),g=()=>{v(!0),c.default.get(f.BASE_URL+"/queue/findAllQueuesOfTodayForDean",{headers:b}).then(e=>{i(e.data.obj.sort((e,t)=>e.number>t.number?1:e.number<t.number?-1:0))}).catch(e=>{}).finally(()=>{v(!1)})};return(0,l.useEffect)(()=>{g()},[]),(0,a.jsx)(j,{children:e?(0,a.jsx)(u.Card,{sx:{mt:3},children:(0,a.jsx)(u.CardContent,{children:(0,a.jsx)(s.DataGrid,{columns:n,rows:r||[],loading:o,components:{Toolbar:s.GridToolbar},rowsPerPageOptions:[10,30,50,70,100],autoHeight:!0,initialState:{columns:{columnVisibilityModel:{action:!1}}}})})}):(0,a.jsx)(u.Card,{sx:{mt:3},children:(0,a.jsx)(u.CardContent,{children:(0,a.jsx)(x.default,{textAlign:"center",fontWeight:"bold",color:"error",fontSize:25,children:"For external education only !"})})})})}}}]);