/*! For license information please see 8775.47b545fb.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["8775"],{77918:function(e,t,a){"use strict";a.r(t);var l=a("58865");a("33948"),a("57658"),a("15581"),a("34514"),a("2490"),a("17727");var n=a("85893"),o=a("67294"),r=a("71893"),u=a("16393"),i=a("27233"),s=a("54520"),d=a("50533"),c=a("30381"),f=a.n(c);function h(){let e=(0,l._)(["\n  color: ",";\n  margin-bottom: 20px;\n"]);return h=function(){return e},e}function v(){let e=(0,l._)(["\n  width: 100%;\n  padding: 1rem!important;\n"]);return v=function(){return e},e}a("21793");let k=r.default.h3(h(),u.mainColor),w=r.default.div(v());t.default=()=>{let{headers:e}=(0,u.getHeaders)(),[t,a]=(0,o.useState)([]),[l,r]=(0,o.useState)(null),c=(0,d.useSelector)(e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.user}),[h,v]=(0,o.useState)(!1),[m,b]=(0,o.useState)({date:new Date,dateFrom:f()(new Date).startOf("isoWeek").toDate(),dateTo:f()(new Date).endOf("isoWeek").toDate(),weekNumber:f()(new Date).isoWeek(),daysOfWeek:((e,t)=>{f().locale("ru");let a=f()().year(t).isoWeek(e).startOf("isoWeek"),l=[];for(let e=0;e<6;e++)l.push(a.clone().add(e,"days").toDate());return l})(f()(new Date).isoWeek(),f()().year())});return(0,o.useEffect)(()=>{v(!0),i.default.get(u.BASE_URL+"/timeTableByWeekOfYear/getTeacherTimeTable?t="+(null==c?void 0:c.id)+"&week="+(null==m?void 0:m.weekNumber)+"&year="+f()(null==m?void 0:m.date).format("YYYY"),{headers:e}).then(e=>{var t;let l=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj,n=[],o={};for(let e in null==l||l.forEach(e=>{e.shows.forEach(t=>{let a=t.daysName;!o[a]&&(o[a]={teacherData:e.teacherData,shows:[]}),o[a].shows.push(t)})}),o)n.push(o[e]);a(n)}).catch(e=>{}).finally(()=>{v(!1)}),i.default.get(u.BASE_URL+"/user/getTeacherStatisticsForTimeTableByWeek?teacherId="+(null==c?void 0:c.id)+"&week="+(null==m?void 0:m.weekNumber)+"&year="+f()(null==m?void 0:m.date).format("YYYY"),{headers:e}).then(e=>{var t;r(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.obj)}).catch(e=>{r([])})},[]),(0,n.jsxs)(w,{children:[(0,n.jsx)(k,{children:"Schedule of lessons"}),null!==l&&(0,n.jsx)(s.default,{isLoading:h,obj:m,data:t,statistics:l})]})}}}]);