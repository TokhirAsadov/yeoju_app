/*! For license information please see 2717.f2fbe231.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["2717"],{17171:function(e,n,l){"use strict";var o=l("5751");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=o(l("64938")),u=l("85893"),d=(0,t.default)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");n.default=d},39628:function(e,n,l){"use strict";var o=l("5751");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=o(l("64938")),u=l("85893"),d=(0,t.default)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");n.default=d},32913:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return en}});var o=l("76150"),t=l("7409"),u=l("99282"),d=l("38956"),i=l("58865"),r=l("18965");l("21249"),l("57640"),l("9924"),l("85827"),l("25387"),l("72608"),l("2490"),l("41539"),l("69826"),l("31672"),l("59461"),l("57658"),l("92222"),l("15581"),l("34514"),l("47042");var a=l("85893"),c=l("67294"),s=l.n(c),p=l("71893"),f=l("55693"),v=l("94718"),g=l("89589"),x=l("97367"),h=l("5434"),m=l("80471"),j=l("74113"),b=l("39628"),y=l("17171"),_=l("7104"),I=l("15352"),C=l("52861"),k=l("50533"),w=l("60155"),T=l("71632"),D=l("39711"),L=l("42154"),S=l("32392"),P=l("61261"),z=l("44025"),B=l("23219"),O=l("47516"),A=l("28685"),M=l("89583"),R=l("27233"),Y=l("72132"),E=l("63750");function U(){var e=(0,i._)(["\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n        color: ",";\n        font-size: 30px;\n        font-weight: bold;\n        ","\n    }\n"]);return U=function(){return e},e}function G(){var e=(0,i._)(["\n    ","\n"]);return G=function(){return e},e}function F(){var e=(0,i._)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 20px;\n    padding: 10px;\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return F=function(){return e},e}function H(){var e=(0,i._)(["\n    border: 1px solid #f1eded;\n    padding: 10px;\n    border-radius: 5px;\n    background-color: #FFFF;\n    box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n\n"]);return H=function(){return e},e}function N(){var e=(0,i._)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    cursor: pointer;\n"]);return N=function(){return e},e}function V(){var e=(0,i._)(["\n    display: flex;\n    justify-content: end;\n"]);return V=function(){return e},e}function q(){var e=(0,i._)(["\n    width: 100%;\n    padding: 1rem;\n"]);return q=function(){return e},e}var J=p.default.h1(U(),A.mainColor,(0,T.extrasmall)({textAlign:"center",fontSize:"20px"})),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:2,p:3},Q=p.default.div(G(),(0,T.extrasmall)({width:"95% !important"})),W=p.default.div(F(),(0,T.xlarge)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,T.large)({gridTemplateColumns:"1fr 1fr 1fr  "}),(0,T.medium)({gridTemplateColumns:"1fr 1fr "}),(0,T.small)({gridTemplateColumns:"1fr 1fr "}),(0,T.extrasmall)({gridTemplateColumns:"1fr "})),X=p.default.div(H()),Z=p.default.p(N(),function(e){return e.cl||"black"},function(e){return e.fs},function(e){return e.fw||"normal"}),$=p.default.div(V()),ee=p.default.div(q()),en=function(){var e,n,l,i,p,T,U,G,F,H,N,V,q,en,el,eo,et,eu,ed,ei,er,ea,ec,es,ep,ef=(0,D.useParams)().fan,ev=(0,a.jsx)(b.default,{fontSize:"small"}),eg=(0,a.jsx)(y.default,{fontSize:"small"}),ex=(0,k.useSelector)(function(e){return e.lessonsTeacherSlice}).forLessonsData,eh=(0,d._)((0,c.useState)(!1),2),em=eh[0],ej=eh[1],eb=(0,d._)((0,c.useState)([]),2),ey=eb[0],e_=eb[1],eI=(0,d._)((0,c.useState)(!0),2),eC=eI[0],ek=eI[1],ew=(0,d._)((0,c.useState)([]),2),eT=ew[0],eD=ew[1],eL=(0,d._)((0,c.useState)({educationYearId:null==ex?void 0:null===(T=ex.educationYear)||void 0===T?void 0:T.id,eduType:null==ex?void 0:null===(U=ex.groupData)||void 0===U?void 0:U.eduType,eduLang:null==ex?void 0:null===(G=ex.groupData)||void 0===G?void 0:G.eduLang,subjectId:null==ex?void 0:null===(F=ex.groupData)||void 0===F?void 0:F.lessonId,level:null==ex?void 0:null===(H=ex.groupData)||void 0===H?void 0:H.level,groupsIds:(null==ey?void 0:ey.map(function(e){return null==e?void 0:e.groupId}))||[]}),2),eS=eL[0],eP=eL[1],ez=(0,d._)((0,c.useState)({id:null,educationYearId:null==ex?void 0:null===(N=ex.educationYear)||void 0===N?void 0:N.id,eduType:null==ex?void 0:null===(V=ex.groupData)||void 0===V?void 0:V.eduType,eduLang:null==ex?void 0:null===(q=ex.groupData)||void 0===q?void 0:q.eduLang,subjectId:null==ex?void 0:null===(en=ex.groupData)||void 0===en?void 0:en.lessonId,level:null==ex?void 0:null===(el=ex.groupData)||void 0===el?void 0:el.level,groupsIds:(null==ey?void 0:ey.map(function(e){return null==e?void 0:e.groupId}))||[]}),2),eB=ez[0],eO=ez[1],eA=(0,d._)((0,c.useState)(!0),2),eM=eA[0],eR=eA[1],eY=(0,D.useNavigate)(),eE=(0,A.getHeaders)().headers,eU=[{title:"Update",icon:(0,a.jsx)(h.MdUpdate,{color:"#0087be"})},{title:"Delete",icon:(0,a.jsx)(h.MdDelete,{color:"red"})}],eG=null==ex?void 0:null===(eo=ex.allGroup)||void 0===eo?void 0:eo.reduce(function(e,n){return!e.find(function(e){return e.groupId===n.groupId})&&e.push(n),e},[]),eF=(0,d._)(s().useState(null),2),eH=eF[0],eN=eF[1],eV=!!eH,eq=function(e,n){eN(e.currentTarget);var l=null==eT?void 0:eT.find(function(e){return e.id===n});eO(function(e){var o;return(0,u._)((0,t._)({},e),{id:n,eduLang:null==l?void 0:l.eduLang,eduType:null==l?void 0:l.eduType,groupsIds:null==l?void 0:null===(o=l.groups)||void 0===o?void 0:o.map(function(e){return e.groupId})})})},eJ=function(e){eN(null),"Update"===e&&(console.log(eB,"for id"),ej(!0))},eK=function(){ej(!1),eO(function(e){return(0,u._)((0,t._)({},e),{id:null})})};(0,c.useEffect)(function(){(null==ey?void 0:ey.length)>0&&ek(!1)},[ey]);var eQ=(e=(0,o._)(function(){return(0,r._)(this,function(e){return R.default.post("".concat(A.BASE_URL,"/plan/createdPlan"),eS,{headers:eE}).then(function(e){console.log(e,"create plan response"),Y.toast.success("created plan of subject successfully"),ej(!1),e_([]),eX()}).catch(function(e){console.log(e,"error creating plan response")}),[2]})}),function(){return e.apply(this,arguments)});var eW=(n=(0,o._)(function(){return(0,r._)(this,function(e){return console.log(eB,"-----------------"),R.default.put("".concat(A.BASE_URL,"/plan/updatedPlan"),eB,{headers:eE}).then(function(e){console.log(e,"create plan response"),Y.toast.success("created plan of subject successfully"),ej(!1),eO(function(e){return(0,u._)((0,t._)({},e),{id:null})}),e_([]),eX()}).catch(function(e){console.log(e,"error creating plan response")}),[2]})}),function(){return n.apply(this,arguments)});var eX=(l=(0,o._)(function(){var e,n,l;return(0,r._)(this,function(o){switch(o.label){case 0:return[4,R.default.get("".concat(A.BASE_URL,"/plan/getExistPlans?educationYearId=").concat(null==ex?void 0:null===(e=ex.educationYear)||void 0===e?void 0:e.id,"&level=").concat(null==ex?void 0:null===(n=ex.groupData)||void 0===n?void 0:n.level,"&subjectId=").concat(null==ex?void 0:null===(l=ex.groupData)||void 0===l?void 0:l.lessonId),{headers:eE}).then(function(e){console.log(e,"get exists plans "),eD(e.data.obj)}).catch(function(e){console.log(e,"error exists plans")})];case 1:return o.sent(),[2]}})}),function(){return l.apply(this,arguments)});(0,c.useEffect)(function(){eX()},[]);return(0,a.jsxs)(ee,{children:[(0,a.jsxs)(J,{children:[(0,a.jsx)("p",{children:ef}),(0,a.jsx)(v.default,{onClick:function(){return eY(-1)},variant:"outlined",startIcon:(0,a.jsx)(O.BiArrowBack,{}),children:"Back"})]}),(0,a.jsx)(f.default,{sx:{padding:"10px"},children:(0,a.jsx)(v.default,{variant:"contained",endIcon:(0,a.jsx)(h.MdOutlineCreateNewFolder,{}),onClick:function(){return ej(!0)},children:"create group plan"})}),(0,a.jsx)(W,{children:null==eT?void 0:eT.map(function(e,n){return(0,a.jsx)(X,{children:(0,a.jsxs)(f.default,{display:"flex",alignItems:"flex-start",children:[(0,a.jsxs)(f.default,{width:"100%",children:[(0,a.jsxs)(Z,{onClick:function(){return eY("".concat(e.id))},fs:"25px",fw:"bold",cl:A.mainColor,children:[(0,a.jsx)(M.FaLayerGroup,{})," Groups "]}),(0,a.jsx)(f.default,{onClick:function(){return eY("".concat(e.id))},sx:{cursor:"pointer",marginTop:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"5px"},children:null==e?void 0:e.groups.slice(0,eM?5:void 0).map(function(e,n){return(0,a.jsxs)("p",{style:{color:"black",margin:0,textAlign:"center"},children:[(0,a.jsx)("b",{children:n+1+"."})," ",e.groupName]},e.groupId)})}),(0,a.jsx)(f.default,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,a.jsx)(v.default,{onClick:function(){return eR(!eM)},children:eM?"show more":"hidden"})})]}),(0,a.jsx)(j.default,{"aria-label":"actions",id:"long-button","aria-controls":eV?"long-menu":void 0,"aria-expanded":eV?"true":void 0,"aria-haspopup":"true",onClick:function(n){return eq(n,null==e?void 0:e.id)},size:"small",children:(0,a.jsx)(E.BsThreeDotsVertical,{})})]})},n)})}),(0,a.jsx)(x.default,{open:em,onClose:function(){return eK()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(f.default,{sx:K,component:Q,children:[(0,a.jsx)($,{children:(0,a.jsx)(j.default,{onClick:function(){return eK()},"aria-label":"close",size:"medium",children:(0,a.jsx)(m.CgClose,{})})}),(0,a.jsxs)(g.default,{id:"modal-modal-title",variant:"h6",component:"h2",children:[(null==eB?void 0:eB.id)===null?"Create ":"Update "," group plan"]}),(0,a.jsxs)(L.default,{sx:{width:"100%",margin:"25px 0"},children:[(0,a.jsx)(S.default,{id:"demo-simple-select-readonly-label",children:"Academic year"}),(0,a.jsx)(z.default,{labelId:"demo-simple-select-readonly-label",id:"demo-simple-select-readonly",value:null==ex?void 0:null===(et=ex.educationYear)||void 0===et?void 0:et.name,label:"Academic year",inputProps:{readOnly:!0},children:(0,a.jsx)(P.default,{value:null==ex?void 0:null===(eu=ex.educationYear)||void 0===eu?void 0:eu.name,children:null==ex?void 0:null===(ed=ex.educationYear)||void 0===ed?void 0:ed.name})}),(0,a.jsx)(B.default,{children:"Read only"})]}),(0,a.jsxs)(f.default,{sx:{display:"flex",gap:"20px"},children:[(0,a.jsxs)(L.default,{sx:{width:"100%"},children:[(0,a.jsx)(S.default,{id:"demo-simple-select-readonly-label1",children:"Language"}),(0,a.jsx)(z.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null==ex?void 0:null===(ei=ex.groupData)||void 0===ei?void 0:ei.eduLang,label:"Language",inputProps:{readOnly:!0},children:(0,a.jsx)(P.default,{value:null==ex?void 0:null===(er=ex.groupData)||void 0===er?void 0:er.eduLang,children:null==ex?void 0:null===(ea=ex.groupData)||void 0===ea?void 0:ea.eduLang})}),(0,a.jsx)(B.default,{children:"Read only"})]}),(0,a.jsxs)(L.default,{sx:{width:"100%"},children:[(0,a.jsx)(S.default,{id:"demo-simple-select-readonly-label1",children:"Type of education"}),(0,a.jsx)(z.default,{labelId:"demo-simple-select-readonly-label1",id:"demo-simple-select-readonly",value:null==ex?void 0:null===(ec=ex.groupData)||void 0===ec?void 0:ec.eduType,label:"Type of education",inputProps:{readOnly:!0},children:(0,a.jsx)(P.default,{value:null==ex?void 0:null===(es=ex.groupData)||void 0===es?void 0:es.eduType,children:null==ex?void 0:null===(ep=ex.groupData)||void 0===ep?void 0:ep.eduType})}),(0,a.jsx)(B.default,{children:"Read only"})]})]}),(0,a.jsx)(_.Autocomplete,{multiple:!0,id:"checkboxes-tags-demo",options:eG,disableCloseOnSelect:!0,getOptionLabel:function(e){return null==e?void 0:e.groupName},value:(null==eB?void 0:eB.id)===null?ey:(p=[],null==eB||null===(i=eB.groupsIds)||void 0===i||i.forEach(function(e){var n,l;(null==ex?void 0:null===(n=ex.allGroup)||void 0===n?void 0:n.find(function(n){return n.groupId===e}))&&p.push(null==ex?void 0:null===(l=ex.allGroup)||void 0===l?void 0:l.find(function(n){return n.groupId===e}))}),p.reduce(function(e,n){return!e.find(function(e){return e.groupId===n.groupId})&&e.push(n),e},[])),onChange:function(e,n){console.log(n,"new Value"),(null==eB?void 0:eB.id)===null?eP(function(e){return(0,u._)((0,t._)({},e),{groupsIds:null==n?void 0:n.map(function(e){return null==e?void 0:e.groupId})})}):eO(function(e){return(0,u._)((0,t._)({},e),{groupsIds:null==n?void 0:n.map(function(e){return null==e?void 0:e.groupId})})}),e_(n)},renderOption:function(e,n,l){var o=l.selected;return(0,a.jsxs)("li",(0,u._)((0,t._)({},e),{children:[(0,a.jsx)(I.default,{icon:ev,checkedIcon:eg,style:{marginRight:8},checked:o}),null==n?void 0:n.groupName]}))},style:{width:"100%",margin:"25px 0"},renderInput:function(e){return(0,a.jsx)(C.default,(0,u._)((0,t._)({required:!0},e),{label:"Groups",placeholder:"Group",helperText:"Required"}))}}),(0,a.jsx)($,{children:(0,a.jsxs)(v.default,{onClick:(null==eB?void 0:eB.id)===null?eQ:eW,variant:"contained",endIcon:(0,a.jsx)(w.IoSend,{}),disabled:eC,children:[" ",(null==eB?void 0:eB.id)===null?"Save":"Update"]})})]})}),(0,a.jsx)(_.Menu,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:eH,open:eV,onClose:eJ,PaperProps:{style:{maxHeight:180,width:"20ch"}},children:eU.map(function(e,n){return(0,a.jsx)(P.default,{onClick:function(){return eJ(e.title)},children:(0,a.jsxs)(f.default,{display:"flex",gap:"5px",alignItems:"center",children:[e.icon," ",e.title]})},n)})})]})}}}]);