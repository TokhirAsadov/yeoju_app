/*! For license information please see 7488.ee8ab2d0.js.LICENSE.txt */
(self.webpackChunkkiut_client=self.webpackChunkkiut_client||[]).push([["7488"],{92401:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nl}});var r=t("7409"),o=t("99282"),i=t("38956"),a=t("58865");t("21249"),t("57640"),t("9924");var u=t("85893"),l=t("67294"),c=t("71893"),s=t("28685"),d=t("27233"),f=t("72132"),p=t("89583"),x=t("50533"),h=t("71632"),g=t("94718"),v=t("47516"),m=t("39711"),_=t("55693");function E(){var n=(0,a._)(["\n","\n"]);return E=function(){return n},n}function b(){var n=(0,a._)(["\n  width: 100%;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-bottom-right-radius: 10px;\n  border-top-right-radius: 10px;\n  color: #ffffff;\n  border: none;\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"]);return b=function(){return n},n}function y(){var n=(0,a._)(["\n  width: 125px;\n  height: 35px;\n  background: white;\n  padding-left: 5px;\n  font-size: 18px;\n  padding-right: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  color: ",";\n  margin-left: 5px !important;\n  border: none;\n\n  &::placeholder {\n    font-size: 14px;\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return y=function(){return n},n}function A(){var n=(0,a._)(["\n  font-size: 14px;\n"]);return A=function(){return n},n}function j(){var n=(0,a._)(["\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  padding: 5px 10px !important;\n  border-bottom: 1px solid lightgray;\n  cursor: pointer;\n\n  &::before {\n\n  }\n"]);return j=function(){return n},n}function S(){var n=(0,a._)(["\n  max-height: 300px;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 45px;\n  left: 20px;\n  margin-top: 3px !important;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n  overflow: hidden;\n  overflow-y: scroll;\n  opacity: ",";\n"]);return S=function(){return n},n}function w(){var n=(0,a._)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n"]);return w=function(){return n},n}function C(){var n=(0,a._)(["\n  width: 150px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 10px;\n  background-color: #fff;\n"]);return C=function(){return n},n}function k(){var n=(0,a._)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  ","\n"]);return k=function(){return n},n}function T(){var n=(0,a._)(["\n  position: absolute;\n  top: 45px;\n  z-index: 5;\n"]);return T=function(){return n},n}function R(){var n=(0,a._)(["\n  padding: 4px 35px;\n  background-color: ",";\n  color: #fff;\n  border: none;\n  border-radius: 10px;\n  font-size: 20px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n\n  ","\n  &:hover {\n    filter: brightness(1.1);\n  }\n\n"]);return R=function(){return n},n}function N(){var n=(0,a._)(["\n  color: ",";\n  margin-left: 10px !important;\n  cursor: pointer;\n"]);return N=function(){return n},n}function D(){var n=(0,a._)(["\n  height: 22px;\n  width: 22px;\n  vertical-align: middle;\n  cursor: pointer;\n"]);return D=function(){return n},n}function z(){var n=(0,a._)(["\n  display: flex;\n  position: relative;\n"]);return z=function(){return n},n}function H(){var n=(0,a._)(["\n  width: 150px;\n  padding: 4px 15px !important;\n  background-color: #fff;\n  border-radius: 10px;\n  font-size: 20px;\n  vertical-align: middle;\n  box-shadow: rgba(99, 99, 99, 0.2) 0 2px 8px 0;\n"]);return H=function(){return n},n}function I(){var n=(0,a._)(["\n  margin-left: 20px;\n  margin-right: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  ","\n"]);return I=function(){return n},n}function L(){var n=(0,a._)(["\n  width: 100%;\n  min-height: 200px;\n  padding: 5px 10px !important;\n  border: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return L=function(){return n},n}function O(){var n=(0,a._)(["\n  border-radius: 5px;\n  padding: 0 5px !important;\n  color: ",";\n  font-size: 20px;\n"]);return O=function(){return n},n}function B(){var n=(0,a._)(["\n  width: 95%;\n  height: 50%;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #E6E8EB;\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  margin: 20px auto;\n  overflow: hidden;\n  box-shadow: 0 3px 20px rgb(0 0 0 / 4%);\n"]);return B=function(){return n},n}function K(){var n=(0,a._)(["\n  width: 100%;\n"]);return K=function(){return n},n}function F(){var n=(0,a._)(["\n  padding: 1rem !important;\n"]);return F=function(){return n},n}var M=c.default.div(E(),(0,h.extrasmall)({margin:"0  0 0 auto !important"})),U=c.default.span(b(),s.mainColor),G=c.default.input(y(),s.mainColor,s.color_2),P=c.default.span(A()),W=c.default.div(j()),q=c.default.div(S(),function(n){return n.opacity}),J=c.default.div(w()),Q=c.default.div(C()),V=c.default.section(k(),(0,h.extrasmall)({flexDirection:"column"})),X=c.default.div(T()),Y=c.default.button(R(),s.mainColor,(0,h.extrasmall)({padding:"6px 45px",margin:"35px auto"})),Z=c.default.label(N(),s.mainColor),$=c.default.input.attrs({type:"radio"})(D()),nn=c.default.div(z()),ne=c.default.div(H()),nt=c.default.div(I(),(0,h.extrasmall)({margin:0})),nr=c.default.textarea(L()),no=c.default.span(O(),s.mainColor),ni=c.default.div(B()),na=c.default.form(K()),nu=c.default.div(F()),nl=function(){var n=(0,x.useSelector)(function(n){var e;return null==n?void 0:null===(e=n.section)||void 0===e?void 0:e.section}),e=(0,i._)((0,l.useState)("ALL_TEACHER"),2),t=e[0],a=e[1],c=(0,i._)((0,l.useState)(""),2),h=c[0],E=c[1],b=(0,i._)((0,l.useState)(""),2),y=b[0],A=b[1],j=(0,m.useNavigate)(),S=(0,i._)((0,l.useState)([]),2),w=S[0],C=S[1],k=(0,i._)((0,l.useState)(""),2),T=k[0],R=k[1],N=(0,i._)((0,l.useState)(""),2),D=N[0],z=N[1],H=(0,i._)((0,l.useState)({messageBody:T,smsType:t,status:"SENDING",userId:D}),2),I=H[0],L=H[1];(0,l.useEffect)(function(){if(h.length<3)C([]);else{var n=localStorage.getItem(s.TOKEN),e={Authorization:s.TokenType+n,"Access-Control-Allow-Origin":"*"};d.default.get(s.BASE_URL+s.DEKAN.GET_USER_SEARCHING_FOR_DEKAN+h,{headers:e}).then(function(n){var e;(null===(e=n.data)||void 0===e?void 0:e.length)!==0?C(function(){return n.data}):C([])}).catch(function(n){console.log(n)})}},[h]),(0,l.useEffect)(function(){L(function(n){return(0,o._)((0,r._)({},n),{messageBody:T})})},[T]),(0,l.useEffect)(function(){L(function(n){return(0,o._)((0,r._)({},n),{smsType:t})})},[t]),(0,l.useEffect)(function(){L(function(n){return(0,o._)((0,r._)({},n),{userId:D})})},[D]);var O=function(n){switch(n.preventDefault(),t){case"ALL_TEACHER":z(null),""===T?alert("Error, empty message of sms..."):B();break;case"TEACHER":""!==D&&""!==T?B():alert("Error, empty message of sms or do not choose teacher...");break;default:console.log("default")}},B=function(){var n=localStorage.getItem(s.TOKEN),e={Authorization:s.TokenType+n,"Access-Control-Allow-Origin":"*"};d.default.post(s.BASE_URL+s.DEKAN.SMS_CREATE,I,{headers:e}).then(function(n){200===n.status&&f.toast.success("Sending SMS successfully!")}).catch(function(n){f.toast.warning("Error..."),console.log(n)})};return(0,u.jsxs)(nu,{children:[(0,u.jsxs)(_.default,{sx:{display:"flex",justifyContent:"space-between",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[(0,u.jsxs)(no,{children:["Message: ","TEACHER"===t?t+" "+y:t]}),(0,u.jsx)(g.default,{component:M,onClick:function(){return j("smsHistory")},variant:"contained",endIcon:(0,u.jsx)(v.BiMailSend,{size:25}),children:"message history"})]}),(0,u.jsxs)(na,{onSubmit:function(n){return O(n)},children:[(0,u.jsx)(ni,{children:(0,u.jsx)(nr,{name:T,value:T,onChange:function(n){return R(n.target.value)}})}),(0,u.jsxs)(V,{children:[(0,u.jsxs)(nt,{children:[(0,u.jsxs)(ne,{children:[(0,u.jsx)($,{id:"all",name:"type",checked:"ALL_TEACHER"===t,onChange:function(){return a(function(){return"ALL_TEACHER"})}}),(0,u.jsx)(Z,{htmlFor:"all",children:"All"})]}),(0,u.jsxs)(nn,{children:[(0,u.jsxs)(ne,{children:[(0,u.jsx)($,{id:"teacher",name:"type",onChange:function(){return a(function(){return"TEACHER"})}}),(0,u.jsx)(Z,{htmlFor:"teacher",children:"Teacher"})]}),(0,u.jsx)(X,{children:"TEACHER"===t&&(0,u.jsxs)(J,{children:[(0,u.jsxs)(Q,{children:[(0,u.jsx)(G,{value:h,onChange:function(n){return E(n.target.value)},placeholder:"UserID or Passport"}),(0,u.jsx)(U,{onClick:function(){if(console.log(h," search  ================================  handleSearch"),""!==h&&h.length>2){var e=localStorage.getItem(s.TOKEN),t={Authorization:s.TokenType+e,"Access-Control-Allow-Origin":"*"};d.default.get(s.BASE_URL+s.KAFEDRA.GET_TEACHERS_FOR_SEND_SMS+"?search="+h+"&kafedraId="+(null==n?void 0:n.id),{headers:t}).then(function(n){var e;(null===(e=n.data)||void 0===e?void 0:e.length)!==0?C(function(){return n.data}):(A(""),alert("\u26A0\uFE0F Not fount user!...\uD83D\uDE14"))}).catch(function(n){console.log(n)})}else alert("Enter search param")},children:(0,u.jsx)(p.FaSearch,{})})]}),(0,u.jsx)(q,{opacity:w.length>0?1:0,style:{display:"block",position:"absolute",top:"35px"},children:null==w?void 0:w.map(function(n){return(0,u.jsx)(W,{onClick:function(e){e.preventDefault(),z(null==n?void 0:n.id),A(null==n?void 0:n.fullName),E("")},children:(0,u.jsx)(P,{children:null==n?void 0:n.fullName})},null==n?void 0:n.id)})})]})})]})]}),(0,u.jsx)(Y,{onClick:function(){return console.log(I,"sms")},children:"Send"})]})]})]})}}}]);